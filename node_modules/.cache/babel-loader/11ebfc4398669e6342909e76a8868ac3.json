{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/King/Desktop/batcave/superstarboy/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"C:/Users/King/Desktop/batcave/superstarboy/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _objectSpread from\"C:/Users/King/Desktop/batcave/superstarboy/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"C:/Users/King/Desktop/batcave/superstarboy/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _toConsumableArray from\"C:/Users/King/Desktop/batcave/superstarboy/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import React,{useState,useEffect,useRef}from\"react\";import{matchPc,matchTablet,matchMobile}from\"../DetectDevice\";import{Grid}from\"@material-ui/core\";import{useSelector}from\"react-redux\";import{animated}from\"react-spring\";import ChevronRightIcon from\"@mui/icons-material/ChevronRight\";import CircleIcon from\"@mui/icons-material/Circle\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function ImageFilterinnerx(_ref){var optionsShow=_ref.optionsShow,optinstopshowingReducer=_ref.optinstopshowingReducer,typeTop=_ref.typeTop,selectedImage=_ref.selectedImage,closeoptionsslide=_ref.closeoptionsslide,animationop=_ref.animationop,optionsCollectImageRef=_ref.optionsCollectImageRef,handleTouchStartOptions=_ref.handleTouchStartOptions,handleTouchMoveOptions=_ref.handleTouchMoveOptions,modalanimation=_ref.modalanimation,nextSlidePc=_ref.nextSlidePc,optionsImages=_ref.optionsImages,ActiveSlide=_ref.ActiveSlide,optionsNameData=_ref.optionsNameData,clickOptions=_ref.clickOptions,optionsClickType=_ref.optionsClickType,getSliderWidthNew=_ref.getSliderWidthNew,itemUploadRef=_ref.itemUploadRef,imageFiltersRef=_ref.imageFiltersRef,getImageWidth=_ref.getImageWidth,length=_ref.length,itemUploadRefThumb=_ref.itemUploadRefThumb,loadedimage=_ref.loadedimage,startSuperSticker=_ref.startSuperSticker,duplicateItemupload=_ref.duplicateItemupload,activeSticker=_ref.activeSticker,setactiveSticker=_ref.setactiveSticker,seteffectMode=_ref.seteffectMode,effectMode=_ref.effectMode,setcallfilter=_ref.setcallfilter,callfilter=_ref.callfilter,regimageholdfilter=_ref.regimageholdfilter,setregimageholdfilter=_ref.setregimageholdfilter,FilterUnderStickerStopFiltering=_ref.FilterUnderStickerStopFiltering,trapfilters=_ref.trapfilters,settrapfilters=_ref.settrapfilters,sethdfilter=_ref.sethdfilter,hdfilter=_ref.hdfilter,superstickerIndex=_ref.superstickerIndex,superzeroeffect=_ref.superzeroeffect,finalImageData=_ref.finalImageData,setfinalImageData=_ref.setfinalImageData,setstartTopicCap=_ref.setstartTopicCap,itemUploadRefSD=_ref.itemUploadRefSD,setsupeFilterLoadFade=_ref.setsupeFilterLoadFade;var finalImageDataxx=_toConsumableArray(finalImageData);var effectModexx=_toConsumableArray(effectMode);var regimageholdfilterxx=_toConsumableArray(regimageholdfilter);var trapfiltersxx=_toConsumableArray(trapfilters);var _useState=useState(false),_useState2=_slicedToArray(_useState,2),blink=_useState2[0],setblink=_useState2[1];var getFilterWidthViewable=useRef([]);var getFilterWidthfull=useRef([]);var Timer=useRef(null);var addedwidth;addedwidth=matchTablet||matchMobile?10.6:25;var thumbsLength=13;///\n///\n///\n///DARKMODE FROM REDUX\nvar _useSelector=useSelector(function(state){return _objectSpread({},state.GlobalReducer);}),darkmode=_useSelector.darkmode;var darkmodeReducer=darkmode;///\n///\n///\n/// GET GLOBAL INNER NAVIGATION VARIABLE\nvar _useSelector2=useSelector(function(state){return _objectSpread({},state.GlobalNavuploadReducer);}),activatefilterImage=_useSelector2.activatefilterImage;var activatefilterImageReducer=activatefilterImage;var circleIdentify=typeTop?0:4;var circleIdentify2=typeTop?1:5;///\n///\n/// GET COLOR FROM REDUX STORE\nvar _useSelector3=useSelector(function(state){return _objectSpread({},state.GlobalReducerColor);}),color=_useSelector3.color,colordark=_useSelector3.colordark,colortype=_useSelector3.colortype;var colorReducer=color;var colorReducerdark=colordark;var colortypeReducer=colortype;var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),showfiltersOnload=_useState4[0],setshowfiltersOnload=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),allow=_useState6[0],setallow=_useState6[1];var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),showfiltersOnloadblur=_useState8[0],setshowfiltersOnloadblur=_useState8[1];var _useState9=useState(false),_useState10=_slicedToArray(_useState9,2),gotoCaption=_useState10[0],setgotoCaption=_useState10[1];useEffect(function(){if(gotoCaption){}},[gotoCaption]);var addimageFiltersRef=function addimageFiltersRef(imageRef){if(imageRef&&!imageFiltersRef.current.includes(imageRef)){imageFiltersRef.current.push(imageRef);}////console.log(postItemsRef.current[1]);\n};var canvasRef=useRef(null);var canvasRefdummy=useRef(null);function blend(background,foreground,width,height,transform){var bottom=background.getImageData(0,0,width,height);var top=foreground.getImageData(0,0,width,height);for(var i=0,size=top.data.length;i<size;i+=4){// red\ntop.data[i+0]=transform(bottom.data[i+0],top.data[i+0]);// green\ntop.data[i+1]=transform(bottom.data[i+1],top.data[i+1]);// blue\ntop.data[i+2]=transform(bottom.data[i+2],top.data[i+2]);// the fourth slot is alpha. We don't need that (so skip by 4)\n}return top;}function FilterGradient(width,height,type){var ctx=canvasRefdummy.current.getContext(\"2d\");canvasRefdummy.current.height=height;canvasRefdummy.current.width=width;if(type===\"jentle\"){var gradient=ctx.createLinearGradient(width/73.6,height/33.4,0,width/2,height/2,width*0.6);}else if(type===\"mint\"||type===\"floyd\"){var gradient=ctx.createLinearGradient(width/73.6,height/33.4,0,width/2,height/2,width*0.6);}else if(type===\"tentacion\"){var gradient=ctx.createLinearGradient(width/2,height/2,0,width/2,height/2,width*0.6);}else if(type===\"nebula\"){var gradient=ctx.createLinearGradient(width/2,height/2,0,width/2,height/2,width*0.6);}else if(type===\"juice\"){var gradient=ctx.createRadialGradient(width/2,height/2,0,width/2,height/2,width*0.7);}else if(type===\"moonshine\"){var gradient=ctx.createRadialGradient(width/2,height/2,0,width/2,height/2,width*0.7);}else if(type===\"vintage\"){var gradient=ctx.createRadialGradient(width/2,height/3,0,width/2,height/2,width*0.66);}else if(type===\"futurama\"||type===\"kemi\"){var gradient=ctx.createLinearGradient(width/73.6,height/33.4,0,width/2,height/2,width*0.6);}else{}if(type===\"jentle\"){gradient.addColorStop(0,\"#2c1f1f\");gradient.addColorStop(0.4,\"#41243c\");gradient.addColorStop(1,\"#272122\");}else if(type===\"mint\"){gradient.addColorStop(0.25,\"#2c3431\");gradient.addColorStop(0.5,\"#26483e\");gradient.addColorStop(0.75,\"#232831\");gradient.addColorStop(1,\"#273131\");}else if(type===\"nebula\"){gradient.addColorStop(0,\"#3b1858\");gradient.addColorStop(1,\"#151569\");}else if(type===\"juice\"){gradient.addColorStop(0,\"#242424\");gradient.addColorStop(1,\"#313131\");}else if(type===\"moonshine\"){gradient.addColorStop(0,\"#0e0e14\");gradient.addColorStop(1,\"#17171f\");}else if(type===\"futurama\"){gradient.addColorStop(0.25,\"#5c384c\");gradient.addColorStop(0.5,\"#5c384c\");gradient.addColorStop(0.75,\"#3e452f\");gradient.addColorStop(1,\" #2e3c3f\");}else if(type===\"kemi\"){gradient.addColorStop(0,\"#244a82\");gradient.addColorStop(1,\"#4d3017\");}else if(type===\"tentacion\"){gradient.addColorStop(0,\"#293746\");gradient.addColorStop(0.6,\"#3a2922\");gradient.addColorStop(1,\"#3b355d\");}else if(type===\"vintage\"){gradient.addColorStop(0,\"#353a49\");gradient.addColorStop(1,\"#3d4253\");}else if(type===\"floyd\"){gradient.addColorStop(0,\"#3b3939\");gradient.addColorStop(1,\"#191d1b\");}else{}ctx.fillStyle=gradient;ctx.fillRect(0,0,width,height);return ctx;}///\n///\n///\n/// UPDATE CONFIRM PASSWORD VALUE/ SHOW SPINNER REPEAT PASSWORD\nfunction ApplyImageFilter(typex,index,index2,Ref,method,resolution){//////////////////INITIALIZE  CANVAS\nvar type=typex;if(superzeroeffect[index]){type=\"normal\";}if(type===effectMode[index]&&activeSticker===100&&method!==\"imageHD\"&&method!==\"imageHDall\"){if(index+1>selectedImage.length-1){setblink(false);seteffectMode(effectModexx);setregimageholdfilter(regimageholdfilterxx);}else{ApplyImageFilter(typex,index+1,index2+1,getImageWidth,\"image\",\"sd\");}}else{var previewFileReadimage=new Image();//// previewFileReadimage.src = itemUploadRef.current[index].src;\nif(duplicateItemupload[index]){previewFileReadimage.src=duplicateItemupload[index];}else{if(method===\"imageHDall\"||method===\"imageHD\"||resolution===\"hd\"){previewFileReadimage.src=itemUploadRef.current[index].src;}else{previewFileReadimage.src=itemUploadRefSD.current[index].src;}}var widthx;var heightx;var width;var height;var dynamicDimensions=matchMobile?window.innerHeight/1.1:window.innerHeight*1.2;var dynamicDimensionsx=matchMobile?window.innerWidth*1.5:window.innerWidth/1.1;previewFileReadimage.onload=function(){var ctx=canvasRef.current.getContext(\"2d\");if(previewFileReadimage.naturalWidth>previewFileReadimage.naturalHeight){if(method===\"thumb\"){widthx=matchMobile?155:250;width=matchMobile?155:250;}else{if(resolution===\"hd\"){widthx=previewFileReadimage.naturalWidth;width=previewFileReadimage.naturalWidth;}else{widthx=matchMobile?dynamicDimensionsx*0.7:dynamicDimensionsx*0.8;width=matchMobile?dynamicDimensionsx*0.7:dynamicDimensionsx*0.8;}}var scalex=widthx/previewFileReadimage.naturalWidth;heightx=previewFileReadimage.naturalHeight*scalex;var scale=width/previewFileReadimage.naturalWidth;height=previewFileReadimage.naturalHeight*scale;}else{if(method===\"thumb\"){heightx=matchMobile?150:250;height=matchMobile?150:250;}else{if(resolution===\"hd\"){heightx=previewFileReadimage.naturalHeight;height=previewFileReadimage.naturalHeight;}else{heightx=matchMobile?dynamicDimensions*0.6:dynamicDimensions*0.9;height=matchMobile?dynamicDimensions*0.6:dynamicDimensions*0.9;}}var scalex=heightx/previewFileReadimage.naturalHeight;widthx=previewFileReadimage.naturalWidth*scalex;var scale=height/previewFileReadimage.naturalHeight;width=previewFileReadimage.naturalWidth*scale;}canvasRef.current.height=height;canvasRef.current.width=width;//////////////////INITIALIZE  CANVAS\nrequestAnimationFrame(/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var w,h,gradient,screen,data,res,datax;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0://////////////////CSS EDIT IMAGE WITH CTX.FILTER\nif(type===\"lift\"){ctx.filter=\"contrast(1.25) brightness(0.98) blur(0px) saturate(120%)\";}else if(type===\"floyd\"){ctx.filter=\"contrast(1.2) brightness(0.99) saturate(111%)\";}else if(type===\"jentle\"){ctx.filter=\"contrast(0.82) brightness(0.83) hue-rotate(20deg) saturate(110%) \";}else if(type===\"mint\"){ctx.filter=\"contrast(1.28) brightness(0.99)  saturate(95%)  \";}else if(type===\"nebula\"){ctx.filter=\"contrast(1.2) brightness(1.1)\";}else if(type===\"juice\"){if(method===\"thumb\"&&matchMobile){ctx.filter=\"contrast(1.16) brightness(0.99) saturate(180%) blur(0px)\";}else{ctx.filter=\"contrast(1.16) brightness(0.99) saturate(180%) blur(0.6px)\";}}else if(type===\"futurama\"){ctx.filter=\"contrast(1.3) brightness(0.95) saturate(140%) \";}else if(type===\"kemi\"){ctx.filter=\"contrast(1.4) brightness(0.97) saturate(107%)  hue-rotate(1.4deg)\";}else if(type===\"tentacion\"){ctx.filter=\"contrast(1.32) brightness(0.96) saturate(137%)\";}else if(type===\"moonshine\"){if(method===\"thumb\"&&matchMobile){ctx.filter=\"contrast(1.3) brightness(0.99) saturate(50%) blur(0.8px)\";}else{if(matchMobile){ctx.filter=\"contrast(1.3) brightness(0.99) saturate(50%) blur(1.2px)\";}else{ctx.filter=\"contrast(1.3) brightness(0.99) saturate(50%) blur(2.8px)\";}}}else if(type===\"vintage\"){ctx.filter=\" contrast(1.1)  brightness(0.88)  saturate(12%)\";}else{}//////////////////CSS EDIT IMAGE WITH CTX.FILTER\nctx.drawImage(previewFileReadimage,0,0,canvasRef.current.width,canvasRef.current.height);//////////////////////VIGNETTE\nw=canvasRef.current.width;h=canvasRef.current.height;if(type===\"floyd\"){gradient=ctx.createRadialGradient(w/6.7,h/2,0,w/2.8,h/2,w*0.65);gradient.addColorStop(0,\"rgba(40, 181, 32, 0.118)\");gradient.addColorStop(1,\"rgba(0,0,0,0.3)\");ctx.fillStyle=gradient;ctx.fillRect(0,0,width,height);}else if(type===\"mint\"){gradient=ctx.createRadialGradient(w/2,h/2,0,w/2,h/2,w*0.65);gradient.addColorStop(0,\"rgba(255, 255, 255,0.05)\");gradient.addColorStop(1,\"rgba(0,0,0,0.23)\");ctx.fillStyle=gradient;ctx.fillRect(0,0,width,height);}else if(type===\"lift\"||type===\"juice\"){gradient=ctx.createRadialGradient(w/2,h/3,0,w/2,h/3,w*0.66);gradient.addColorStop(0,\"rgba(255, 255, 255,0.05)\");gradient.addColorStop(1,\"rgba(255, 255, 255,0.05)\");ctx.fillStyle=gradient;ctx.fillRect(0,0,width,height);}else if(type===\"moonshine\"){gradient=ctx.createLinearGradient(w/2,h/3,0,w/2,h/3,w*0.4);gradient.addColorStop(0,\" rgba(255, 255, 255,0.001)\");gradient.addColorStop(1,\"#403d6149\");ctx.fillStyle=gradient;ctx.fillRect(0,0,width,height);gradient=ctx.createRadialGradient(w/2,h/2,0,w/2,h/2,w*0.3);gradient.addColorStop(0,\"rgba(0,0,0,0.02)\");gradient.addColorStop(1,\" rgba(255, 255, 255,0.001)\");ctx.fillStyle=gradient;ctx.fillRect(0,0,width,height);}else if(type===\"vintage\"){gradient=ctx.createRadialGradient(w/2,h/2,0,w/2,h/2,w*0.6);gradient.addColorStop(0,\"rgba(255, 255, 255,0.0004)\");gradient.addColorStop(1,\"rgba(255, 255, 255,0.0004)\");ctx.fillStyle=gradient;ctx.fillRect(0,0,width,height);}else if(type===\"nebula\"){gradient=ctx.createRadialGradient(w/2,h/2,0,w/2,h/2,w*0.65);gradient.addColorStop(0,\"rgba(255, 255, 255, 0.01)\");gradient.addColorStop(1,\"rgba(0, 0, 0, 0.08)\");ctx.fillStyle=gradient;ctx.fillRect(0,0,width,height);}else if(type===\"futurama\"){gradient=ctx.createRadialGradient(w/2,h/2,0,w/2,h/2,w*0.68);gradient.addColorStop(0,\"rgb(163, 218, 37,0.004)\");gradient.addColorStop(1,\"rgb(27, 194, 236,0.004)\");ctx.fillStyle=gradient;ctx.fillRect(0,0,width,height);}else if(type===\"tentacion\"){gradient=ctx.createLinearGradient(w/2,h/71,0,w/19,h/2,w*0.4);gradient.addColorStop(0,\"rgba(255, 255, 255,0)\");gradient.addColorStop(1,\"#20422e5a\");ctx.fillStyle=gradient;ctx.fillRect(0,0,width,height);}else{}//////////////////////VIGNETTE\n//////////////////////GRADIENT BRIGHTNESS\nif(type===\"lift\"||type===\"jentle\"||type===\"tentacion\"){gradient=ctx.createRadialGradient(w/2,h/2,0,w/2,h/2,w*0.6);if(type===\"lift\"){gradient.addColorStop(0,\"#dcecdf16\");gradient.addColorStop(1,\"#dceaec1a\");}else if(type===\"tentacion\"){gradient.addColorStop(0,\"#c9d6df11\");gradient.addColorStop(1,\"#bef0ce13\");}else if(type===\"jentle\"){gradient.addColorStop(0,\"rgba(255, 255, 255,0.008)\");gradient.addColorStop(1,\"rgba(255, 255, 255,0.008)\");}else{}ctx.fillStyle=gradient;ctx.fillRect(0,0,width,height);}//////////////////////GRADIENT BRIGHTNESS\n////////////////// /////// GLOBALCOMPOSITEOPERATION\nif(type===\"lift\"){////////////composition\nctx.globalCompositeOperation=\"overlay\";ctx.fillStyle=\"rgba(100, 100, 100,0.07)\";ctx.fillRect(0,0,width,height);ctx.globalCompositeOperation=\"overlay\";ctx.fillStyle=\"rgba(100, 100, 100,0.07)\";ctx.fillRect(0,0,width,height);////////////composition\n}else if(type===\"floyd\"){////////////composition\nctx.globalCompositeOperation=\"overlay\";ctx.fillStyle=\"#a58e89cc\";ctx.fillRect(0,0,width,height);ctx.globalCompositeOperation=\"overlay\";ctx.fillStyle=\"#a58e89cc\";ctx.fillRect(0,0,width,height);////////////composition\n}else if(type===\"jentle\"){////////////composition\nctx.globalCompositeOperation=\"overlay\";ctx.fillStyle=\"#d3b5b5\";ctx.fillRect(0,0,width,height);ctx.globalCompositeOperation=\"soft-light\";ctx.fillStyle=\"#d3b5b5\";ctx.fillRect(0,0,width,height);////////////composition\n}else if(type===\"mint\"){////////////composition\nctx.globalCompositeOperation=\"overlay\";ctx.fillStyle=\"#25302f18\";ctx.fillRect(0,0,width,height);ctx.globalCompositeOperation=\"soft-light\";ctx.fillStyle=\"#25302f18\";ctx.fillRect(0,0,width,height);////////////composition\n}else if(type===\"nebula\"){////////////composition\nctx.globalCompositeOperation=\"overlay\";ctx.fillStyle=\"#6e6b72cc\";ctx.fillRect(0,0,width,height);ctx.globalCompositeOperation=\"soft-light\";ctx.fillStyle=\"#6c6971cc\";ctx.fillRect(0,0,width,height);////////////composition\n}else if(type===\"moonshine\"){////////////composition\nctx.globalCompositeOperation=\"soft-light\";ctx.fillStyle=\"#77479f68\";ctx.fillRect(0,0,width,height);ctx.globalCompositeOperation=\"overlay\";ctx.fillStyle=\"#69359368\";ctx.fillRect(0,0,width,height);////////////composition\n}else if(type===\"juice\"){////////////composition\nctx.globalCompositeOperation=\"overlay\";ctx.fillStyle=\"#5b6c7014\";ctx.fillRect(0,0,width,height);ctx.globalCompositeOperation=\"overlay\";ctx.fillStyle=\"#5b6c7014\";ctx.fillRect(0,0,width,height);ctx.globalCompositeOperation=\"overlay\";ctx.fillStyle=\"#5b6c7014\";ctx.fillRect(0,0,width,height);////////////composition\n}else if(type===\"futurama\"){////////////composition\nctx.globalCompositeOperation=\"overlay\";ctx.fillStyle=\"#11181f1f\";ctx.fillRect(0,0,width,height);ctx.globalCompositeOperation=\"screen\";ctx.fillStyle=\"#11181f1f\";ctx.fillRect(0,0,width,height);////////////composition\n}else if(type===\"kemi\"){////////////composition\nctx.globalCompositeOperation=\"screen\";ctx.fillStyle=\"#69758113\";ctx.fillRect(0,0,width,height);ctx.globalCompositeOperation=\"overlay\";ctx.fillStyle=\"#69758113\";ctx.fillRect(0,0,width,height);////////////composition\n}else if(type===\"tentacion\"){////////////composition\nctx.globalCompositeOperation=\"soft-light\";ctx.fillStyle=\"#2c2b2937\";ctx.fillRect(0,0,width,height);ctx.globalCompositeOperation=\"soft-light\";ctx.fillStyle=\"#2c2b2937\";ctx.fillRect(0,0,width,height);////////////composition\n}else if(type===\"vintage\"){////////////composition\nctx.globalCompositeOperation=\"soft-light\";ctx.fillStyle=\"#40404b4e\";ctx.fillRect(0,0,width,height);ctx.globalCompositeOperation=\"soft-light\";ctx.fillStyle=\"#2c2c3a4e\";ctx.fillRect(0,0,width,height);////////////composition\n}else{}////////////////// /////// GLOBALCOMPOSITEOPERATION\n////////////////////GRADIENT BLENDING\nif(type===\"jentle\"||type===\"mint\"||type===\"nebula\"||type===\"juice\"||type===\"futurama\"||type===\"kemi\"||type===\"tentacion\"||type===\"moonshine\"||type===\"vintage\"||type===\"floyd\"){gradient=FilterGradient(width,height,type);screen=blend(ctx,gradient,width,height,function(bottomPixel,topPixel){return 255-(255-topPixel)*(255-bottomPixel)/255;});ctx.putImageData(screen,0,0);}////////////////////GRADIENT BLENDING\n_context.prev=8;KeepCallingThumbnail4Filters(Ref,ctx,index2,method);if(!(method===\"image\"||method===\"imageHD\"||method===\"imageHDall\")){_context.next=25;break;}data=canvasRef.current.toDataURL();Ref.current[index].src=data;if(!(method===\"imageHDall\")){_context.next=21;break;}_context.next=16;return fetch(data);case 16:res=_context.sent;_context.next=19;return res.blob();case 19:datax=_context.sent;finalImageDataxx[index]=datax;case 21:regimageholdfilterxx[index]=data;effectModexx[index]=type;ctx.clearRect(0,0,canvasRef.current.width,canvasRef.current.height);if(method===\"imageHD\"){sethdfilter(false);setblink(false);seteffectMode(effectModexx);setregimageholdfilter(regimageholdfilterxx);}else{if(index+1>selectedImage.length-1){setblink(false);if(method===\"imageHDall\"){setfinalImageData(finalImageDataxx);setsupeFilterLoadFade(false);setstartTopicCap(true);}seteffectMode(effectModexx);setregimageholdfilter(regimageholdfilterxx);}else{if(method===\"imageHDall\"){ApplyImageFilter(effectMode[index+1],index+1,index2+1,getImageWidth,\"imageHDall\",\"hd\");}else{ApplyImageFilter(typex,index+1,index2+1,getImageWidth,\"image\",\"sd\");}}}case 25:if(method===\"supersticker\"){if(FilterUnderStickerStopFiltering){trapfiltersxx[index]=true;settrapfilters(trapfiltersxx);}else{trapfiltersxx[index]=false;settrapfilters(trapfiltersxx);}data=canvasRef.current.toDataURL();Ref.current[index].src=data;if(effectMode[index]!==\"normal\"){if(duplicateItemupload[index]){}else{regimageholdfilterxx[index]=data;setregimageholdfilter(regimageholdfilterxx);}}ctx.clearRect(0,0,canvasRef.current.width,canvasRef.current.height);setactiveSticker(100);}_context.next=31;break;case 28:_context.prev=28;_context.t0=_context[\"catch\"](8);console.log(\"filtermode  filter error\");case 31:case\"end\":return _context.stop();}}},_callee,null,[[8,28]]);})));canvasRef.current.style.width=\"\".concat(widthx,\"px\");canvasRef.current.style.height=\"\".concat(heightx,\"px\");};}}var KeepCallingThumbnail4Filters=function KeepCallingThumbnail4Filters(Ref,ctx,index2,method){//// const gg = await ctx.putImageData(screen, 0, 0);\nif(method===\"thumb\"){Ref.current[index2].src=canvasRef.current.toDataURL();ctx.clearRect(0,0,canvasRef.current.width,canvasRef.current.height);if(index2===1){ApplyImageFilter(\"juice\",0,index2+1,imageFiltersRef,\"thumb\",\"sd\");}else if(index2===2){ApplyImageFilter(\"kemi\",0,index2+1,imageFiltersRef,\"thumb\",\"sd\");}else if(index2===3){ApplyImageFilter(\"futurama\",0,index2+1,imageFiltersRef,\"thumb\",\"sd\");}else if(index2===4){ApplyImageFilter(\"tentacion\",0,index2+1,imageFiltersRef,\"thumb\",\"sd\");}else if(index2===5){ApplyImageFilter(\"floyd\",0,index2+1,imageFiltersRef,\"thumb\",\"sd\");}else if(index2===6){ApplyImageFilter(\"nebula\",0,index2+1,imageFiltersRef,\"thumb\",\"sd\");}else if(index2===7){ApplyImageFilter(\"jentle\",0,index2+1,imageFiltersRef,\"thumb\",\"sd\");}else if(index2===8){ApplyImageFilter(\"mint\",0,index2+1,imageFiltersRef,\"thumb\",\"sd\");}else if(index2===9){ApplyImageFilter(\"moonshine\",0,index2+1,imageFiltersRef,\"thumb\",\"sd\");}else if(index2===10){ApplyImageFilter(\"vintage\",0,index2+1,imageFiltersRef,\"thumb\",\"sd\");setshowfiltersOnloadblur(true);}else{ApplyImageFilter(\"normal\",0,0,getImageWidth,\"image\",\"sd\");}}};useEffect(function(){if(hdfilter){ApplyImageFilter(effectMode[superstickerIndex],superstickerIndex,0,getImageWidth,\"imageHD\",\"hd\");}},[hdfilter]);useEffect(function(){if(startSuperSticker){}else{if(activeSticker!=100){if(duplicateItemupload[activeSticker]){ApplyImageFilter(\"normal\",activeSticker,0,getImageWidth,\"supersticker\",\"sd\");}else{ApplyImageFilter(effectMode[activeSticker],activeSticker,0,getImageWidth,\"supersticker\",\"sd\");}}}},[startSuperSticker]);useEffect(function(){if(imageFiltersRef&&activatefilterImageReducer){setTimeout(function(){setallow(true);setshowfiltersOnloadblur(false);setshowfiltersOnload(true);ApplyImageFilter(\"lift\",0,1,imageFiltersRef,\"thumb\",\"sd\");},350);}},[activatefilterImageReducer]);var startImageFilter=function startImageFilter(i){if(i===12&&ActiveSlide===i){setsupeFilterLoadFade(true);ApplyImageFilter(effectMode[0],0,0,getImageWidth,\"imageHDall\",\"hd\");}else{clickOptions(i,optionsClickType,\"filter\");if(Timer.current){clearTimeout(Timer.current);}if(ActiveSlide===i){setblink(true);ApplyImageFilter(optionsNameData[i],0,0,getImageWidth,\"image\",\"sd\");}else{if(i===12){}else{Timer.current=setTimeout(function(){setblink(true);ApplyImageFilter(optionsNameData[i],0,0,getImageWidth,\"image\",\"sd\");},2000);}}}};var clickOptionsOutter=function clickOptionsOutter(i,optionsClickType,source){if(Timer.current){clearTimeout(Timer.current);}if(i===-1){clickOptions(optionsImages.length,optionsClickType,\"filter2\");}else if(i>optionsImages.length-1){clickOptions(0,optionsClickType,\"filter\");}else{clickOptions(i,optionsClickType,\"filter\");}};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"canvas\",{ref:canvasRef,style:{padding:\"0px\",position:\"fixed\",top:\"-400%\",zIndex:0,visibility:\"hidden\"}}),/*#__PURE__*/_jsx(\"canvas\",{ref:canvasRefdummy,style:{padding:\"0px\",display:\"none\",position:\"fixed\",top:\"-400%\",zIndex:0,visibility:\"hidden\"}}),optionsShow&&allow?/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(animated.div,{ref:getFilterWidthViewable,style:animationop,children:[matchPc?/*#__PURE__*/_jsxs(_Fragment,{children:[\" \",/*#__PURE__*/_jsxs(Grid,{container:true,style:{zIndex:10,height:\"0px\",width:\"100%\",position:\"fixed\",marginTop:\"\".concat((getSliderWidthNew+addedwidth)/2,\"px\")},children:[/*#__PURE__*/_jsxs(Grid,{item:true,xs:2,style:{zIndex:10,height:\"0px\",textAlign:\"left\"},children:[\" \",/*#__PURE__*/_jsx(CircleIcon,{onMouseDown:function onMouseDown(){clickOptionsOutter(ActiveSlide-1,optionsClickType,\"filter\");},className:darkmodeReducer?\"make-small-icons-clickable-dark  buttonshake dontallowhighlighting zuperkinginfo \":\"make-small-icons-clickable-light  buttonshake  dontallowhighlighting  zuperkinginfo  \",style:{filter:showfiltersOnloadblur?\"blur(0px)\":\"blur(4px)\",marginTop:\"4vh\",fontSize:\"1.6vw\",cursor:\"pointer\",color:darkmodeReducer?\"rgba(200, 200, 200, 0.7)\":\"rgba(005, 005, 005, 0.6)\"}}),\" \"]}),/*#__PURE__*/_jsx(Grid,{item:true,xs:8,style:{height:\"0px\"}}),/*#__PURE__*/_jsxs(Grid,{item:true,xs:2,style:{zIndex:10,height:\"0px\",textAlign:\"right\"},children:[\" \",/*#__PURE__*/_jsx(CircleIcon,{className:darkmodeReducer?\"make-small-icons-clickable-dark  buttonshake dontallowhighlighting zuperkinginfo \":\"make-small-icons-clickable-light  buttonshake  dontallowhighlighting  zuperkinginfo  \",onMouseDown:function onMouseDown(){clickOptionsOutter(ActiveSlide+1,optionsClickType,\"filter\");},style:{filter:showfiltersOnloadblur?\"blur(0px)\":\"blur(4px)\",marginTop:\"4vh\",fontSize:\"1.6vw\",cursor:\"pointer\",color:darkmodeReducer?\"rgba(200, 200, 200, 0.7)\":\"rgba(005, 005, 005, 0.6)\"}}),\" \"]})]})]}):null,/*#__PURE__*/_jsx(Grid,{container:true,className:typeTop?darkmodeReducer?\"optionsTop-background-dark \":\"optionsTop-background-light \":\"\",onTouchStart:handleTouchStartOptions,onTouchMove:handleTouchMoveOptions,style:{zIndex:1,padding:\"0px\",top:matchPc?typeTop?\"-2vh\":\"0vh\":\"0vh\",position:\"relative\",paddingRight:\"200px\",margin:\"0 auto\",overflow:\"hidden\",left:\"0px\",height:matchPc?\"auto\":\"25vh\",paddingBottom:\"1px\"},children:/*#__PURE__*/_jsx(animated.div,{ref:optionsCollectImageRef,style:modalanimation,children:optionsImages.map(function(im,i){return/*#__PURE__*/_jsxs(Grid,{item:true,xs:12,style:{},children:[/*#__PURE__*/_jsx(Grid,{item:true,xs:12,style:{margin:\"auto\",textAlign:\"center\",position:\"relative\",top:matchPc?\"1.55vh\":\"0.54em\"},children:/*#__PURE__*/_jsxs(Grid,{className:blink?\"blinken\":\"\",item:true,xs:12,style:{margin:\"auto\",marginLeft:\"2vw\",paddingBottom:\"0px\",fontFamily:\"kaushan_scriptregular\",fontSize:matchPc?\"1.5vw\":matchTablet?\"2.08vh\":\"2.4vh\",fontWeight:\"bolder\",visibility:ActiveSlide===i?\"visible\":\"hidden\",filter:darkmodeReducer?\"drop-shadow(1.2px 0.1px 1.92px rgba(255, 255, 255, 0.4))\":\"drop-shadow(1.2px 0.1px 1.92px rgba(41, 53, 70, 8.35))\",color:darkmodeReducer?\"#dddddd\":\"#000000\"},children:[\" \",optionsNameData[i]]})}),showfiltersOnload?i===12?/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(\"div\",{onMouseDown:function onMouseDown(){startImageFilter(i);},style:{cursor:ActiveSlide===i?\"pointer\":\"alias\",width:\"\".concat(getSliderWidthNew+addedwidth-5,\"px\"),height:\"\".concat(getSliderWidthNew+addedwidth-5,\"px\"),backgroundColor:darkmodeReducer?\"rgba(010,010,010, 0.68)\":\"rgba(211,211,211, 0.7)\",borderRadius:\"50%\",marginLeft:\"2vw\",marginTop:\"2.15vh\",textAlign:\"center\",alignItems:\"center\",display:\"grid\",justifyContent:\"center\",boxShadow:darkmodeReducer?ActiveSlide===i?colortypeReducer===0?\"0 0 5.5px \".concat(colorReducerdark):\"0 0 5.5px \".concat(colorReducer):\"0 0 1.5px#aaaaaa\":ActiveSlide===i?\"0 0 5.5px \".concat(colorReducer):\"0 0 1.45px#222222\"},children:/*#__PURE__*/_jsx(ChevronRightIcon,{style:{fontSize:matchPc?\"3.4vw\":\"5vh\",color:darkmodeReducer?\"#eeeeee\":\"#222222\"},className:\"zuperkinginfo\"})})}):/*#__PURE__*/_jsxs(_Fragment,{children:[\" \",/*#__PURE__*/_jsx(\"img\",{ref:addimageFiltersRef,alt:\" \".concat(optionsNameData[i],\"  option\"),onMouseDown:function onMouseDown(){startImageFilter(i);},style:{backgroundColor:\"red\",cursor:ActiveSlide===i?\"pointer\":\"copy\",width:\"\".concat(getSliderWidthNew+addedwidth,\"px\"),height:\"\".concat(getSliderWidthNew+addedwidth,\"px\"),borderRadius:\"50%\",padding:\"0px\",objectFit:\"cover\",marginLeft:\"2vw\",marginTop:\"13px\",filter:showfiltersOnloadblur?\"blur(0px)\":\"blur(4px)\",boxShadow:darkmodeReducer?ActiveSlide===i?colortypeReducer===0?\"0 0 6.8px \".concat(colorReducerdark):\"0 0 6.8px \".concat(colorReducer):typeTop?\"0 0 12.5px#aaaaaa\":\"\":ActiveSlide===i?\"0 0 5.7px \".concat(colorReducer):typeTop?\"0 0 14.45px#222222\":\"\"},src:itemUploadRefThumb.current[0]?itemUploadRefThumb.current[0].src:null})]}):null]},i);})})})]})}):null]});}export var ImageFilterinner=/*#__PURE__*/React.memo(ImageFilterinnerx);","map":{"version":3,"sources":["C:/Users/King/Desktop/batcave/superstarboy/src/profile/ImageFilterinner.tsx"],"names":["React","useState","useEffect","useRef","matchPc","matchTablet","matchMobile","Grid","useSelector","animated","ChevronRightIcon","CircleIcon","ImageFilterinnerx","optionsShow","optinstopshowingReducer","typeTop","selectedImage","closeoptionsslide","animationop","optionsCollectImageRef","handleTouchStartOptions","handleTouchMoveOptions","modalanimation","nextSlidePc","optionsImages","ActiveSlide","optionsNameData","clickOptions","optionsClickType","getSliderWidthNew","itemUploadRef","imageFiltersRef","getImageWidth","length","itemUploadRefThumb","loadedimage","startSuperSticker","duplicateItemupload","activeSticker","setactiveSticker","seteffectMode","effectMode","setcallfilter","callfilter","regimageholdfilter","setregimageholdfilter","FilterUnderStickerStopFiltering","trapfilters","settrapfilters","sethdfilter","hdfilter","superstickerIndex","superzeroeffect","finalImageData","setfinalImageData","setstartTopicCap","itemUploadRefSD","setsupeFilterLoadFade","finalImageDataxx","effectModexx","regimageholdfilterxx","trapfiltersxx","blink","setblink","getFilterWidthViewable","getFilterWidthfull","Timer","addedwidth","thumbsLength","state","GlobalReducer","darkmode","darkmodeReducer","GlobalNavuploadReducer","activatefilterImage","activatefilterImageReducer","circleIdentify","circleIdentify2","GlobalReducerColor","color","colordark","colortype","colorReducer","colorReducerdark","colortypeReducer","showfiltersOnload","setshowfiltersOnload","allow","setallow","showfiltersOnloadblur","setshowfiltersOnloadblur","gotoCaption","setgotoCaption","addimageFiltersRef","imageRef","current","includes","push","canvasRef","canvasRefdummy","blend","background","foreground","width","height","transform","bottom","getImageData","top","i","size","data","FilterGradient","type","ctx","getContext","gradient","createLinearGradient","createRadialGradient","addColorStop","fillStyle","fillRect","ApplyImageFilter","typex","index","index2","Ref","method","resolution","previewFileReadimage","Image","src","widthx","heightx","dynamicDimensions","window","innerHeight","dynamicDimensionsx","innerWidth","onload","naturalWidth","naturalHeight","scalex","scale","requestAnimationFrame","filter","drawImage","w","h","globalCompositeOperation","screen","bottomPixel","topPixel","putImageData","KeepCallingThumbnail4Filters","toDataURL","fetch","res","blob","datax","clearRect","console","log","style","setTimeout","startImageFilter","clearTimeout","clickOptionsOutter","source","padding","position","zIndex","visibility","display","marginTop","textAlign","fontSize","cursor","paddingRight","margin","overflow","left","paddingBottom","map","im","marginLeft","fontFamily","fontWeight","backgroundColor","borderRadius","alignItems","justifyContent","boxShadow","objectFit","ImageFilterinner","memo"],"mappings":"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","sourcesContent":["import React, { useState, useEffect, useRef } from \"react\";\r\nimport { matchPc, matchTablet, matchMobile } from \"../DetectDevice\";\r\nimport { Grid } from \"@material-ui/core\";\r\nimport MoreHorizIcon from \"@material-ui/icons/MoreHoriz\";\r\nimport { RootStateOrAny, useSelector, useDispatch } from \"react-redux\";\r\nimport { useSpring, animated } from \"react-spring\";\r\nimport ChevronRightIcon from \"@mui/icons-material/ChevronRight\";\r\nimport CircleIcon from \"@mui/icons-material/Circle\";\r\nimport SettingsIcon from \"@mui/icons-material/Settings\";\r\n\r\nfunction ImageFilterinnerx({\r\n  optionsShow,\r\n  optinstopshowingReducer,\r\n  typeTop,\r\n  selectedImage,\r\n  closeoptionsslide,\r\n  animationop,\r\n  optionsCollectImageRef,\r\n  handleTouchStartOptions,\r\n  handleTouchMoveOptions,\r\n  modalanimation,\r\n  nextSlidePc,\r\n  optionsImages,\r\n  ActiveSlide,\r\n  optionsNameData,\r\n  clickOptions,\r\n  optionsClickType,\r\n  getSliderWidthNew,\r\n  itemUploadRef,\r\n  imageFiltersRef,\r\n  getImageWidth,\r\n  length,\r\n  itemUploadRefThumb,\r\n  loadedimage,\r\n  startSuperSticker,\r\n  duplicateItemupload,\r\n  activeSticker,\r\n  setactiveSticker,\r\n  seteffectMode,\r\n  effectMode,\r\n  setcallfilter,\r\n  callfilter,\r\n  regimageholdfilter,\r\n  setregimageholdfilter,\r\n  FilterUnderStickerStopFiltering,\r\n  trapfilters,\r\n  settrapfilters,\r\n  sethdfilter,\r\n  hdfilter,\r\n  superstickerIndex,\r\n  superzeroeffect,\r\n  finalImageData,\r\n  setfinalImageData,\r\n  setstartTopicCap,\r\n  itemUploadRefSD,\r\n  setsupeFilterLoadFade,\r\n}: any): JSX.Element {\r\n  const finalImageDataxx = [...finalImageData];\r\n  const effectModexx = [...effectMode];\r\n  const regimageholdfilterxx = [...regimageholdfilter];\r\n  const trapfiltersxx = [...trapfilters];\r\n\r\n  const [blink, setblink] = useState(false);\r\n\r\n  const getFilterWidthViewable = useRef<any>([]);\r\n  const getFilterWidthfull = useRef<any>([]);\r\n\r\n  const Timer = useRef<ReturnType<typeof setTimeout> | null>(null);\r\n\r\n  var addedwidth: number;\r\n  addedwidth = matchTablet || matchMobile ? 10.6 : 25;\r\n\r\n  const thumbsLength = 13;\r\n\r\n  ///\r\n  ///\r\n  ///\r\n  ///DARKMODE FROM REDUX\r\n  interface RootStateGlobalReducer {\r\n    GlobalReducer: {\r\n      darkmode: boolean;\r\n    };\r\n  }\r\n  const { darkmode } = useSelector((state: RootStateGlobalReducer) => ({\r\n    ...state.GlobalReducer,\r\n  }));\r\n\r\n  const darkmodeReducer = darkmode;\r\n\r\n  ///\r\n  ///\r\n  ///\r\n  /// GET GLOBAL INNER NAVIGATION VARIABLE\r\n  const { activatefilterImage } = useSelector((state: RootStateOrAny) => ({\r\n    ...state.GlobalNavuploadReducer,\r\n  }));\r\n  const activatefilterImageReducer = activatefilterImage;\r\n\r\n  var circleIdentify = typeTop ? 0 : 4;\r\n  var circleIdentify2 = typeTop ? 1 : 5;\r\n\r\n  ///\r\n  ///\r\n  /// GET COLOR FROM REDUX STORE\r\n  interface RootStateReducerColor {\r\n    GlobalReducerColor: {\r\n      color: string;\r\n      colordark: string;\r\n      colortype: number;\r\n    };\r\n  }\r\n  const { color, colordark, colortype } = useSelector(\r\n    (state: RootStateReducerColor) => ({\r\n      ...state.GlobalReducerColor,\r\n    })\r\n  );\r\n  const colorReducer = color;\r\n  const colorReducerdark = colordark;\r\n  const colortypeReducer = colortype;\r\n\r\n  const [showfiltersOnload, setshowfiltersOnload] = useState(false);\r\n\r\n  const [allow, setallow] = useState(false);\r\n\r\n  const [showfiltersOnloadblur, setshowfiltersOnloadblur] = useState(false);\r\n\r\n  const [gotoCaption, setgotoCaption] = useState<boolean>(false);\r\n\r\n  useEffect(() => {\r\n    if (gotoCaption) {\r\n    }\r\n  }, [gotoCaption]);\r\n\r\n  const addimageFiltersRef = (imageRef: any) => {\r\n    if (imageRef && !imageFiltersRef.current.includes(imageRef)) {\r\n      imageFiltersRef.current.push(imageRef);\r\n    }\r\n    ////console.log(postItemsRef.current[1]);\r\n  };\r\n\r\n  const canvasRef: any = useRef(null);\r\n\r\n  const canvasRefdummy: any = useRef(null);\r\n\r\n  function blend(\r\n    background: any,\r\n    foreground: any,\r\n    width: any,\r\n    height: any,\r\n    transform: any\r\n  ) {\r\n    var bottom = background.getImageData(0, 0, width, height);\r\n    var top = foreground.getImageData(0, 0, width, height);\r\n\r\n    for (var i = 0, size = top.data.length; i < size; i += 4) {\r\n      // red\r\n      top.data[i + 0] = transform(bottom.data[i + 0], top.data[i + 0]);\r\n      // green\r\n      top.data[i + 1] = transform(bottom.data[i + 1], top.data[i + 1]);\r\n      // blue\r\n      top.data[i + 2] = transform(bottom.data[i + 2], top.data[i + 2]);\r\n      // the fourth slot is alpha. We don't need that (so skip by 4)\r\n    }\r\n\r\n    return top;\r\n  }\r\n\r\n  function FilterGradient(width: any, height: any, type: string) {\r\n    var ctx = canvasRefdummy.current.getContext(\"2d\");\r\n    canvasRefdummy.current.height = height;\r\n    canvasRefdummy.current.width = width;\r\n\r\n    if (type === \"jentle\") {\r\n      var gradient = ctx.createLinearGradient(\r\n        width / 73.6,\r\n        height / 33.4,\r\n        0,\r\n        width / 2,\r\n        height / 2,\r\n        width * 0.6\r\n      );\r\n    } else if (type === \"mint\" || type === \"floyd\") {\r\n      var gradient = ctx.createLinearGradient(\r\n        width / 73.6,\r\n        height / 33.4,\r\n        0,\r\n        width / 2,\r\n        height / 2,\r\n        width * 0.6\r\n      );\r\n    } else if (type === \"tentacion\") {\r\n      var gradient = ctx.createLinearGradient(\r\n        width / 2,\r\n        height / 2,\r\n        0,\r\n        width / 2,\r\n        height / 2,\r\n        width * 0.6\r\n      );\r\n    } else if (type === \"nebula\") {\r\n      var gradient = ctx.createLinearGradient(\r\n        width / 2,\r\n        height / 2,\r\n        0,\r\n        width / 2,\r\n        height / 2,\r\n        width * 0.6\r\n      );\r\n    } else if (type === \"juice\") {\r\n      var gradient = ctx.createRadialGradient(\r\n        width / 2,\r\n        height / 2,\r\n        0,\r\n        width / 2,\r\n        height / 2,\r\n        width * 0.7\r\n      );\r\n    } else if (type === \"moonshine\") {\r\n      var gradient = ctx.createRadialGradient(\r\n        width / 2,\r\n        height / 2,\r\n        0,\r\n        width / 2,\r\n        height / 2,\r\n        width * 0.7\r\n      );\r\n    } else if (type === \"vintage\") {\r\n      var gradient = ctx.createRadialGradient(\r\n        width / 2,\r\n        height / 3,\r\n        0,\r\n        width / 2,\r\n        height / 2,\r\n        width * 0.66\r\n      );\r\n    } else if (type === \"futurama\" || type === \"kemi\") {\r\n      var gradient = ctx.createLinearGradient(\r\n        width / 73.6,\r\n        height / 33.4,\r\n        0,\r\n        width / 2,\r\n        height / 2,\r\n        width * 0.6\r\n      );\r\n    } else {\r\n    }\r\n\r\n    if (type === \"jentle\") {\r\n      gradient.addColorStop(0, \"#2c1f1f\");\r\n      gradient.addColorStop(0.4, \"#41243c\");\r\n      gradient.addColorStop(1, \"#272122\");\r\n    } else if (type === \"mint\") {\r\n      gradient.addColorStop(0.25, \"#2c3431\");\r\n      gradient.addColorStop(0.5, \"#26483e\");\r\n      gradient.addColorStop(0.75, \"#232831\");\r\n      gradient.addColorStop(1, \"#273131\");\r\n    } else if (type === \"nebula\") {\r\n      gradient.addColorStop(0, \"#3b1858\");\r\n      gradient.addColorStop(1, \"#151569\");\r\n    } else if (type === \"juice\") {\r\n      gradient.addColorStop(0, \"#242424\");\r\n      gradient.addColorStop(1, \"#313131\");\r\n    } else if (type === \"moonshine\") {\r\n      gradient.addColorStop(0, \"#0e0e14\");\r\n      gradient.addColorStop(1, \"#17171f\");\r\n    } else if (type === \"futurama\") {\r\n      gradient.addColorStop(0.25, \"#5c384c\");\r\n      gradient.addColorStop(0.5, \"#5c384c\");\r\n      gradient.addColorStop(0.75, \"#3e452f\");\r\n      gradient.addColorStop(1, \" #2e3c3f\");\r\n    } else if (type === \"kemi\") {\r\n      gradient.addColorStop(0, \"#244a82\");\r\n      gradient.addColorStop(1, \"#4d3017\");\r\n    } else if (type === \"tentacion\") {\r\n      gradient.addColorStop(0, \"#293746\");\r\n      gradient.addColorStop(0.6, \"#3a2922\");\r\n      gradient.addColorStop(1, \"#3b355d\");\r\n    } else if (type === \"vintage\") {\r\n      gradient.addColorStop(0, \"#353a49\");\r\n      gradient.addColorStop(1, \"#3d4253\");\r\n    } else if (type === \"floyd\") {\r\n      gradient.addColorStop(0, \"#3b3939\");\r\n      gradient.addColorStop(1, \"#191d1b\");\r\n    } else {\r\n    }\r\n\r\n    ctx.fillStyle = gradient;\r\n\r\n    ctx.fillRect(0, 0, width, height);\r\n\r\n    return ctx;\r\n  }\r\n\r\n  ///\r\n  ///\r\n  ///\r\n  /// UPDATE CONFIRM PASSWORD VALUE/ SHOW SPINNER REPEAT PASSWORD\r\n  function ApplyImageFilter(\r\n    typex: string,\r\n    index: number,\r\n    index2: number,\r\n    Ref: any,\r\n    method: string,\r\n    resolution: string\r\n  ) {\r\n    //////////////////INITIALIZE  CANVAS\r\n\r\n    var type = typex;\r\n\r\n    if (superzeroeffect[index]) {\r\n      type = \"normal\";\r\n    }\r\n\r\n    if (\r\n      type === effectMode[index] &&\r\n      activeSticker === 100 &&\r\n      method !== \"imageHD\" &&\r\n      method !== \"imageHDall\"\r\n    ) {\r\n      if (index + 1 > selectedImage.length - 1) {\r\n        setblink(false);\r\n        seteffectMode(effectModexx);\r\n        setregimageholdfilter(regimageholdfilterxx);\r\n      } else {\r\n        ApplyImageFilter(\r\n          typex,\r\n          index + 1,\r\n          index2 + 1,\r\n          getImageWidth,\r\n          \"image\",\r\n          \"sd\"\r\n        );\r\n      }\r\n    } else {\r\n      const previewFileReadimage = new Image();\r\n      //// previewFileReadimage.src = itemUploadRef.current[index].src;\r\n      if (duplicateItemupload[index]) {\r\n        previewFileReadimage.src = duplicateItemupload[index];\r\n      } else {\r\n        if (\r\n          method === \"imageHDall\" ||\r\n          method === \"imageHD\" ||\r\n          resolution === \"hd\"\r\n        ) {\r\n          previewFileReadimage.src = itemUploadRef.current[index].src;\r\n        } else {\r\n          previewFileReadimage.src = itemUploadRefSD.current[index].src;\r\n        }\r\n      }\r\n\r\n      var widthx: number;\r\n      var heightx: number;\r\n      var width: number;\r\n      var height: number;\r\n\r\n      var dynamicDimensions = matchMobile\r\n        ? window.innerHeight / 1.1\r\n        : window.innerHeight * 1.2;\r\n      var dynamicDimensionsx = matchMobile\r\n        ? window.innerWidth * 1.5\r\n        : window.innerWidth / 1.1;\r\n\r\n      previewFileReadimage.onload = function () {\r\n        const ctx = canvasRef.current.getContext(\"2d\");\r\n        if (\r\n          previewFileReadimage.naturalWidth > previewFileReadimage.naturalHeight\r\n        ) {\r\n          if (method === \"thumb\") {\r\n            widthx = matchMobile ? 155 : 250;\r\n            width = matchMobile ? 155 : 250;\r\n          } else {\r\n            if (resolution === \"hd\") {\r\n              widthx = previewFileReadimage.naturalWidth;\r\n              width = previewFileReadimage.naturalWidth;\r\n            } else {\r\n              widthx = matchMobile\r\n                ? dynamicDimensionsx * 0.7\r\n                : dynamicDimensionsx * 0.8;\r\n              width = matchMobile\r\n                ? dynamicDimensionsx * 0.7\r\n                : dynamicDimensionsx * 0.8;\r\n            }\r\n          }\r\n\r\n          var scalex = widthx / previewFileReadimage.naturalWidth;\r\n          heightx = previewFileReadimage.naturalHeight * scalex;\r\n          var scale = width / previewFileReadimage.naturalWidth;\r\n          height = previewFileReadimage.naturalHeight * scale;\r\n        } else {\r\n          if (method === \"thumb\") {\r\n            heightx = matchMobile ? 150 : 250;\r\n            height = matchMobile ? 150 : 250;\r\n          } else {\r\n            if (resolution === \"hd\") {\r\n              heightx = previewFileReadimage.naturalHeight;\r\n              height = previewFileReadimage.naturalHeight;\r\n            } else {\r\n              heightx = matchMobile\r\n                ? dynamicDimensions * 0.6\r\n                : dynamicDimensions * 0.9;\r\n              height = matchMobile\r\n                ? dynamicDimensions * 0.6\r\n                : dynamicDimensions * 0.9;\r\n            }\r\n          }\r\n\r\n          var scalex = heightx / previewFileReadimage.naturalHeight;\r\n          widthx = previewFileReadimage.naturalWidth * scalex;\r\n\r\n          var scale = height / previewFileReadimage.naturalHeight;\r\n          width = previewFileReadimage.naturalWidth * scale;\r\n        }\r\n\r\n        canvasRef.current.height = height;\r\n        canvasRef.current.width = width;\r\n        //////////////////INITIALIZE  CANVAS\r\n\r\n        requestAnimationFrame(async () => {\r\n          //////////////////CSS EDIT IMAGE WITH CTX.FILTER\r\n          if (type === \"lift\") {\r\n            ctx.filter =\r\n              \"contrast(1.25) brightness(0.98) blur(0px) saturate(120%)\";\r\n          } else if (type === \"floyd\") {\r\n            ctx.filter = \"contrast(1.2) brightness(0.99) saturate(111%)\";\r\n          } else if (type === \"jentle\") {\r\n            ctx.filter =\r\n              \"contrast(0.82) brightness(0.83) hue-rotate(20deg) saturate(110%) \";\r\n          } else if (type === \"mint\") {\r\n            ctx.filter = \"contrast(1.28) brightness(0.99)  saturate(95%)  \";\r\n          } else if (type === \"nebula\") {\r\n            ctx.filter = \"contrast(1.2) brightness(1.1)\";\r\n          } else if (type === \"juice\") {\r\n            if (method === \"thumb\" && matchMobile) {\r\n              ctx.filter =\r\n                \"contrast(1.16) brightness(0.99) saturate(180%) blur(0px)\";\r\n            } else {\r\n              ctx.filter =\r\n                \"contrast(1.16) brightness(0.99) saturate(180%) blur(0.6px)\";\r\n            }\r\n          } else if (type === \"futurama\") {\r\n            ctx.filter = \"contrast(1.3) brightness(0.95) saturate(140%) \";\r\n          } else if (type === \"kemi\") {\r\n            ctx.filter =\r\n              \"contrast(1.4) brightness(0.97) saturate(107%)  hue-rotate(1.4deg)\";\r\n          } else if (type === \"tentacion\") {\r\n            ctx.filter = \"contrast(1.32) brightness(0.96) saturate(137%)\";\r\n          } else if (type === \"moonshine\") {\r\n            if (method === \"thumb\" && matchMobile) {\r\n              ctx.filter =\r\n                \"contrast(1.3) brightness(0.99) saturate(50%) blur(0.8px)\";\r\n            } else {\r\n              if (matchMobile) {\r\n                ctx.filter =\r\n                  \"contrast(1.3) brightness(0.99) saturate(50%) blur(1.2px)\";\r\n              } else {\r\n                ctx.filter =\r\n                  \"contrast(1.3) brightness(0.99) saturate(50%) blur(2.8px)\";\r\n              }\r\n            }\r\n          } else if (type === \"vintage\") {\r\n            ctx.filter = \" contrast(1.1)  brightness(0.88)  saturate(12%)\";\r\n          } else {\r\n          }\r\n          //////////////////CSS EDIT IMAGE WITH CTX.FILTER\r\n\r\n          ctx.drawImage(\r\n            previewFileReadimage,\r\n            0,\r\n            0,\r\n            canvasRef.current.width,\r\n            canvasRef.current.height\r\n          );\r\n\r\n          //////////////////////VIGNETTE\r\n          var w = canvasRef.current.width;\r\n          var h = canvasRef.current.height;\r\n          if (type === \"floyd\") {\r\n            var gradient = ctx.createRadialGradient(\r\n              w / 6.7,\r\n              h / 2,\r\n              0,\r\n              w / 2.8,\r\n              h / 2,\r\n              w * 0.65\r\n            );\r\n\r\n            gradient.addColorStop(0, \"rgba(40, 181, 32, 0.118)\");\r\n            gradient.addColorStop(1, \"rgba(0,0,0,0.3)\");\r\n\r\n            ctx.fillStyle = gradient;\r\n            ctx.fillRect(0, 0, width, height);\r\n          } else if (type === \"mint\") {\r\n            var gradient = ctx.createRadialGradient(\r\n              w / 2,\r\n              h / 2,\r\n              0,\r\n              w / 2,\r\n              h / 2,\r\n              w * 0.65\r\n            );\r\n\r\n            gradient.addColorStop(0, \"rgba(255, 255, 255,0.05)\");\r\n            gradient.addColorStop(1, \"rgba(0,0,0,0.23)\");\r\n\r\n            ctx.fillStyle = gradient;\r\n            ctx.fillRect(0, 0, width, height);\r\n          } else if (type === \"lift\" || type === \"juice\") {\r\n            var gradient = ctx.createRadialGradient(\r\n              w / 2,\r\n              h / 3,\r\n              0,\r\n              w / 2,\r\n              h / 3,\r\n              w * 0.66\r\n            );\r\n\r\n            gradient.addColorStop(0, \"rgba(255, 255, 255,0.05)\");\r\n            gradient.addColorStop(1, \"rgba(255, 255, 255,0.05)\");\r\n\r\n            ctx.fillStyle = gradient;\r\n            ctx.fillRect(0, 0, width, height);\r\n          } else if (type === \"moonshine\") {\r\n            var gradient = ctx.createLinearGradient(\r\n              w / 2,\r\n              h / 3,\r\n              0,\r\n              w / 2,\r\n              h / 3,\r\n              w * 0.4\r\n            );\r\n\r\n            gradient.addColorStop(0, \" rgba(255, 255, 255,0.001)\");\r\n            gradient.addColorStop(1, \"#403d6149\");\r\n\r\n            ctx.fillStyle = gradient;\r\n            ctx.fillRect(0, 0, width, height);\r\n\r\n            var gradient = ctx.createRadialGradient(\r\n              w / 2,\r\n              h / 2,\r\n              0,\r\n              w / 2,\r\n              h / 2,\r\n              w * 0.3\r\n            );\r\n\r\n            gradient.addColorStop(0, \"rgba(0,0,0,0.02)\");\r\n            gradient.addColorStop(1, \" rgba(255, 255, 255,0.001)\");\r\n\r\n            ctx.fillStyle = gradient;\r\n            ctx.fillRect(0, 0, width, height);\r\n          } else if (type === \"vintage\") {\r\n            var gradient = ctx.createRadialGradient(\r\n              w / 2,\r\n              h / 2,\r\n              0,\r\n              w / 2,\r\n              h / 2,\r\n              w * 0.6\r\n            );\r\n\r\n            gradient.addColorStop(0, \"rgba(255, 255, 255,0.0004)\");\r\n            gradient.addColorStop(1, \"rgba(255, 255, 255,0.0004)\");\r\n            ctx.fillStyle = gradient;\r\n            ctx.fillRect(0, 0, width, height);\r\n          } else if (type === \"nebula\") {\r\n            var gradient = ctx.createRadialGradient(\r\n              w / 2,\r\n              h / 2,\r\n              0,\r\n              w / 2,\r\n              h / 2,\r\n              w * 0.65\r\n            );\r\n\r\n            gradient.addColorStop(0, \"rgba(255, 255, 255, 0.01)\");\r\n            gradient.addColorStop(1, \"rgba(0, 0, 0, 0.08)\");\r\n\r\n            ctx.fillStyle = gradient;\r\n            ctx.fillRect(0, 0, width, height);\r\n          } else if (type === \"futurama\") {\r\n            var gradient = ctx.createRadialGradient(\r\n              w / 2,\r\n              h / 2,\r\n              0,\r\n              w / 2,\r\n              h / 2,\r\n              w * 0.68\r\n            );\r\n\r\n            gradient.addColorStop(0, \"rgb(163, 218, 37,0.004)\");\r\n            gradient.addColorStop(1, \"rgb(27, 194, 236,0.004)\");\r\n\r\n            ctx.fillStyle = gradient;\r\n            ctx.fillRect(0, 0, width, height);\r\n          } else if (type === \"tentacion\") {\r\n            var gradient = ctx.createLinearGradient(\r\n              w / 2,\r\n              h / 71,\r\n              0,\r\n              w / 19,\r\n              h / 2,\r\n              w * 0.4\r\n            );\r\n\r\n            gradient.addColorStop(0, \"rgba(255, 255, 255,0)\");\r\n            gradient.addColorStop(1, \"#20422e5a\");\r\n\r\n            ctx.fillStyle = gradient;\r\n            ctx.fillRect(0, 0, width, height);\r\n          } else {\r\n          }\r\n          //////////////////////VIGNETTE\r\n\r\n          //////////////////////GRADIENT BRIGHTNESS\r\n\r\n          if (type === \"lift\" || type === \"jentle\" || type === \"tentacion\") {\r\n            var gradient = ctx.createRadialGradient(\r\n              w / 2,\r\n              h / 2,\r\n              0,\r\n              w / 2,\r\n              h / 2,\r\n              w * 0.6\r\n            );\r\n            if (type === \"lift\") {\r\n              gradient.addColorStop(0, \"#dcecdf16\");\r\n              gradient.addColorStop(1, \"#dceaec1a\");\r\n            } else if (type === \"tentacion\") {\r\n              gradient.addColorStop(0, \"#c9d6df11\");\r\n              gradient.addColorStop(1, \"#bef0ce13\");\r\n            } else if (type === \"jentle\") {\r\n              gradient.addColorStop(0, \"rgba(255, 255, 255,0.008)\");\r\n              gradient.addColorStop(1, \"rgba(255, 255, 255,0.008)\");\r\n            } else {\r\n            }\r\n\r\n            ctx.fillStyle = gradient;\r\n            ctx.fillRect(0, 0, width, height);\r\n          }\r\n\r\n          //////////////////////GRADIENT BRIGHTNESS\r\n\r\n          ////////////////// /////// GLOBALCOMPOSITEOPERATION\r\n          if (type === \"lift\") {\r\n            ////////////composition\r\n\r\n            ctx.globalCompositeOperation = \"overlay\";\r\n            ctx.fillStyle = \"rgba(100, 100, 100,0.07)\";\r\n            ctx.fillRect(0, 0, width, height);\r\n            ctx.globalCompositeOperation = \"overlay\";\r\n            ctx.fillStyle = \"rgba(100, 100, 100,0.07)\";\r\n            ctx.fillRect(0, 0, width, height);\r\n            ////////////composition\r\n          } else if (type === \"floyd\") {\r\n            ////////////composition\r\n            ctx.globalCompositeOperation = \"overlay\";\r\n            ctx.fillStyle = \"#a58e89cc\";\r\n            ctx.fillRect(0, 0, width, height);\r\n            ctx.globalCompositeOperation = \"overlay\";\r\n            ctx.fillStyle = \"#a58e89cc\";\r\n            ctx.fillRect(0, 0, width, height);\r\n\r\n            ////////////composition\r\n          } else if (type === \"jentle\") {\r\n            ////////////composition\r\n            ctx.globalCompositeOperation = \"overlay\";\r\n            ctx.fillStyle = \"#d3b5b5\";\r\n            ctx.fillRect(0, 0, width, height);\r\n            ctx.globalCompositeOperation = \"soft-light\";\r\n            ctx.fillStyle = \"#d3b5b5\";\r\n            ctx.fillRect(0, 0, width, height);\r\n\r\n            ////////////composition\r\n          } else if (type === \"mint\") {\r\n            ////////////composition\r\n            ctx.globalCompositeOperation = \"overlay\";\r\n            ctx.fillStyle = \"#25302f18\";\r\n            ctx.fillRect(0, 0, width, height);\r\n            ctx.globalCompositeOperation = \"soft-light\";\r\n            ctx.fillStyle = \"#25302f18\";\r\n            ctx.fillRect(0, 0, width, height);\r\n\r\n            ////////////composition\r\n          } else if (type === \"nebula\") {\r\n            ////////////composition\r\n            ctx.globalCompositeOperation = \"overlay\";\r\n            ctx.fillStyle = \"#6e6b72cc\";\r\n            ctx.fillRect(0, 0, width, height);\r\n            ctx.globalCompositeOperation = \"soft-light\";\r\n            ctx.fillStyle = \"#6c6971cc\";\r\n            ctx.fillRect(0, 0, width, height);\r\n\r\n            ////////////composition\r\n          } else if (type === \"moonshine\") {\r\n            ////////////composition\r\n            ctx.globalCompositeOperation = \"soft-light\";\r\n            ctx.fillStyle = \"#77479f68\";\r\n            ctx.fillRect(0, 0, width, height);\r\n            ctx.globalCompositeOperation = \"overlay\";\r\n            ctx.fillStyle = \"#69359368\";\r\n            ctx.fillRect(0, 0, width, height);\r\n\r\n            ////////////composition\r\n          } else if (type === \"juice\") {\r\n            ////////////composition\r\n            ctx.globalCompositeOperation = \"overlay\";\r\n            ctx.fillStyle = \"#5b6c7014\";\r\n            ctx.fillRect(0, 0, width, height);\r\n            ctx.globalCompositeOperation = \"overlay\";\r\n            ctx.fillStyle = \"#5b6c7014\";\r\n            ctx.fillRect(0, 0, width, height);\r\n            ctx.globalCompositeOperation = \"overlay\";\r\n            ctx.fillStyle = \"#5b6c7014\";\r\n            ctx.fillRect(0, 0, width, height);\r\n            ////////////composition\r\n          } else if (type === \"futurama\") {\r\n            ////////////composition\r\n            ctx.globalCompositeOperation = \"overlay\";\r\n            ctx.fillStyle = \"#11181f1f\";\r\n            ctx.fillRect(0, 0, width, height);\r\n            ctx.globalCompositeOperation = \"screen\";\r\n            ctx.fillStyle = \"#11181f1f\";\r\n            ctx.fillRect(0, 0, width, height);\r\n\r\n            ////////////composition\r\n          } else if (type === \"kemi\") {\r\n            ////////////composition\r\n            ctx.globalCompositeOperation = \"screen\";\r\n            ctx.fillStyle = \"#69758113\";\r\n            ctx.fillRect(0, 0, width, height);\r\n            ctx.globalCompositeOperation = \"overlay\";\r\n            ctx.fillStyle = \"#69758113\";\r\n            ctx.fillRect(0, 0, width, height);\r\n\r\n            ////////////composition\r\n          } else if (type === \"tentacion\") {\r\n            ////////////composition\r\n            ctx.globalCompositeOperation = \"soft-light\";\r\n            ctx.fillStyle = \"#2c2b2937\";\r\n            ctx.fillRect(0, 0, width, height);\r\n            ctx.globalCompositeOperation = \"soft-light\";\r\n            ctx.fillStyle = \"#2c2b2937\";\r\n            ctx.fillRect(0, 0, width, height);\r\n\r\n            ////////////composition\r\n          } else if (type === \"vintage\") {\r\n            ////////////composition\r\n\r\n            ctx.globalCompositeOperation = \"soft-light\";\r\n            ctx.fillStyle = \"#40404b4e\";\r\n            ctx.fillRect(0, 0, width, height);\r\n            ctx.globalCompositeOperation = \"soft-light\";\r\n            ctx.fillStyle = \"#2c2c3a4e\";\r\n            ctx.fillRect(0, 0, width, height);\r\n            ////////////composition\r\n          } else {\r\n          }\r\n          ////////////////// /////// GLOBALCOMPOSITEOPERATION\r\n\r\n          ////////////////////GRADIENT BLENDING\r\n          if (\r\n            type === \"jentle\" ||\r\n            type === \"mint\" ||\r\n            type === \"nebula\" ||\r\n            type === \"juice\" ||\r\n            type === \"futurama\" ||\r\n            type === \"kemi\" ||\r\n            type === \"tentacion\" ||\r\n            type === \"moonshine\" ||\r\n            type === \"vintage\" ||\r\n            type === \"floyd\"\r\n          ) {\r\n            var gradient = FilterGradient(width, height, type);\r\n            var screen = blend(\r\n              ctx,\r\n              gradient,\r\n              width,\r\n              height,\r\n              function (bottomPixel: any, topPixel: any) {\r\n                return 255 - ((255 - topPixel) * (255 - bottomPixel)) / 255;\r\n              }\r\n            );\r\n            ctx.putImageData(screen, 0, 0);\r\n          }\r\n\r\n          ////////////////////GRADIENT BLENDING\r\n\r\n          try {\r\n            KeepCallingThumbnail4Filters(Ref, ctx, index2, method);\r\n\r\n            if (\r\n              method === \"image\" ||\r\n              method === \"imageHD\" ||\r\n              method === \"imageHDall\"\r\n            ) {\r\n              var data = canvasRef.current.toDataURL();\r\n\r\n              Ref.current[index].src = data;\r\n\r\n              if (method === \"imageHDall\") {\r\n                const res = await fetch(data);\r\n                const datax = await res.blob();\r\n                finalImageDataxx[index] = datax;\r\n              }\r\n\r\n              regimageholdfilterxx[index] = data;\r\n              effectModexx[index] = type;\r\n\r\n              ctx.clearRect(\r\n                0,\r\n                0,\r\n                canvasRef.current.width,\r\n                canvasRef.current.height\r\n              );\r\n\r\n              if (method === \"imageHD\") {\r\n                sethdfilter(false);\r\n                setblink(false);\r\n                seteffectMode(effectModexx);\r\n                setregimageholdfilter(regimageholdfilterxx);\r\n              } else {\r\n                if (index + 1 > selectedImage.length - 1) {\r\n                  setblink(false);\r\n                  if (method === \"imageHDall\") {\r\n                    setfinalImageData(finalImageDataxx);\r\n                    setsupeFilterLoadFade(false);\r\n                    setstartTopicCap(true);\r\n                  }\r\n                  seteffectMode(effectModexx);\r\n                  setregimageholdfilter(regimageholdfilterxx);\r\n                } else {\r\n                  if (method === \"imageHDall\") {\r\n                    ApplyImageFilter(\r\n                      effectMode[index + 1],\r\n                      index + 1,\r\n                      index2 + 1,\r\n                      getImageWidth,\r\n                      \"imageHDall\",\r\n                      \"hd\"\r\n                    );\r\n                  } else {\r\n                    ApplyImageFilter(\r\n                      typex,\r\n                      index + 1,\r\n                      index2 + 1,\r\n                      getImageWidth,\r\n                      \"image\",\r\n                      \"sd\"\r\n                    );\r\n                  }\r\n                }\r\n              }\r\n            }\r\n\r\n            if (method === \"supersticker\") {\r\n              if (FilterUnderStickerStopFiltering) {\r\n                trapfiltersxx[index] = true;\r\n                settrapfilters(trapfiltersxx);\r\n              } else {\r\n                trapfiltersxx[index] = false;\r\n                settrapfilters(trapfiltersxx);\r\n              }\r\n\r\n              var data = canvasRef.current.toDataURL();\r\n              Ref.current[index].src = data;\r\n\r\n              if (effectMode[index] !== \"normal\") {\r\n                if (duplicateItemupload[index]) {\r\n                } else {\r\n                  regimageholdfilterxx[index] = data;\r\n                  setregimageholdfilter(regimageholdfilterxx);\r\n                }\r\n              }\r\n              ctx.clearRect(\r\n                0,\r\n                0,\r\n                canvasRef.current.width,\r\n                canvasRef.current.height\r\n              );\r\n              setactiveSticker(100);\r\n            }\r\n          } catch {\r\n            console.log(\"filtermode  filter error\");\r\n          }\r\n        });\r\n\r\n        canvasRef.current.style.width = `${widthx}px`;\r\n        canvasRef.current.style.height = `${heightx}px`;\r\n      };\r\n    }\r\n  }\r\n\r\n  const KeepCallingThumbnail4Filters = (\r\n    Ref: any,\r\n    ctx: any,\r\n    index2: number,\r\n    method: any\r\n  ) => {\r\n    //// const gg = await ctx.putImageData(screen, 0, 0);\r\n\r\n    if (method === \"thumb\") {\r\n      Ref.current[index2].src = canvasRef.current.toDataURL();\r\n      ctx.clearRect(0, 0, canvasRef.current.width, canvasRef.current.height);\r\n      if (index2 === 1) {\r\n        ApplyImageFilter(\r\n          \"juice\",\r\n          0,\r\n          index2 + 1,\r\n          imageFiltersRef,\r\n          \"thumb\",\r\n          \"sd\"\r\n        );\r\n      } else if (index2 === 2) {\r\n        ApplyImageFilter(\"kemi\", 0, index2 + 1, imageFiltersRef, \"thumb\", \"sd\");\r\n      } else if (index2 === 3) {\r\n        ApplyImageFilter(\r\n          \"futurama\",\r\n          0,\r\n          index2 + 1,\r\n          imageFiltersRef,\r\n          \"thumb\",\r\n          \"sd\"\r\n        );\r\n      } else if (index2 === 4) {\r\n        ApplyImageFilter(\r\n          \"tentacion\",\r\n          0,\r\n          index2 + 1,\r\n          imageFiltersRef,\r\n          \"thumb\",\r\n          \"sd\"\r\n        );\r\n      } else if (index2 === 5) {\r\n        ApplyImageFilter(\r\n          \"floyd\",\r\n          0,\r\n          index2 + 1,\r\n          imageFiltersRef,\r\n          \"thumb\",\r\n          \"sd\"\r\n        );\r\n      } else if (index2 === 6) {\r\n        ApplyImageFilter(\r\n          \"nebula\",\r\n          0,\r\n          index2 + 1,\r\n          imageFiltersRef,\r\n          \"thumb\",\r\n          \"sd\"\r\n        );\r\n      } else if (index2 === 7) {\r\n        ApplyImageFilter(\r\n          \"jentle\",\r\n          0,\r\n          index2 + 1,\r\n          imageFiltersRef,\r\n          \"thumb\",\r\n          \"sd\"\r\n        );\r\n      } else if (index2 === 8) {\r\n        ApplyImageFilter(\"mint\", 0, index2 + 1, imageFiltersRef, \"thumb\", \"sd\");\r\n      } else if (index2 === 9) {\r\n        ApplyImageFilter(\r\n          \"moonshine\",\r\n          0,\r\n          index2 + 1,\r\n          imageFiltersRef,\r\n          \"thumb\",\r\n          \"sd\"\r\n        );\r\n      } else if (index2 === 10) {\r\n        ApplyImageFilter(\r\n          \"vintage\",\r\n          0,\r\n          index2 + 1,\r\n          imageFiltersRef,\r\n          \"thumb\",\r\n          \"sd\"\r\n        );\r\n        setshowfiltersOnloadblur(true);\r\n      } else {\r\n        ApplyImageFilter(\"normal\", 0, 0, getImageWidth, \"image\", \"sd\");\r\n      }\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (hdfilter) {\r\n      ApplyImageFilter(\r\n        effectMode[superstickerIndex],\r\n        superstickerIndex,\r\n        0,\r\n        getImageWidth,\r\n        \"imageHD\",\r\n        \"hd\"\r\n      );\r\n    }\r\n  }, [hdfilter]);\r\n\r\n  useEffect(() => {\r\n    if (startSuperSticker) {\r\n    } else {\r\n      if (activeSticker != 100) {\r\n        if (duplicateItemupload[activeSticker]) {\r\n          ApplyImageFilter(\r\n            \"normal\",\r\n            activeSticker,\r\n            0,\r\n            getImageWidth,\r\n            \"supersticker\",\r\n            \"sd\"\r\n          );\r\n        } else {\r\n          ApplyImageFilter(\r\n            effectMode[activeSticker],\r\n            activeSticker,\r\n            0,\r\n            getImageWidth,\r\n            \"supersticker\",\r\n            \"sd\"\r\n          );\r\n        }\r\n      }\r\n    }\r\n  }, [startSuperSticker]);\r\n\r\n  useEffect(() => {\r\n    if (imageFiltersRef && activatefilterImageReducer) {\r\n      setTimeout(function () {\r\n        setallow(true);\r\n        setshowfiltersOnloadblur(false);\r\n        setshowfiltersOnload(true);\r\n        ApplyImageFilter(\"lift\", 0, 1, imageFiltersRef, \"thumb\", \"sd\");\r\n      }, 350);\r\n    }\r\n  }, [activatefilterImageReducer]);\r\n\r\n  const startImageFilter = (i: number) => {\r\n    if (i === 12 && ActiveSlide === i) {\r\n      setsupeFilterLoadFade(true);\r\n      ApplyImageFilter(effectMode[0], 0, 0, getImageWidth, \"imageHDall\", \"hd\");\r\n    } else {\r\n      clickOptions(i, optionsClickType, \"filter\");\r\n      if (Timer.current) {\r\n        clearTimeout(Timer.current);\r\n      }\r\n      if (ActiveSlide === i) {\r\n        setblink(true);\r\n        ApplyImageFilter(\r\n          optionsNameData[i],\r\n          0,\r\n          0,\r\n          getImageWidth,\r\n          \"image\",\r\n          \"sd\"\r\n        );\r\n      } else {\r\n        if (i === 12) {\r\n        } else {\r\n          Timer.current = setTimeout(function () {\r\n            setblink(true);\r\n            ApplyImageFilter(\r\n              optionsNameData[i],\r\n              0,\r\n              0,\r\n              getImageWidth,\r\n              \"image\",\r\n              \"sd\"\r\n            );\r\n          }, 2000);\r\n        }\r\n      }\r\n    }\r\n  };\r\n\r\n  const clickOptionsOutter = (i: any, optionsClickType: any, source: any) => {\r\n    if (Timer.current) {\r\n      clearTimeout(Timer.current);\r\n    }\r\n\r\n    if (i === -1) {\r\n      clickOptions(optionsImages.length, optionsClickType, \"filter2\");\r\n    } else if (i > optionsImages.length - 1) {\r\n      clickOptions(0, optionsClickType, \"filter\");\r\n    } else {\r\n      clickOptions(i, optionsClickType, \"filter\");\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <canvas\r\n        ref={canvasRef}\r\n        style={{\r\n          padding: \"0px\",\r\n          position: \"fixed\",\r\n          top: \"-400%\",\r\n          zIndex: 0,\r\n          visibility: \"hidden\",\r\n        }}\r\n      />\r\n      <canvas\r\n        ref={canvasRefdummy}\r\n        style={{\r\n          padding: \"0px\",\r\n          display: \"none\",\r\n          position: \"fixed\",\r\n          top: \"-400%\",\r\n          zIndex: 0,\r\n          visibility: \"hidden\",\r\n        }}\r\n      />\r\n      {optionsShow && allow ? (\r\n        <>\r\n          <animated.div ref={getFilterWidthViewable} style={animationop}>\r\n            {matchPc ? (\r\n              <>\r\n                {\" \"}\r\n                <Grid\r\n                  container\r\n                  style={{\r\n                    zIndex: 10,\r\n                    height: \"0px\",\r\n                    width: \"100%\",\r\n                    position: \"fixed\",\r\n                    marginTop: `${(getSliderWidthNew + addedwidth) / 2}px`,\r\n                  }}\r\n                >\r\n                  <Grid\r\n                    item\r\n                    xs={2}\r\n                    style={{\r\n                      zIndex: 10,\r\n                      height: \"0px\",\r\n                      textAlign: \"left\",\r\n                    }}\r\n                  >\r\n                    {\" \"}\r\n                    <CircleIcon\r\n                      onMouseDown={() => {\r\n                        clickOptionsOutter(\r\n                          ActiveSlide - 1,\r\n                          optionsClickType,\r\n                          \"filter\"\r\n                        );\r\n                      }}\r\n                      className={\r\n                        darkmodeReducer\r\n                          ? \"make-small-icons-clickable-dark  buttonshake dontallowhighlighting zuperkinginfo \"\r\n                          : \"make-small-icons-clickable-light  buttonshake  dontallowhighlighting  zuperkinginfo  \"\r\n                      }\r\n                      style={{\r\n                        filter: showfiltersOnloadblur\r\n                          ? \"blur(0px)\"\r\n                          : \"blur(4px)\",\r\n                        marginTop: \"4vh\",\r\n                        fontSize: \"1.6vw\",\r\n                        cursor: \"pointer\",\r\n                        color: darkmodeReducer\r\n                          ? \"rgba(200, 200, 200, 0.7)\"\r\n                          : \"rgba(005, 005, 005, 0.6)\",\r\n                      }}\r\n                    />{\" \"}\r\n                  </Grid>\r\n\r\n                  <Grid\r\n                    item\r\n                    xs={8}\r\n                    style={{\r\n                      height: \"0px\",\r\n                    }}\r\n                  ></Grid>\r\n\r\n                  <Grid\r\n                    item\r\n                    xs={2}\r\n                    style={{\r\n                      zIndex: 10,\r\n                      height: \"0px\",\r\n                      textAlign: \"right\",\r\n                    }}\r\n                  >\r\n                    {\" \"}\r\n                    <CircleIcon\r\n                      className={\r\n                        darkmodeReducer\r\n                          ? \"make-small-icons-clickable-dark  buttonshake dontallowhighlighting zuperkinginfo \"\r\n                          : \"make-small-icons-clickable-light  buttonshake  dontallowhighlighting  zuperkinginfo  \"\r\n                      }\r\n                      onMouseDown={() => {\r\n                        clickOptionsOutter(\r\n                          ActiveSlide + 1,\r\n                          optionsClickType,\r\n                          \"filter\"\r\n                        );\r\n                      }}\r\n                      style={{\r\n                        filter: showfiltersOnloadblur\r\n                          ? \"blur(0px)\"\r\n                          : \"blur(4px)\",\r\n                        marginTop: \"4vh\",\r\n                        fontSize: \"1.6vw\",\r\n                        cursor: \"pointer\",\r\n                        color: darkmodeReducer\r\n                          ? \"rgba(200, 200, 200, 0.7)\"\r\n                          : \"rgba(005, 005, 005, 0.6)\",\r\n                      }}\r\n                    />{\" \"}\r\n                  </Grid>\r\n                </Grid>\r\n              </>\r\n            ) : null}\r\n            <Grid\r\n              container\r\n              className={\r\n                typeTop\r\n                  ? darkmodeReducer\r\n                    ? `optionsTop-background-dark `\r\n                    : `optionsTop-background-light `\r\n                  : \"\"\r\n              }\r\n              onTouchStart={handleTouchStartOptions}\r\n              onTouchMove={handleTouchMoveOptions}\r\n              style={{\r\n                zIndex: 1,\r\n                padding: \"0px\",\r\n                top: matchPc ? (typeTop ? \"-2vh\" : \"0vh\") : \"0vh\",\r\n                position: \"relative\",\r\n                paddingRight: \"200px\",\r\n                margin: \"0 auto\",\r\n                overflow: \"hidden\",\r\n                left: \"0px\",\r\n                height: matchPc ? \"auto\" : \"25vh\",\r\n                paddingBottom: \"1px\",\r\n              }}\r\n            >\r\n              <animated.div ref={optionsCollectImageRef} style={modalanimation}>\r\n                {optionsImages.map((im: any, i: any) => (\r\n                  <Grid key={i} item xs={12} style={{}}>\r\n                    <Grid\r\n                      item\r\n                      xs={12}\r\n                      style={{\r\n                        margin: \"auto\",\r\n                        textAlign: \"center\",\r\n                        position: \"relative\",\r\n                        top: matchPc ? \"1.55vh\" : \"0.54em\",\r\n                      }}\r\n                    >\r\n                      <Grid\r\n                        className={blink ? \"blinken\" : \"\"}\r\n                        item\r\n                        xs={12}\r\n                        style={{\r\n                          margin: \"auto\",\r\n                          marginLeft: \"2vw\",\r\n                          paddingBottom: \"0px\",\r\n                          fontFamily: \"kaushan_scriptregular\",\r\n                          fontSize: matchPc\r\n                            ? \"1.5vw\"\r\n                            : matchTablet\r\n                            ? \"2.08vh\"\r\n                            : \"2.4vh\",\r\n                          fontWeight: \"bolder\",\r\n                          visibility: ActiveSlide === i ? \"visible\" : \"hidden\",\r\n                          filter: darkmodeReducer\r\n                            ? \"drop-shadow(1.2px 0.1px 1.92px rgba(255, 255, 255, 0.4))\"\r\n                            : \"drop-shadow(1.2px 0.1px 1.92px rgba(41, 53, 70, 8.35))\",\r\n                          color: darkmodeReducer ? \"#dddddd\" : \"#000000\",\r\n                        }}\r\n                      >\r\n                        {\" \"}\r\n                        {optionsNameData[i]}\r\n                      </Grid>\r\n                    </Grid>\r\n\r\n                    {showfiltersOnload ? (\r\n                      i === 12 ? (\r\n                        <>\r\n                          <div\r\n                            onMouseDown={() => {\r\n                              startImageFilter(i);\r\n                            }}\r\n                            style={{\r\n                              cursor: ActiveSlide === i ? \"pointer\" : \"alias\",\r\n                              width: `${getSliderWidthNew + addedwidth - 5}px`,\r\n                              height: `${getSliderWidthNew + addedwidth - 5}px`,\r\n                              backgroundColor: darkmodeReducer\r\n                                ? \"rgba(010,010,010, 0.68)\"\r\n                                : \"rgba(211,211,211, 0.7)\",\r\n                              borderRadius: \"50%\",\r\n                              marginLeft: \"2vw\",\r\n                              marginTop: \"2.15vh\",\r\n                              textAlign: \"center\",\r\n                              alignItems: \"center\",\r\n                              display: \"grid\",\r\n                              justifyContent: \"center\",\r\n                              boxShadow: darkmodeReducer\r\n                                ? ActiveSlide === i\r\n                                  ? colortypeReducer === 0\r\n                                    ? `0 0 5.5px ${colorReducerdark}`\r\n                                    : `0 0 5.5px ${colorReducer}`\r\n                                  : \"0 0 1.5px#aaaaaa\"\r\n                                : ActiveSlide === i\r\n                                ? `0 0 5.5px ${colorReducer}`\r\n                                : \"0 0 1.45px#222222\",\r\n                            }}\r\n                          >\r\n                            <ChevronRightIcon\r\n                              style={{\r\n                                fontSize: matchPc ? \"3.4vw\" : \"5vh\",\r\n                                color: darkmodeReducer ? \"#eeeeee\" : \"#222222\",\r\n                              }}\r\n                              className=\"zuperkinginfo\"\r\n                            />\r\n                          </div>\r\n                        </>\r\n                      ) : (\r\n                        <>\r\n                          {\" \"}\r\n                          <img\r\n                            ref={addimageFiltersRef}\r\n                            alt={` ${optionsNameData[i]}  option`}\r\n                            onMouseDown={() => {\r\n                              startImageFilter(i);\r\n                            }}\r\n                            style={{\r\n                              backgroundColor: \"red\",\r\n                              cursor: ActiveSlide === i ? \"pointer\" : \"copy\",\r\n                              width: `${getSliderWidthNew + addedwidth}px`,\r\n                              height: `${getSliderWidthNew + addedwidth}px`,\r\n                              borderRadius: \"50%\",\r\n                              padding: \"0px\",\r\n                              objectFit: \"cover\",\r\n                              marginLeft: \"2vw\",\r\n                              marginTop: \"13px\",\r\n                              filter: showfiltersOnloadblur\r\n                                ? \"blur(0px)\"\r\n                                : \"blur(4px)\",\r\n                              boxShadow: darkmodeReducer\r\n                                ? ActiveSlide === i\r\n                                  ? colortypeReducer === 0\r\n                                    ? `0 0 6.8px ${colorReducerdark}`\r\n                                    : `0 0 6.8px ${colorReducer}`\r\n                                  : typeTop\r\n                                  ? \"0 0 12.5px#aaaaaa\"\r\n                                  : \"\"\r\n                                : ActiveSlide === i\r\n                                ? `0 0 5.7px ${colorReducer}`\r\n                                : typeTop\r\n                                ? `0 0 14.45px#222222`\r\n                                : \"\",\r\n                            }}\r\n                            src={\r\n                              itemUploadRefThumb.current[0]\r\n                                ? itemUploadRefThumb.current[0].src\r\n                                : null\r\n                            }\r\n                          />\r\n                        </>\r\n                      )\r\n                    ) : null}\r\n                  </Grid>\r\n                ))}\r\n              </animated.div>\r\n            </Grid>\r\n          </animated.div>\r\n        </>\r\n      ) : null}\r\n    </>\r\n  );\r\n}\r\n\r\nexport const ImageFilterinner = React.memo(ImageFilterinnerx);\r\n"]},"metadata":{},"sourceType":"module"}