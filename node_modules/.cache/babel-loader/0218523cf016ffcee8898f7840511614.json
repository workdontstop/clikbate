{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.getColorIndex = exports.getColorDiffStatus = exports.hexDiff = exports.rgbDiff = exports.deltaE94 = exports.rgbToCIELab = exports.xyzToCIELab = exports.rgbToXyz = exports.hslToRgb = exports.rgbToHsl = exports.rgbToHex = exports.hexToRgb = exports.defer = exports.RSHIFT = exports.SIGBITS = exports.DELTAE94_DIFF_STATUS = void 0;\nexports.DELTAE94_DIFF_STATUS = {\n  NA: 0,\n  PERFECT: 1,\n  CLOSE: 2,\n  GOOD: 10,\n  SIMILAR: 50\n};\nexports.SIGBITS = 5;\nexports.RSHIFT = 8 - exports.SIGBITS;\nfunction defer() {\n  var resolve;\n  var reject;\n  // eslint-disable-next-line promise/param-names\n  var promise = new Promise(function (_resolve, _reject) {\n    resolve = _resolve;\n    reject = _reject;\n  });\n  // @ts-ignore\n  return {\n    resolve: resolve,\n    reject: reject,\n    promise: promise\n  };\n}\nexports.defer = defer;\nfunction hexToRgb(hex) {\n  var m = /^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i.exec(hex);\n  return m === null ? null : [m[1], m[2], m[3]].map(function (s) {\n    return parseInt(s, 16);\n  });\n}\nexports.hexToRgb = hexToRgb;\nfunction rgbToHex(r, g, b) {\n  return '#' + ((1 << 24) + (r << 16) + (g << 8) + b).toString(16).slice(1, 7);\n}\nexports.rgbToHex = rgbToHex;\nfunction rgbToHsl(r, g, b) {\n  r /= 255;\n  g /= 255;\n  b /= 255;\n  var max = Math.max(r, g, b);\n  var min = Math.min(r, g, b);\n  var h;\n  var s;\n  var l = (max + min) / 2;\n  if (max === min) {\n    h = s = 0;\n  } else {\n    var d = max - min;\n    s = l > 0.5 ? d / (2 - max - min) : d / (max + min);\n    switch (max) {\n      case r:\n        h = (g - b) / d + (g < b ? 6 : 0);\n        break;\n      case g:\n        h = (b - r) / d + 2;\n        break;\n      case b:\n        h = (r - g) / d + 4;\n        break;\n    }\n    // @ts-ignore\n    h /= 6;\n  }\n  // @ts-ignore\n  return [h, s, l];\n}\nexports.rgbToHsl = rgbToHsl;\nfunction hslToRgb(h, s, l) {\n  var r;\n  var g;\n  var b;\n  function hue2rgb(p, q, t) {\n    if (t < 0) t += 1;\n    if (t > 1) t -= 1;\n    if (t < 1 / 6) return p + (q - p) * 6 * t;\n    if (t < 1 / 2) return q;\n    if (t < 2 / 3) return p + (q - p) * (2 / 3 - t) * 6;\n    return p;\n  }\n  if (s === 0) {\n    r = g = b = l;\n  } else {\n    var q = l < 0.5 ? l * (1 + s) : l + s - l * s;\n    var p = 2 * l - q;\n    r = hue2rgb(p, q, h + 1 / 3);\n    g = hue2rgb(p, q, h);\n    b = hue2rgb(p, q, h - 1 / 3);\n  }\n  return [r * 255, g * 255, b * 255];\n}\nexports.hslToRgb = hslToRgb;\nfunction rgbToXyz(r, g, b) {\n  r /= 255;\n  g /= 255;\n  b /= 255;\n  r = r > 0.04045 ? Math.pow((r + 0.005) / 1.055, 2.4) : r / 12.92;\n  g = g > 0.04045 ? Math.pow((g + 0.005) / 1.055, 2.4) : g / 12.92;\n  b = b > 0.04045 ? Math.pow((b + 0.005) / 1.055, 2.4) : b / 12.92;\n  r *= 100;\n  g *= 100;\n  b *= 100;\n  var x = r * 0.4124 + g * 0.3576 + b * 0.1805;\n  var y = r * 0.2126 + g * 0.7152 + b * 0.0722;\n  var z = r * 0.0193 + g * 0.1192 + b * 0.9505;\n  return [x, y, z];\n}\nexports.rgbToXyz = rgbToXyz;\nfunction xyzToCIELab(x, y, z) {\n  var REF_X = 95.047;\n  var REF_Y = 100;\n  var REF_Z = 108.883;\n  x /= REF_X;\n  y /= REF_Y;\n  z /= REF_Z;\n  x = x > 0.008856 ? Math.pow(x, 1 / 3) : 7.787 * x + 16 / 116;\n  y = y > 0.008856 ? Math.pow(y, 1 / 3) : 7.787 * y + 16 / 116;\n  z = z > 0.008856 ? Math.pow(z, 1 / 3) : 7.787 * z + 16 / 116;\n  var L = 116 * y - 16;\n  var a = 500 * (x - y);\n  var b = 200 * (y - z);\n  return [L, a, b];\n}\nexports.xyzToCIELab = xyzToCIELab;\nfunction rgbToCIELab(r, g, b) {\n  var _a = rgbToXyz(r, g, b),\n    x = _a[0],\n    y = _a[1],\n    z = _a[2];\n  return xyzToCIELab(x, y, z);\n}\nexports.rgbToCIELab = rgbToCIELab;\nfunction deltaE94(lab1, lab2) {\n  var WEIGHT_L = 1;\n  var WEIGHT_C = 1;\n  var WEIGHT_H = 1;\n  var L1 = lab1[0],\n    a1 = lab1[1],\n    b1 = lab1[2];\n  var L2 = lab2[0],\n    a2 = lab2[1],\n    b2 = lab2[2];\n  var dL = L1 - L2;\n  var da = a1 - a2;\n  var db = b1 - b2;\n  var xC1 = Math.sqrt(a1 * a1 + b1 * b1);\n  var xC2 = Math.sqrt(a2 * a2 + b2 * b2);\n  var xDL = L2 - L1;\n  var xDC = xC2 - xC1;\n  var xDE = Math.sqrt(dL * dL + da * da + db * db);\n  var xDH = Math.sqrt(xDE) > Math.sqrt(Math.abs(xDL)) + Math.sqrt(Math.abs(xDC)) ? Math.sqrt(xDE * xDE - xDL * xDL - xDC * xDC) : 0;\n  var xSC = 1 + 0.045 * xC1;\n  var xSH = 1 + 0.015 * xC1;\n  xDL /= WEIGHT_L;\n  xDC /= WEIGHT_C * xSC;\n  xDH /= WEIGHT_H * xSH;\n  return Math.sqrt(xDL * xDL + xDC * xDC + xDH * xDH);\n}\nexports.deltaE94 = deltaE94;\nfunction rgbDiff(rgb1, rgb2) {\n  var lab1 = rgbToCIELab.apply(undefined, rgb1);\n  var lab2 = rgbToCIELab.apply(undefined, rgb2);\n  return deltaE94(lab1, lab2);\n}\nexports.rgbDiff = rgbDiff;\nfunction hexDiff(hex1, hex2) {\n  var rgb1 = hexToRgb(hex1);\n  var rgb2 = hexToRgb(hex2);\n  return rgbDiff(rgb1, rgb2);\n}\nexports.hexDiff = hexDiff;\nfunction getColorDiffStatus(d) {\n  if (d < exports.DELTAE94_DIFF_STATUS.NA) {\n    return 'N/A';\n  }\n  // Not perceptible by human eyes\n  if (d <= exports.DELTAE94_DIFF_STATUS.PERFECT) {\n    return 'Perfect';\n  }\n  // Perceptible through close observation\n  if (d <= exports.DELTAE94_DIFF_STATUS.CLOSE) {\n    return 'Close';\n  }\n  // Perceptible at a glance\n  if (d <= exports.DELTAE94_DIFF_STATUS.GOOD) {\n    return 'Good';\n  }\n  // Colors are more similar than opposite\n  if (d < exports.DELTAE94_DIFF_STATUS.SIMILAR) {\n    return 'Similar';\n  }\n  return 'Wrong';\n}\nexports.getColorDiffStatus = getColorDiffStatus;\nfunction getColorIndex(r, g, b) {\n  return (r << 2 * exports.SIGBITS) + (g << exports.SIGBITS) + b;\n}\nexports.getColorIndex = getColorIndex;","map":{"version":3,"sources":["../src/util.ts"],"names":[],"mappings":"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","sourceRoot":"","sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.getColorIndex = exports.getColorDiffStatus = exports.hexDiff = exports.rgbDiff = exports.deltaE94 = exports.rgbToCIELab = exports.xyzToCIELab = exports.rgbToXyz = exports.hslToRgb = exports.rgbToHsl = exports.rgbToHex = exports.hexToRgb = exports.defer = exports.RSHIFT = exports.SIGBITS = exports.DELTAE94_DIFF_STATUS = void 0;\nexports.DELTAE94_DIFF_STATUS = {\n    NA: 0,\n    PERFECT: 1,\n    CLOSE: 2,\n    GOOD: 10,\n    SIMILAR: 50\n};\nexports.SIGBITS = 5;\nexports.RSHIFT = 8 - exports.SIGBITS;\nfunction defer() {\n    var resolve;\n    var reject;\n    // eslint-disable-next-line promise/param-names\n    var promise = new Promise(function (_resolve, _reject) {\n        resolve = _resolve;\n        reject = _reject;\n    });\n    // @ts-ignore\n    return { resolve: resolve, reject: reject, promise: promise };\n}\nexports.defer = defer;\nfunction hexToRgb(hex) {\n    var m = /^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i.exec(hex);\n    return m === null ? null : [m[1], m[2], m[3]].map(function (s) { return parseInt(s, 16); });\n}\nexports.hexToRgb = hexToRgb;\nfunction rgbToHex(r, g, b) {\n    return '#' + ((1 << 24) + (r << 16) + (g << 8) + b).toString(16).slice(1, 7);\n}\nexports.rgbToHex = rgbToHex;\nfunction rgbToHsl(r, g, b) {\n    r /= 255;\n    g /= 255;\n    b /= 255;\n    var max = Math.max(r, g, b);\n    var min = Math.min(r, g, b);\n    var h;\n    var s;\n    var l = (max + min) / 2;\n    if (max === min) {\n        h = s = 0;\n    }\n    else {\n        var d = max - min;\n        s = l > 0.5 ? d / (2 - max - min) : d / (max + min);\n        switch (max) {\n            case r:\n                h = (g - b) / d + (g < b ? 6 : 0);\n                break;\n            case g:\n                h = (b - r) / d + 2;\n                break;\n            case b:\n                h = (r - g) / d + 4;\n                break;\n        }\n        // @ts-ignore\n        h /= 6;\n    }\n    // @ts-ignore\n    return [h, s, l];\n}\nexports.rgbToHsl = rgbToHsl;\nfunction hslToRgb(h, s, l) {\n    var r;\n    var g;\n    var b;\n    function hue2rgb(p, q, t) {\n        if (t < 0)\n            t += 1;\n        if (t > 1)\n            t -= 1;\n        if (t < 1 / 6)\n            return p + (q - p) * 6 * t;\n        if (t < 1 / 2)\n            return q;\n        if (t < 2 / 3)\n            return p + (q - p) * (2 / 3 - t) * 6;\n        return p;\n    }\n    if (s === 0) {\n        r = g = b = l;\n    }\n    else {\n        var q = l < 0.5 ? l * (1 + s) : l + s - (l * s);\n        var p = 2 * l - q;\n        r = hue2rgb(p, q, h + 1 / 3);\n        g = hue2rgb(p, q, h);\n        b = hue2rgb(p, q, h - (1 / 3));\n    }\n    return [\n        r * 255,\n        g * 255,\n        b * 255\n    ];\n}\nexports.hslToRgb = hslToRgb;\nfunction rgbToXyz(r, g, b) {\n    r /= 255;\n    g /= 255;\n    b /= 255;\n    r = r > 0.04045 ? Math.pow((r + 0.005) / 1.055, 2.4) : r / 12.92;\n    g = g > 0.04045 ? Math.pow((g + 0.005) / 1.055, 2.4) : g / 12.92;\n    b = b > 0.04045 ? Math.pow((b + 0.005) / 1.055, 2.4) : b / 12.92;\n    r *= 100;\n    g *= 100;\n    b *= 100;\n    var x = r * 0.4124 + g * 0.3576 + b * 0.1805;\n    var y = r * 0.2126 + g * 0.7152 + b * 0.0722;\n    var z = r * 0.0193 + g * 0.1192 + b * 0.9505;\n    return [x, y, z];\n}\nexports.rgbToXyz = rgbToXyz;\nfunction xyzToCIELab(x, y, z) {\n    var REF_X = 95.047;\n    var REF_Y = 100;\n    var REF_Z = 108.883;\n    x /= REF_X;\n    y /= REF_Y;\n    z /= REF_Z;\n    x = x > 0.008856 ? Math.pow(x, 1 / 3) : 7.787 * x + 16 / 116;\n    y = y > 0.008856 ? Math.pow(y, 1 / 3) : 7.787 * y + 16 / 116;\n    z = z > 0.008856 ? Math.pow(z, 1 / 3) : 7.787 * z + 16 / 116;\n    var L = 116 * y - 16;\n    var a = 500 * (x - y);\n    var b = 200 * (y - z);\n    return [L, a, b];\n}\nexports.xyzToCIELab = xyzToCIELab;\nfunction rgbToCIELab(r, g, b) {\n    var _a = rgbToXyz(r, g, b), x = _a[0], y = _a[1], z = _a[2];\n    return xyzToCIELab(x, y, z);\n}\nexports.rgbToCIELab = rgbToCIELab;\nfunction deltaE94(lab1, lab2) {\n    var WEIGHT_L = 1;\n    var WEIGHT_C = 1;\n    var WEIGHT_H = 1;\n    var L1 = lab1[0], a1 = lab1[1], b1 = lab1[2];\n    var L2 = lab2[0], a2 = lab2[1], b2 = lab2[2];\n    var dL = L1 - L2;\n    var da = a1 - a2;\n    var db = b1 - b2;\n    var xC1 = Math.sqrt(a1 * a1 + b1 * b1);\n    var xC2 = Math.sqrt(a2 * a2 + b2 * b2);\n    var xDL = L2 - L1;\n    var xDC = xC2 - xC1;\n    var xDE = Math.sqrt(dL * dL + da * da + db * db);\n    var xDH = (Math.sqrt(xDE) > Math.sqrt(Math.abs(xDL)) + Math.sqrt(Math.abs(xDC)))\n        ? Math.sqrt(xDE * xDE - xDL * xDL - xDC * xDC)\n        : 0;\n    var xSC = 1 + 0.045 * xC1;\n    var xSH = 1 + 0.015 * xC1;\n    xDL /= WEIGHT_L;\n    xDC /= WEIGHT_C * xSC;\n    xDH /= WEIGHT_H * xSH;\n    return Math.sqrt(xDL * xDL + xDC * xDC + xDH * xDH);\n}\nexports.deltaE94 = deltaE94;\nfunction rgbDiff(rgb1, rgb2) {\n    var lab1 = rgbToCIELab.apply(undefined, rgb1);\n    var lab2 = rgbToCIELab.apply(undefined, rgb2);\n    return deltaE94(lab1, lab2);\n}\nexports.rgbDiff = rgbDiff;\nfunction hexDiff(hex1, hex2) {\n    var rgb1 = hexToRgb(hex1);\n    var rgb2 = hexToRgb(hex2);\n    return rgbDiff(rgb1, rgb2);\n}\nexports.hexDiff = hexDiff;\nfunction getColorDiffStatus(d) {\n    if (d < exports.DELTAE94_DIFF_STATUS.NA) {\n        return 'N/A';\n    }\n    // Not perceptible by human eyes\n    if (d <= exports.DELTAE94_DIFF_STATUS.PERFECT) {\n        return 'Perfect';\n    }\n    // Perceptible through close observation\n    if (d <= exports.DELTAE94_DIFF_STATUS.CLOSE) {\n        return 'Close';\n    }\n    // Perceptible at a glance\n    if (d <= exports.DELTAE94_DIFF_STATUS.GOOD) {\n        return 'Good';\n    }\n    // Colors are more similar than opposite\n    if (d < exports.DELTAE94_DIFF_STATUS.SIMILAR) {\n        return 'Similar';\n    }\n    return 'Wrong';\n}\nexports.getColorDiffStatus = getColorDiffStatus;\nfunction getColorIndex(r, g, b) {\n    return (r << (2 * exports.SIGBITS)) + (g << exports.SIGBITS) + b;\n}\nexports.getColorIndex = getColorIndex;\n//# sourceMappingURL=util.js.map"]},"metadata":{},"sourceType":"script"}