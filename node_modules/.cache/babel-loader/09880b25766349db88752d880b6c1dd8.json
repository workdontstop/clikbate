{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\oghen\\\\OneDrive\\\\Documents\\\\ClikBate\\\\Clikbate\\\\src\\\\profile\\\\MiniPost.tsx\",\n    _s = $RefreshSig$();\n\nimport React, { useRef, useState, useEffect, useCallback, useLayoutEffect } from \"react\";\nimport { useSpring, animated } from \"react-spring\";\nimport CommentIcon from \"@mui/icons-material/Comment\";\nimport SentimentVerySatisfiedIcon from '@material-ui/icons/SentimentVerySatisfied';\nimport CircleIcon from \"@mui/icons-material/Circle\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { matchMobile, matchPc, matchTablet } from \"../DetectDevice\";\nimport { UserInfoUpdateMEMBER } from \"../log/actions/UserdataAction\";\nimport { Updatepagenum } from \".././GlobalActions\";\nimport { Connect } from \"./Connect\";\nimport { useInView } from \"react-intersection-observer\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nfunction MiniPostx({\n  pey,\n  addPostItemsRef,\n  onPostsItemload,\n  post,\n  length,\n  itemheight,\n  itemheighthold,\n  postbackheight,\n  itemcroptype,\n  itemFinalPostHeight,\n  onPostsItemClicked,\n  itemCLICKED,\n  addpostDivRefx,\n  postDatainner,\n  itemOriginalPostHeight,\n  ActiveAutoPlay,\n  setActiveAutoPlay,\n  AUTOSlideLongImages,\n  postDivRefx,\n  onLoadDataOnce,\n  postDatainnerThumb,\n  setcountAutoplay,\n  countAutoplay,\n  second,\n  setsecond,\n  secondgo,\n  setsecondgo,\n  scrollToPostx,\n  OpenModalForm,\n  setDiscussionImage,\n  postData,\n  setCommentPostid,\n  miniLayoutPost,\n  setStopBodyScroll,\n  setminiProfile,\n  postItemsRef,\n  miniProfile,\n  zoomClickedIndex,\n  setzoomClickedIndex,\n  sliderIndexMini,\n  setSliderIndexMini,\n  paperPostScrollRef,\n  postDatainnerInteraction2,\n  postDatainnerInteraction1,\n  ShowBigPlay,\n  ActiveCanvasx,\n  setActiveCanvasx\n}) {\n  _s();\n\n  const {\n    REACT_APP_APPX_STATE\n  } = process.env;\n  var allow4dev = \"\";\n\n  if (REACT_APP_APPX_STATE === \"dev\") {\n    allow4dev = \"http://localhost:1000\";\n  } else {\n    allow4dev = \"\";\n  }\n\n  const Timer = useRef(null);\n  const [opacityController, setopacityController] = useState(false);\n  const [StopSpring, setStopSpring] = useState(false);\n  const [showIndex, setshowIndex] = useState(false);\n  const [profileImagethumbTop, setprofileImagethumbTop] = useState(0);\n  const [profileImagethumbLeft, setprofileImagethumbLeft] = useState(0);\n  const [interactHeightResolution, setinteractHeightResolution] = useState(window.innerHeight * 1.2);\n  const [data, setdata] = useState(null);\n  const [canvasInteractWidth, setcanvasInteractWidth] = useState(0);\n  const [canvasInteractheight, setcanvasInteractheight] = useState(0);\n  const [imageWidthcss, setimageWidthcss] = useState(0);\n  const [imageHeightcss, setimageHeightcss] = useState(0);\n  const pic = useRef(null);\n  const animationmenu = useSpring({\n    config: {\n      duration: 2\n    },\n    opacity: opacityController ? 1 : StopSpring ? 1 : 0,\n    transform: opacityController ? `translateY(0%)` : StopSpring ? `translateY(0%)` : `translateY(150%)`\n  }); ///\n  ///\n  ///\n  /// SPRING TRANSITION WITH INDEX\n\n  useEffect(() => {\n    setTimeout(() => {\n      setStopSpring(true);\n    }, 30000);\n  }, [post]);\n  const [cropInitialIn, setcropInitialIn] = useState([{\n    x: post.interact1ax,\n    y: post.interact1ay\n  }, {\n    x: post.interact2ax,\n    y: post.interact2ay\n  }, {\n    x: post.interact3ax,\n    y: post.interact3ay\n  }]);\n  const [cropInitialIn2, setcropInitialIn2] = useState([{\n    x: post.interact1bx,\n    y: post.interact1by\n  }, {\n    x: post.interact2bx,\n    y: post.interact2by\n  }, {\n    x: post.interact3bx,\n    y: post.interact3by\n  }]); // Bilinear interpolation function\n\n  function interpolate(imageData, x, y) {\n    var x_floor = Math.floor(x);\n    var y_floor = Math.floor(y); // Ensure bounds are within the source image\n\n    x_floor = Math.max(0, Math.min(imageData.width - 2, x_floor));\n    y_floor = Math.max(0, Math.min(imageData.height - 2, y_floor));\n    var x_frac = x - x_floor;\n    var y_frac = y - y_floor;\n    var p1 = getPixel(imageData, x_floor, y_floor);\n    var p2 = getPixel(imageData, x_floor + 1, y_floor);\n    var p3 = getPixel(imageData, x_floor, y_floor + 1);\n    var p4 = getPixel(imageData, x_floor + 1, y_floor + 1);\n    var topInterpolation = interpolatePixelValues(p1, p2, x_frac);\n    var bottomInterpolation = interpolatePixelValues(p3, p4, x_frac);\n    return interpolatePixelValues(topInterpolation, bottomInterpolation, y_frac);\n  } // Helper function to get a pixel from image data\n\n\n  function getPixel(imageData, x, y) {\n    var index = (y * imageData.width + x) * 4;\n    return [imageData.data[index], imageData.data[index + 1], imageData.data[index + 2], imageData.data[index + 3]];\n  } // Helper function to interpolate between pixel values\n\n\n  function interpolatePixelValues(p1, p2, t) {\n    return [(1 - t) * p1[0] + t * p2[0], (1 - t) * p1[1] + t * p2[1], (1 - t) * p1[2] + t * p2[2], (1 - t) * p1[3] + t * p2[3]];\n  }\n\n  const tiim = useRef(null);\n  const callInteract = useCallback(() => {\n    if (!canvasRefIn.current) return; /// alert('j');\n\n    const context = canvasRefIn.current.getContext(\"2d\");\n    context.clearRect(0, 0, canvasRefIn.current.width, canvasRefIn.current.height);\n    const previewFileReadimage = new Image();\n    previewFileReadimage.crossOrigin = \"anonymous\";\n    previewFileReadimage.src = pic.current.src;\n\n    previewFileReadimage.onload = () => {\n      const ratio = previewFileReadimage.naturalHeight / previewFileReadimage.naturalWidth;\n      const width = interactHeightResolution / ratio;\n      const ratiox = previewFileReadimage.naturalWidth / previewFileReadimage.naturalHeight;\n      const hei = window.innerHeight / ratiox;\n      setcanvasInteractWidth(width);\n      setcanvasInteractheight(hei);\n      setimageWidthcss(postDivRefx.current[pey].clientWidth);\n      setimageHeightcss(postDivRefx.current[pey].clientHeight);\n\n      if (data !== previewFileReadimage) {\n        setdata(previewFileReadimage);\n      }\n    };\n  }, [post, postItemsRef, postDivRefx, interactHeightResolution]);\n  useLayoutEffect(() => {\n    if (data) {\n      drawInteraction(0, 0, 0);\n    }\n  }, [data]);\n  const ScaleCoOrdinates = useCallback((event, type) => {\n    if (canvasRefIn.current) {\n      const rect = canvasRefIn.current.getBoundingClientRect();\n      const scaleX = canvasRefIn.current.width / rect.width;\n      const scaleY = canvasRefIn.current.height / rect.height;\n      let x, y;\n\n      if (matchMobile) {\n        // Handle touch events\n        if (event && event.touches && event.touches.length > 0) {\n          x = (event.touches[0].clientX - rect.left) * scaleX;\n          y = (event.touches[0].clientY - rect.top) * scaleY; // Now you can use x and y in your code\n        }\n      } else {\n        // Handle mouse events\n        x = (event.clientX - rect.left) * scaleX;\n        y = (event.clientY - rect.top) * scaleY;\n      }\n\n      return {\n        x,\n        y\n      };\n    } else {\n      return {\n        x: 0,\n        y: 0\n      };\n    }\n  }, [matchMobile]);\n  const drawInteraction = useCallback((typex, event, clicked) => {\n    const adjustedPos = ScaleCoOrdinates(event, 0);\n    const xnew = adjustedPos.x;\n    const ynew = adjustedPos.y;\n\n    if (canvasRefIn.current) {\n      const context = canvasRefIn.current.getContext(\"2d\");\n      canvasRefIn.current.height = interactHeightResolution;\n      canvasRefIn.current.width = canvasInteractWidth;\n      requestAnimationFrame(() => {\n        context.drawImage(data, 0, 0, canvasInteractWidth, interactHeightResolution);\n        var offsety = 0;\n        const isEdge = /Edg/i.test(navigator.userAgent);\n        const isFirefox = /Firefox/i.test(navigator.userAgent);\n\n        if (isEdge) {\n          offsety = -20;\n        } else if (isFirefox) {\n          offsety = -10;\n        } else {\n          offsety = 0;\n        } // Access the total width of the element, including margins and borders\n\n\n        var screenWidth = 0;\n\n        if (isEdge) {\n          screenWidth = window.innerWidth * 1.01;\n        } else if (isFirefox) {\n          screenWidth = window.innerWidth * 0.98;\n        } else {\n          screenWidth = window.innerWidth * 0.98;\n        }\n\n        var pictureWidth = canvasInteractWidth;\n        var offsetX = (screenWidth - pictureWidth) / 2;\n        var xx = cropInitialIn[0].x;\n        var yy = cropInitialIn[0].y;\n        const xxw = cropInitialIn2[0].x;\n        const yyw = cropInitialIn2[0].y;\n\n        if (post.rad1 === null) {\n          var r1 = 120;\n        } else {\n          // Given values\n          const percentageCoverage = post.rad1; // Replace with your actual percentageCoverage\n\n          const canvasWidth = canvasInteractWidth\n          /* your canvas width */\n          ; // Calculate the radius\n\n          var r1 = percentageCoverage * canvasWidth / 200;\n        }\n\n        if (post.rad2 === null) {\n          var r2 = 120;\n        } else {\n          const percentageCoveragex = post.rad2; // Replace with your actual percentageCoverage\n\n          const canvasWidthx = canvasInteractWidth\n          /* your canvas width */\n          ; // Calculate the radius\n\n          var r2 = percentageCoveragex * canvasWidthx / 200;\n        } // Calculate the X-coordinate\n\n\n        const xCoordinate = xx / 100 * canvasInteractWidth;\n        var x2 = xCoordinate;\n        const yCoordinate = yy / 100 * interactHeightResolution;\n        var y2 = yCoordinate;\n        const xCoordinatex = xxw / 100 * canvasInteractWidth;\n        var x2b = xCoordinatex;\n        const yCoordinatex = yyw / 100 * interactHeightResolution;\n        var y2b = yCoordinatex;\n        context.beginPath();\n        context.arc(xnew, ynew, 5, 0, Math.PI * 2);\n        context.fillStyle = \"rgba(250, 250,250,0)\";\n        context.fill();\n        context.closePath();\n        var clikarc1 = context.isPointInPath(0, 0);\n        var clikarc2 = context.isPointInPath(0, 0);\n\n        if (post.interact1a || post.interact1b) {\n          //alert('jj');\n          var scaleFactor = 1.03; // You can adjust this value to control the zoom level\n\n          if (post.interact1a) {\n            if (typex === 0 || typex === 3) {\n              var imageData = context.getImageData(x2 - 1 - r1, y2 - 0.5 - r1, 2.1 * r1, 2.1 * r1); // (x, y, width, height)\n              // Create a larger image data for the zoom effect\n\n              var zoomedImageData = context.createImageData(imageData.width * scaleFactor, imageData.height * scaleFactor); // Copy pixels from the original image data to the larger image data with bilinear interpolation\n\n              for (var ybb = 0; ybb < zoomedImageData.height; ybb++) {\n                for (var xbb = 0; xbb < zoomedImageData.width; xbb++) {\n                  var sourceX = xbb / scaleFactor;\n                  var sourceY = ybb / scaleFactor; // Get the interpolated pixel value\n\n                  var interpolatedPixel = interpolate(imageData, sourceX, sourceY); // Set the pixel values in the zoomed image data\n\n                  var destIndex = (ybb * zoomedImageData.width + xbb) * 4;\n                  zoomedImageData.data[destIndex] = interpolatedPixel[0];\n                  zoomedImageData.data[destIndex + 1] = interpolatedPixel[1];\n                  zoomedImageData.data[destIndex + 2] = interpolatedPixel[2];\n                  zoomedImageData.data[destIndex + 3] = interpolatedPixel[3];\n                }\n              } // Apply a light white border at the borders\n\n\n              var borderWidth = 0; // Adjust the width of the border\n\n              for (var ybb = 0; ybb < zoomedImageData.height; ybb++) {\n                for (var xbb = 0; xbb < zoomedImageData.width; xbb++) {\n                  if (xbb < borderWidth || xbb >= zoomedImageData.width - borderWidth || ybb < borderWidth || ybb >= zoomedImageData.height - borderWidth) {\n                    // Apply a light white color to the border\n                    var destIndex = (ybb * zoomedImageData.width + xbb) * 4;\n                    zoomedImageData.data[destIndex] = 230; // Red channel\n\n                    zoomedImageData.data[destIndex + 1] = 20; // Green channel\n\n                    zoomedImageData.data[destIndex + 2] = 2; // Blue channel\n\n                    zoomedImageData.data[destIndex + 3] = 0.8; // Alpha channel\n                  }\n                }\n              } // Put the modified pixel data back onto the canvas\n\n\n              context.putImageData(zoomedImageData, x2 - r1 * scaleFactor, y2 - r1 * scaleFactor);\n            } //////////////////////////////////////////////////////////////////////////////////////////////////\n\n\n            if ([0, 3].includes(typex)) {\n              context.beginPath();\n              context.arc(x2, y2, r1, 0, Math.PI * 2);\n              clikarc1 = context.isPointInPath(xnew, ynew);\n              context.fillStyle = darkmodeReducer ? \"rgba(50, 50,50,0)\" : \"rgba(250, 250,250,0.0)\";\n              context.closePath();\n              context.fill();\n            } else if (typex === 1) {\n              context.beginPath();\n              context.arc(x2, y2, r1, 0, Math.PI * 2);\n              clikarc1 = context.isPointInPath(xnew, ynew);\n              context.fillStyle = `rgba(250, 250,250,0.0)`;\n              context.closePath();\n              context.fill();\n            }\n          }\n\n          if (post.interact1b) {\n            if (typex === 0 || typex === 3) {\n              var imageData2 = context.getImageData(x2b - 1 - r2, y2b - 0.5 - r2, 2.1 * r2, 2.1 * r2); // (x, y, width, height)\n              // Create a larger image data for the zoom effect\n\n              var zoomedImageData2 = context.createImageData(imageData2.width * scaleFactor, imageData2.height * scaleFactor); // Copy pixels from the original image data to the larger image data with bilinear interpolation\n\n              for (var ybb = 0; ybb < zoomedImageData2.height; ybb++) {\n                for (var xbb = 0; xbb < zoomedImageData2.width; xbb++) {\n                  var sourceX = xbb / scaleFactor;\n                  var sourceY = ybb / scaleFactor; // Get the interpolated pixel value\n\n                  var interpolatedPixel = interpolate(imageData2, sourceX, sourceY); // Set the pixel values in the zoomed image data\n\n                  var destIndex = (ybb * zoomedImageData2.width + xbb) * 4;\n                  zoomedImageData2.data[destIndex] = interpolatedPixel[0];\n                  zoomedImageData2.data[destIndex + 1] = interpolatedPixel[1];\n                  zoomedImageData2.data[destIndex + 2] = interpolatedPixel[2];\n                  zoomedImageData2.data[destIndex + 3] = interpolatedPixel[3];\n                }\n              } // Apply a light white border at the borders\n\n\n              var borderWidth = 0; // Adjust the width of the border\n\n              for (var ybb = 0; ybb < zoomedImageData2.height; ybb++) {\n                for (var xbb = 0; xbb < zoomedImageData2.width; xbb++) {\n                  if (xbb < borderWidth || xbb >= zoomedImageData2.width - borderWidth || ybb < borderWidth || ybb >= zoomedImageData2.height - borderWidth) {\n                    // Apply a light white color to the border\n                    var destIndex = (ybb * zoomedImageData2.width + xbb) * 4;\n                    zoomedImageData2.data[destIndex] = 230; // Red channel\n\n                    zoomedImageData2.data[destIndex + 1] = 20; // Green channel\n\n                    zoomedImageData2.data[destIndex + 2] = 2; // Blue channel\n\n                    zoomedImageData2.data[destIndex + 3] = 0.8; // Alpha channel\n                  }\n                }\n              } // Put the modified pixel data back onto the canvas\n\n\n              context.putImageData(zoomedImageData2, x2b - r2 * scaleFactor, y2b - r2 * scaleFactor);\n            } ///////////////////////////////////////////////////////////////////////////////////////////////\n\n\n            if ([0, 3].includes(typex)) {\n              context.beginPath();\n              context.arc(x2b, y2b, r2, 0, Math.PI * 2);\n              clikarc2 = context.isPointInPath(xnew, ynew);\n              context.fillStyle = darkmodeReducer ? \"rgba(50, 50,50,0)\" : \"rgba(250, 250,250,0.0)\";\n              context.closePath();\n              context.fill(); ///context.lineWidth = matchMobile ? 9.6 : itemcroptype[pey] === 3 ? 9 : 6;\n              ///context.strokeStyle = darkmodeReducer ? \"#ffffff\" : \"#333333\";\n              ///context.stroke();\n            } else if (typex === 1) {\n              context.beginPath();\n              context.arc(x2b, y2b, r2, 0, Math.PI * 2);\n              clikarc2 = context.isPointInPath(xnew, ynew);\n              context.fillStyle = `rgba(250, 250,250,0.0)`;\n              context.closePath();\n              context.fill();\n            }\n          }\n\n          if (typex === 3) {} else {\n            if (tiim.current) {\n              clearTimeout(tiim.current);\n            }\n\n            tiim.current = setTimeout(() => {\n              if (typex === 0 || typex === 3) {\n                drawInteraction(1, event, 0);\n              } else {\n                drawInteraction(0, event, 0);\n              }\n            }, 130);\n          }\n\n          if (canvasRefIn.current) {\n            canvasRefIn.current.style.width = `${imageWidthcss}px`;\n            canvasRefIn.current.style.height = `${imageHeightcss}px`;\n          } //alert(imageHeightcss);\n\n        }\n      });\n    }\n  }, [data, imageWidthcss, imageHeightcss]);\n  useEffect(() => {\n    if (ActiveCanvasx === pey) {\n      ///alert('call');\n      callInteract();\n    }\n  }, [ActiveCanvasx]);\n  useEffect(() => {\n    setTimeout(() => {\n      if (zoomClickedIndex === 0) {\n        setshowIndex(false);\n      } else {\n        if (zoomClickedIndex - 1 === pey) {\n          setshowIndex(true);\n        } else {\n          setshowIndex(false);\n        }\n\n        if (sliderIndexMini > 400) {} else {\n          scrollToPostx(zoomClickedIndex - 1);\n        }\n\n        setzoomClickedIndex(0);\n      }\n    }, 500);\n  }, [miniProfile, sliderIndexMini]);\n  const {\n    ref,\n    inView,\n    entry\n  } = useInView({\n    /* Optional options */\n    threshold: 0.95\n  });\n  useEffect(() => {\n    if (inView) {\n      setActiveCanvasx(pey); ///alert(pey);\n    }\n  }, [inView, pey]); ///\n  ///\n  ///\n  /// GET LOGGED USER DATA FROM REDUX STORE\n\n  const {\n    image,\n    imageThumb,\n    id,\n    memeberPageid,\n    MemberProfileData,\n    username\n  } = useSelector(state => ({ ...state.UserdataReducer\n  }));\n  const imageReducer = image;\n  const imageReducerThumb = imageThumb;\n  const idReducer = id;\n  const memeberPageidReducer = memeberPageid;\n  const MemberProfileDataReducer = MemberProfileData;\n  const usernameReducer = username;\n  ///\n  ///\n  ///\n  /// GET SCREENHEIGHT FROM REDUX STORE\n  const {\n    screenHeight,\n    darkmode,\n    snapStart,\n    activateLoader,\n    historyscroll,\n    interactContent,\n    interact,\n    MenuData,\n    pagenum,\n    SignIn,\n    Guest\n  } = useSelector(state => ({ ...state.GlobalReducer\n  }));\n  const screenHeightReducer = screenHeight;\n  const darkmodeReducer = darkmode;\n  const snapStartReducer = snapStart;\n  const activateLoaderReducer = activateLoader;\n  const historyscrollReducer = historyscroll;\n  const interactContentReducer = interactContent;\n  const interactReducer = interact;\n  const MenuDataReducer = MenuData;\n  const pagenumReducer = pagenum;\n  const SignInReducer = SignIn;\n  const GuestReducer = Guest;\n  const profileImageref = useRef();\n  var textback = \"\";\n\n  if (darkmodeReducer) {\n    textback = \"caption-darkPost\";\n  } else {\n    textback = \"caption-lightPost\";\n  }\n\n  var themepadding = darkmodeReducer ? \"turdarkemo\" : \"turlightemo\";\n  const [LImiter, setLImiter] = useState(false);\n  useEffect(() => {\n    if (onLoadDataOnce[pey]) {\n      if (LImiter) {} else {\n        setTimeout(() => {\n          setopacityController(true);\n        }, pey * 250);\n        setLImiter(true);\n      }\n    }\n  }, [onLoadDataOnce, LImiter]);\n  const [Hideonload, setHideonload] = useState(true);\n  const [FavIcon, setFavIcon] = useState(false);\n  const [CommSho, setCommsho] = useState(false);\n  const canvasRefIn = useRef(null);\n  useEffect(() => {\n    if (post.commentCount > 0) {\n      setCommsho(true);\n    } else if (post.funny > 0 || post.care > 0) {\n      setFavIcon(true);\n    } else {\n      setCommsho(false);\n      setFavIcon(false);\n    }\n\n    setTimeout(() => {\n      setHideonload(false);\n    }, 3500);\n\n    if (post) {\n      setAdded(post.favCount);\n    }\n  }, [post]);\n  var postprofiletop = matchPc ? \"-5.8vh\" : matchTablet ? \"-9.3vh\" : \"-4.7vh\";\n  var posttopicfont = matchPc ? \"1.25vw\" : matchTablet ? \"1.8vh\" : \"1.6vh\";\n  var postusernamefont = matchPc ? \"1.1vw\" : matchTablet ? \"2.32vh\" : \"1.7vh\";\n  var postusernameleft = matchPc ? \"41.1%\" : matchTablet ? \"15.5%\" : \"20%\";\n  var postcirclefont = matchPc ? \"0.7vw\" : matchTablet ? \"1.2vw\" : \"1.1vh\";\n  var postcirclefontx = matchPc ? \"1.4vw\" : matchTablet ? \"1.2vw\" : \"2.2vh\";\n  var dotspace = matchPc ? \"1.7vw\" : matchTablet ? \"1.9vh\" : \"1.9vh\";\n  var dotspace2 = matchPc ? \"0.9vw\" : matchTablet ? \"1.9vh\" : \"1.9vh\";\n  var postusernametop = matchPc ? \"-6vh\" : matchTablet ? \"-11.9vh\" : \"-2.5vh\";\n  var profilewidth = matchPc ? miniLayoutPost ? \"12%\" : \"12.5%\" : matchTablet ? \"12.5%\" : \"15%\";\n  var optionsClass = \"\";\n  var fontOptions = \"\";\n\n  if (matchPc) {\n    optionsClass = \"post-optionsImagePc\";\n    fontOptions = \"1.2vw\";\n  } else if (matchTablet) {\n    optionsClass = \"profile-optionsImageTablet\";\n    fontOptions = \"5rem\";\n  } else {\n    optionsClass = \"profile-optionsImageMobile\";\n    fontOptions = \"1.9rem\";\n  }\n\n  const calculateconnectPosition = useCallback(() => {}, []);\n  const [Added, setAdded] = useState(100);\n  const dispatch = useDispatch();\n\n  const GoToMember = () => {\n    dispatch(Updatepagenum(0));\n\n    if (memeberPageidReducer === post.sender) {} else {\n      ///\n      dispatch(UserInfoUpdateMEMBER(post.sender)); //\n\n      var tt = paperPostScrollRef.current.scrollTop;\n      var n, d;\n\n      if (memeberPageidReducer === 0) {\n        n = usernameReducer;\n        d = {\n          type: 0,\n          id: 0,\n          index: tt,\n          data: postData,\n          innerid: 0,\n          pagenumReducer: pagenumReducer\n        };\n      } else {\n        n = MemberProfileDataReducer.username;\n        d = {\n          type: 1,\n          id: memeberPageidReducer,\n          index: tt,\n          data: postData,\n          innerid: 0,\n          pagenumReducer: pagenumReducer\n        };\n      }\n\n      window.history.replaceState(d, \"\", `${n}`);\n      let modalName = `${post.username}`;\n      var dd = {\n        type: 1,\n        id: post.sender,\n        innerid: 0,\n        pagenumReducer: pagenumReducer\n      };\n      window.history.pushState(dd, \"\", modalName);\n    }\n  };\n\n  const [HasInteractivity, setHasInteractivity] = useState(false);\n\n  const containsURL = str => {\n    // Regular expression pattern to match URLs (simplified, not covering all cases)\n    const urlPattern = /(https?|ftp):\\/\\/[^\\s/$.?#].[^\\s]*/i; // Test if the string contains a URL using the regular expression\n\n    return urlPattern.test(str);\n  };\n\n  useEffect(() => {\n    //console.log(postDatainnerInteraction1[0])\n    postDatainnerInteraction1[pey].map((str, index) => {\n      if (containsURL(str)) {\n        setHasInteractivity(true); ///alert('kk')\n      } else {\n        setHasInteractivity(false);\n        postDatainnerInteraction2[pey].map((str, index) => {\n          if (containsURL(str)) {\n            setHasInteractivity(true);\n          } else {\n            setHasInteractivity(false);\n          }\n        });\n      }\n    });\n  }, [postDatainnerInteraction1[pey], postDatainnerInteraction2[pey], itemCLICKED]);\n  const [isWide, setIsWide] = useState(false);\n\n  const handleImageLoad = e => {\n    const {\n      naturalWidth,\n      naturalHeight\n    } = e.target;\n    const aspectRatio = naturalWidth / naturalHeight;\n\n    if (naturalWidth > naturalHeight) {\n      setIsWide(true);\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(animated.div, {\n      ref: ref,\n      style: animationmenu,\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        ref: addpostDivRefx,\n        style: {\n          padding: \"0px\",\n          width: \"100%\",\n          marginTop: pey === 0 || pey === 1 ? \"-0.5px\" : \"-1.1px\",\n          zIndex: length - 1 - pey,\n          paddingLeft: matchMobile ? \"0px\" : \"0px\",\n          paddingRight: matchMobile ? \"0px\" : \"0px\",\n          paddingTop: matchMobile ? \"10px\" : \"3px\",\n          scrollSnapAlign: snapStartReducer ? \"start\" : 'none'\n        },\n        children: [matchMobile ? /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            position: \"absolute\",\n            zIndex: 30,\n            right: -14,\n            cursor: \"pointer\",\n            top: matchMobile ? '1vh' : \"4vh\",\n            fontFamily: \"Arial, Helvetica, sans-serif\",\n            fontWeight: \"bolder\",\n            opacity: 1,\n            height: \"0px\",\n            padding: \"0px\"\n          },\n          children: /*#__PURE__*/_jsxDEV(\"span\", {\n            className: HasInteractivity ? \"zuperkingtur heartbeat\" : darkmodeReducer ? \"turx\" : \"turdark\",\n            style: {\n              padding: \"7px\",\n              paddingLeft: HasInteractivity ? matchMobile ? '3.3vw' : \"0.9vw\" : '10px',\n              paddingRight: HasInteractivity ? matchMobile ? '3.3vw' : \"0.9vw\" : '10px',\n              backgroundColor: post.color1,\n              borderRadius: \"50%\",\n              fontSize: \"0.92vw\",\n              display: HasInteractivity ? 'block' : 'none',\n              color: darkmodeReducer ? \"#ffffff\" : \"#000000\",\n              transform: matchMobile ? 'scale(0.15)' : 'scale(0.3)'\n            },\n            children: /*#__PURE__*/_jsxDEV(\"span\", {\n              style: {\n                opacity: 0\n              },\n              children: 0\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1001,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 986,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 971,\n          columnNumber: 26\n        }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            position: \"absolute\",\n            zIndex: 30,\n            left: 30,\n            cursor: \"pointer\",\n            top: \"4vh\",\n            fontFamily: \"Arial, Helvetica, sans-serif\",\n            fontWeight: \"bolder\",\n            opacity: 1,\n            height: \"0px\",\n            padding: \"0px\"\n          },\n          children: /*#__PURE__*/_jsxDEV(\"span\", {\n            className: HasInteractivity ? \"zuperkingtur heartbeat\" : darkmodeReducer ? \"turx\" : \"turdark\",\n            style: {\n              padding: \"7px\",\n              paddingLeft: HasInteractivity ? matchMobile ? '3.3vw' : \"0.9vw\" : '10px',\n              paddingRight: HasInteractivity ? matchMobile ? '3.3vw' : \"0.9vw\" : '10px',\n              backgroundColor: post.color1,\n              borderRadius: \"50%\",\n              fontSize: \"0.92vw\",\n              display: HasInteractivity ? 'block' : 'none',\n              color: darkmodeReducer ? \"#ffffff\" : \"#000000\",\n              transform: matchMobile ? 'scale(0.15)' : 'scale(0.26)'\n            },\n            children: /*#__PURE__*/_jsxDEV(\"span\", {\n              style: {\n                opacity: 0\n              },\n              children: 0\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1033,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1018,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1003,\n          columnNumber: 20\n        }, this), \" \", /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"img\", {\n            onLoad: handleImageLoad,\n            onClick: () => {\n              setzoomClickedIndex(pey + 1);\n              setSliderIndexMini(0);\n              setminiProfile(false);\n            },\n            className: darkmodeReducer ? \"turlightpostdark\" : \"turlightpostlight\",\n            src: postDatainnerThumb[pey][showIndex ? sliderIndexMini > 400 ? 0 : sliderIndexMini : 0],\n            alt: \"a Clikbate post \",\n            style: {\n              cursor: \"pointer\",\n              width: \"100%\",\n              height: isWide && matchMobile ? '28vh' : 'auto',\n              position: \"absolute\",\n              padding: \"0px\",\n              objectFit: itemcroptype[pey] === 1 || itemcroptype[pey] === 2 ? \"cover\" : \"cover\",\n              objectPosition: itemcroptype[pey] === 1 || itemcroptype[pey] === 2 ? \"50% top\" : \"50% 50\",\n              zIndex: 0\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1041,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n            ref: pic,\n            onLoad: handleImageLoad,\n            onClick: () => {\n              setzoomClickedIndex(pey + 1);\n              setSliderIndexMini(0);\n              setminiProfile(false);\n            },\n            className: darkmodeReducer ? \"turlightpostdark\" : \"turlightpostlight\",\n            src: postDatainner[pey][showIndex ? sliderIndexMini > 400 ? 0 : sliderIndexMini : 0],\n            alt: \"a Clikbate post \",\n            style: {\n              cursor: \"pointer\",\n              width: \"100%\",\n              height: isWide && matchMobile ? '28vh' : 'auto',\n              position: ActiveCanvasx ? \"absolute\" : 'relative',\n              padding: \"0px\",\n              objectFit: itemcroptype[pey] === 1 || itemcroptype[pey] === 2 ? \"cover\" : \"cover\",\n              objectPosition: itemcroptype[pey] === 1 || itemcroptype[pey] === 2 ? \"50% top\" : \"50% 50\",\n              zIndex: 1\n            },\n            crossOrigin: \"anonymous\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1079,\n            columnNumber: 13\n          }, this), HasInteractivity && ActiveCanvasx === pey ? /*#__PURE__*/_jsxDEV(\"canvas\", {\n            onMouseUp: e => {///handleTouchStartIn(e, 0);\n            },\n            onTouchStart: e => {/// handleTouchStartIn(e, 1);\n            },\n            ref: canvasRefIn,\n            style: {\n              cursor: \"pointer\",\n              padding: \"0px\",\n              position: ActiveCanvasx ? 'relative' : \"absolute\",\n              zIndex: 110,\n              height: '300px',\n              width: '300px',\n              top: \"0vh\",\n              margin: \"auto\",\n              backgroundColor: '#00ccff',\n              //// opacity: HideCann ? 0 : 1,\n              visibility: 'visible'\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1121,\n            columnNumber: 15\n          }, this) : null]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1039,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: darkmodeReducer ? \"zuperxyinfoPostDark\" : \"zuperxyinfoPostLight\",\n          style: {\n            visibility: miniLayoutPost ? \"hidden\" : \"visible\",\n            top: postusernametop,\n            position: \"relative\",\n            display: \"flex\",\n            //flex\n            alignItems: \"center\",\n            justifyContent: \"left\",\n            zIndex: 50,\n            color: \"#ffffffff\",\n            paddingLeft: \"2vw\",\n            fontFamily: \"Arial, Helvetica, sans-seri\",\n            marginLeft: postusernameleft,\n            textAlign: \"center\",\n            left: matchMobile ? '6vw' : '0px',\n            height: \"0px\"\n          },\n          children: /*#__PURE__*/_jsxDEV(\"span\", {\n            children: /*#__PURE__*/_jsxDEV(\"span\", {\n              className: darkmodeReducer ? \"zuperkinglight\" : \"zuperkinglight\",\n              style: {\n                color: darkmodeReducer ? \"#ffffff\" : \"#ffffff\"\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                style: {\n                  fontWeight: \"bold\",\n                  fontSize: postusernamefont\n                },\n                children: post.username\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1182,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                style: {\n                  opacity: 0,\n                  fontSize: dotspace\n                },\n                children: \".\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1191,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: ShowBigPlay ? `blinkingxx    ` : `    `,\n                style: {\n                  marginLeft: matchMobile ? '3vw' : '1vw'\n                },\n                children: CommSho ? /*#__PURE__*/_jsxDEV(CommentIcon, {\n                  className: darkmode ? 'zuperkingIconPostDark' : \"zuperkingIconPostLightx\",\n                  style: {\n                    fontSize: postcirclefontx,\n                    color: post.color1\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1211,\n                  columnNumber: 21\n                }, this) : FavIcon ? /*#__PURE__*/_jsxDEV(SentimentVerySatisfiedIcon, {\n                  className: darkmode ? 'zuperkingIconPostDark' : \"zuperkingIconPostLightx\",\n                  style: {\n                    fontSize: postcirclefontx,\n                    color: post.color1\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1218,\n                  columnNumber: 23\n                }, this) : /*#__PURE__*/_jsxDEV(CircleIcon, {\n                  className: darkmode ? 'zuperkingIconPostDark' : \"zuperkingIconPostLightx\",\n                  style: {\n                    fontSize: postcirclefont,\n                    color: post.color1\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1225,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1202,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                style: {\n                  opacity: 0,\n                  fontSize: dotspace2\n                },\n                children: \".\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1239,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1174,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1173,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1152,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Connect, {\n          GoToMember: GoToMember,\n          Added: Added,\n          setAdded: setAdded,\n          PostCon: 2,\n          Comment: 0,\n          Reaction: 0,\n          Profile: 0,\n          Mini: 0,\n          profileImageref: profileImageref,\n          calculateconnectPosition: calculateconnectPosition,\n          profilewidth: profilewidth,\n          postprofiletop: postprofiletop,\n          optionsClass: optionsClass,\n          post: post,\n          profileImagethumbLeft: profileImagethumbLeft,\n          profileImagethumbTop: profileImagethumbTop\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1253,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              fontWeight: \"bold\",\n              color: darkmodeReducer ? \"#ffffff\" : \"#000000\",\n              fontSize: matchPc ? \"2.2vh\" : \"1.7vh\",\n              zIndex: 5,\n              paddingLeft: matchPc ? \"7vw\" : matchTablet ? \"2.3vw\" : \"2vw\",\n              height: \"0px\",\n              fontFamily: \"Arial, Helvetica, sans-serif\",\n              opacity: darkmodeReducer ? \"0.6\" : \"0.8\"\n            },\n            children: [\"   \", /*#__PURE__*/_jsxDEV(\"p\", {\n              children: post.topic\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1287,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1276,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1273,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 955,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 952,\n      columnNumber: 7\n    }, this)\n  }, void 0, false);\n}\n\n_s(MiniPostx, \"3+ep8Lm7cj1yD933RZ7SkKzmFX0=\", false, function () {\n  return [useSpring, useInView, useSelector, useSelector, useDispatch];\n});\n\n_c = MiniPostx;\nexport const MiniPost = /*#__PURE__*/React.memo(MiniPostx);\n_c2 = MiniPost;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"MiniPostx\");\n$RefreshReg$(_c2, \"MiniPost\");","map":{"version":3,"sources":["C:/Users/oghen/OneDrive/Documents/ClikBate/Clikbate/src/profile/MiniPost.tsx"],"names":["React","useRef","useState","useEffect","useCallback","useLayoutEffect","useSpring","animated","CommentIcon","SentimentVerySatisfiedIcon","CircleIcon","useSelector","useDispatch","matchMobile","matchPc","matchTablet","UserInfoUpdateMEMBER","Updatepagenum","Connect","useInView","MiniPostx","pey","addPostItemsRef","onPostsItemload","post","length","itemheight","itemheighthold","postbackheight","itemcroptype","itemFinalPostHeight","onPostsItemClicked","itemCLICKED","addpostDivRefx","postDatainner","itemOriginalPostHeight","ActiveAutoPlay","setActiveAutoPlay","AUTOSlideLongImages","postDivRefx","onLoadDataOnce","postDatainnerThumb","setcountAutoplay","countAutoplay","second","setsecond","secondgo","setsecondgo","scrollToPostx","OpenModalForm","setDiscussionImage","postData","setCommentPostid","miniLayoutPost","setStopBodyScroll","setminiProfile","postItemsRef","miniProfile","zoomClickedIndex","setzoomClickedIndex","sliderIndexMini","setSliderIndexMini","paperPostScrollRef","postDatainnerInteraction2","postDatainnerInteraction1","ShowBigPlay","ActiveCanvasx","setActiveCanvasx","REACT_APP_APPX_STATE","process","env","allow4dev","Timer","opacityController","setopacityController","StopSpring","setStopSpring","showIndex","setshowIndex","profileImagethumbTop","setprofileImagethumbTop","profileImagethumbLeft","setprofileImagethumbLeft","interactHeightResolution","setinteractHeightResolution","window","innerHeight","data","setdata","canvasInteractWidth","setcanvasInteractWidth","canvasInteractheight","setcanvasInteractheight","imageWidthcss","setimageWidthcss","imageHeightcss","setimageHeightcss","pic","animationmenu","config","duration","opacity","transform","setTimeout","cropInitialIn","setcropInitialIn","x","interact1ax","y","interact1ay","interact2ax","interact2ay","interact3ax","interact3ay","cropInitialIn2","setcropInitialIn2","interact1bx","interact1by","interact2bx","interact2by","interact3bx","interact3by","interpolate","imageData","x_floor","Math","floor","y_floor","max","min","width","height","x_frac","y_frac","p1","getPixel","p2","p3","p4","topInterpolation","interpolatePixelValues","bottomInterpolation","index","t","tiim","callInteract","canvasRefIn","current","context","getContext","clearRect","previewFileReadimage","Image","crossOrigin","src","onload","ratio","naturalHeight","naturalWidth","ratiox","hei","clientWidth","clientHeight","drawInteraction","ScaleCoOrdinates","event","type","rect","getBoundingClientRect","scaleX","scaleY","touches","clientX","left","clientY","top","typex","clicked","adjustedPos","xnew","ynew","requestAnimationFrame","drawImage","offsety","isEdge","test","navigator","userAgent","isFirefox","screenWidth","innerWidth","pictureWidth","offsetX","xx","yy","xxw","yyw","rad1","r1","percentageCoverage","canvasWidth","rad2","r2","percentageCoveragex","canvasWidthx","xCoordinate","x2","yCoordinate","y2","xCoordinatex","x2b","yCoordinatex","y2b","beginPath","arc","PI","fillStyle","fill","closePath","clikarc1","isPointInPath","clikarc2","interact1a","interact1b","scaleFactor","getImageData","zoomedImageData","createImageData","ybb","xbb","sourceX","sourceY","interpolatedPixel","destIndex","borderWidth","putImageData","includes","darkmodeReducer","imageData2","zoomedImageData2","clearTimeout","style","ref","inView","entry","threshold","image","imageThumb","id","memeberPageid","MemberProfileData","username","state","UserdataReducer","imageReducer","imageReducerThumb","idReducer","memeberPageidReducer","MemberProfileDataReducer","usernameReducer","screenHeight","darkmode","snapStart","activateLoader","historyscroll","interactContent","interact","MenuData","pagenum","SignIn","Guest","GlobalReducer","screenHeightReducer","snapStartReducer","activateLoaderReducer","historyscrollReducer","interactContentReducer","interactReducer","MenuDataReducer","pagenumReducer","SignInReducer","GuestReducer","profileImageref","textback","themepadding","LImiter","setLImiter","Hideonload","setHideonload","FavIcon","setFavIcon","CommSho","setCommsho","commentCount","funny","care","setAdded","favCount","postprofiletop","posttopicfont","postusernamefont","postusernameleft","postcirclefont","postcirclefontx","dotspace","dotspace2","postusernametop","profilewidth","optionsClass","fontOptions","calculateconnectPosition","Added","dispatch","GoToMember","sender","tt","scrollTop","n","d","innerid","history","replaceState","modalName","dd","pushState","HasInteractivity","setHasInteractivity","containsURL","str","urlPattern","map","isWide","setIsWide","handleImageLoad","e","target","aspectRatio","padding","marginTop","zIndex","paddingLeft","paddingRight","paddingTop","scrollSnapAlign","position","right","cursor","fontFamily","fontWeight","backgroundColor","color1","borderRadius","fontSize","display","color","objectFit","objectPosition","margin","visibility","alignItems","justifyContent","marginLeft","textAlign","topic","MiniPost","memo"],"mappings":"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","sourcesContent":["import React, { useRef, useState, useEffect, useCallback, useLayoutEffect } from \"react\";\r\nimport { Paper, Grid, Box } from \"@material-ui/core\";\r\nimport RemoveRedEyeIcon from \"@mui/icons-material/RemoveRedEye\";\r\nimport MoreHorizIcon from \"@material-ui/icons/MoreHoriz\";\r\nimport { useSpring, animated, useTransition } from \"react-spring\";\r\nimport Crop54Icon from \"@mui/icons-material/Crop54\";\r\nimport CropPortraitIcon from \"@mui/icons-material/CropPortrait\";\r\nimport ViewArrayIcon from \"@mui/icons-material/ViewArray\";\r\nimport CropIcon from \"@mui/icons-material/Crop\";\r\nimport ViewColumnIcon from \"@mui/icons-material/ViewColumn\";\r\nimport AspectRatioTwoToneIcon from \"@mui/icons-material/AspectRatioTwoTone\";\r\nimport StarIcon from \"@mui/icons-material/Star\";\r\nimport Brightness2Icon from \"@mui/icons-material/Brightness2\";\r\nimport AlbumIcon from \"@mui/icons-material/Album\";\r\nimport BentoIcon from \"@mui/icons-material/Bento\";\r\nimport MoreVertIcon from \"@mui/icons-material/MoreVert\";\r\nimport CommentIcon from \"@mui/icons-material/Comment\";\r\nimport SentimentVerySatisfiedIcon from '@material-ui/icons/SentimentVerySatisfied';\r\nimport CircleIcon from \"@mui/icons-material/Circle\";\r\nimport { RootStateOrAny, useSelector, useDispatch } from \"react-redux\";\r\nimport { matchMobile, matchPc, matchTablet } from \"../DetectDevice\";\r\nimport { UserInfoUpdateMEMBER } from \"../log/actions/UserdataAction\";\r\n\r\nimport AddIcon from \"@mui/icons-material/Add\";\r\nimport {\r\n  UpdateLoader,\r\n  UpdateHistory,\r\n  UpdateCommentHistory,\r\n  UpdatePostFromCom,\r\n  UpdateReactType, Updatepagenum\r\n} from \".././GlobalActions\";\r\nimport { Connect } from \"./Connect\";\r\nimport { Slider } from \"./Slider\";\r\nimport { useInView } from \"react-intersection-observer\";\r\n\r\nfunction MiniPostx({\r\n  pey,\r\n  addPostItemsRef,\r\n  onPostsItemload,\r\n  post,\r\n  length,\r\n  itemheight,\r\n  itemheighthold,\r\n  postbackheight,\r\n  itemcroptype,\r\n  itemFinalPostHeight,\r\n  onPostsItemClicked,\r\n  itemCLICKED,\r\n  addpostDivRefx,\r\n  postDatainner,\r\n  itemOriginalPostHeight,\r\n  ActiveAutoPlay,\r\n  setActiveAutoPlay,\r\n  AUTOSlideLongImages,\r\n  postDivRefx,\r\n  onLoadDataOnce,\r\n  postDatainnerThumb,\r\n  setcountAutoplay,\r\n  countAutoplay,\r\n  second,\r\n  setsecond,\r\n  secondgo,\r\n  setsecondgo,\r\n  scrollToPostx,\r\n  OpenModalForm,\r\n  setDiscussionImage,\r\n  postData,\r\n  setCommentPostid,\r\n  miniLayoutPost,\r\n  setStopBodyScroll,\r\n  setminiProfile,\r\n  postItemsRef,\r\n  miniProfile,\r\n  zoomClickedIndex,\r\n  setzoomClickedIndex,\r\n  sliderIndexMini,\r\n  setSliderIndexMini,\r\n  paperPostScrollRef,\r\n  postDatainnerInteraction2,\r\n  postDatainnerInteraction1,\r\n  ShowBigPlay,\r\n  ActiveCanvasx,\r\n  setActiveCanvasx\r\n}: any) {\r\n  const { REACT_APP_APPX_STATE } = process.env;\r\n\r\n  var allow4dev = \"\";\r\n\r\n  if (REACT_APP_APPX_STATE === \"dev\") {\r\n    allow4dev = \"http://localhost:1000\";\r\n  } else {\r\n    allow4dev = \"\";\r\n  }\r\n\r\n  const Timer = useRef<ReturnType<typeof setTimeout> | null>(null);\r\n\r\n  const [opacityController, setopacityController] = useState<boolean>(false);\r\n\r\n  const [StopSpring, setStopSpring] = useState(false);\r\n  const [showIndex, setshowIndex] = useState(false);\r\n\r\n  const [profileImagethumbTop, setprofileImagethumbTop] = useState<number>(0);\r\n  const [profileImagethumbLeft, setprofileImagethumbLeft] = useState<number>(0);\r\n\r\n  const [interactHeightResolution, setinteractHeightResolution] = useState(window.innerHeight * 1.2);\r\n\r\n\r\n  const [data, setdata] = useState(null);\r\n  const [canvasInteractWidth, setcanvasInteractWidth] = useState(0);\r\n  const [canvasInteractheight, setcanvasInteractheight] = useState(0);\r\n  const [imageWidthcss, setimageWidthcss] = useState(0);\r\n  const [imageHeightcss, setimageHeightcss] = useState(0);\r\n\r\n  const pic: any = useRef(null);\r\n\r\n\r\n  const animationmenu = useSpring({\r\n    config: {\r\n      duration: 2,\r\n    },\r\n    opacity: opacityController ? 1 : StopSpring ? 1 : 0,\r\n    transform: opacityController\r\n      ? `translateY(0%)`\r\n      : StopSpring\r\n        ? `translateY(0%)`\r\n        : `translateY(150%)`,\r\n  });\r\n\r\n  ///\r\n  ///\r\n  ///\r\n  /// SPRING TRANSITION WITH INDEX\r\n\r\n  useEffect(() => {\r\n    setTimeout(() => {\r\n      setStopSpring(true);\r\n    }, 30000);\r\n  }, [post]);\r\n\r\n\r\n\r\n  const [cropInitialIn, setcropInitialIn] = useState([\r\n    { x: post.interact1ax, y: post.interact1ay },\r\n    { x: post.interact2ax, y: post.interact2ay },\r\n    { x: post.interact3ax, y: post.interact3ay },\r\n  ]);\r\n\r\n\r\n  const [cropInitialIn2, setcropInitialIn2] = useState([\r\n    { x: post.interact1bx, y: post.interact1by },\r\n    { x: post.interact2bx, y: post.interact2by },\r\n    { x: post.interact3bx, y: post.interact3by },\r\n  ]);\r\n\r\n\r\n\r\n  // Bilinear interpolation function\r\n  function interpolate(imageData: any, x: any, y: any) {\r\n    var x_floor = Math.floor(x);\r\n    var y_floor = Math.floor(y);\r\n\r\n    // Ensure bounds are within the source image\r\n    x_floor = Math.max(0, Math.min(imageData.width - 2, x_floor));\r\n    y_floor = Math.max(0, Math.min(imageData.height - 2, y_floor));\r\n\r\n    var x_frac = x - x_floor;\r\n    var y_frac = y - y_floor;\r\n\r\n    var p1 = getPixel(imageData, x_floor, y_floor);\r\n    var p2 = getPixel(imageData, x_floor + 1, y_floor);\r\n    var p3 = getPixel(imageData, x_floor, y_floor + 1);\r\n    var p4 = getPixel(imageData, x_floor + 1, y_floor + 1);\r\n\r\n    var topInterpolation = interpolatePixelValues(p1, p2, x_frac);\r\n    var bottomInterpolation = interpolatePixelValues(p3, p4, x_frac);\r\n\r\n    return interpolatePixelValues(topInterpolation, bottomInterpolation, y_frac);\r\n  }\r\n\r\n  // Helper function to get a pixel from image data\r\n  function getPixel(imageData: any, x: any, y: any) {\r\n    var index = (y * imageData.width + x) * 4;\r\n    return [\r\n      imageData.data[index],\r\n      imageData.data[index + 1],\r\n      imageData.data[index + 2],\r\n      imageData.data[index + 3]\r\n    ];\r\n  }\r\n\r\n  // Helper function to interpolate between pixel values\r\n  function interpolatePixelValues(p1: any, p2: any, t: any) {\r\n    return [\r\n      (1 - t) * p1[0] + t * p2[0],\r\n      (1 - t) * p1[1] + t * p2[1],\r\n      (1 - t) * p1[2] + t * p2[2],\r\n      (1 - t) * p1[3] + t * p2[3]\r\n    ];\r\n  }\r\n\r\n  const tiim = useRef<ReturnType<typeof setTimeout> | null>(null);\r\n\r\n\r\n\r\n  const callInteract = useCallback(() => {\r\n    if (!canvasRefIn.current) return;\r\n\r\n\r\n    /// alert('j');\r\n    const context = canvasRefIn.current.getContext(\"2d\");\r\n    context.clearRect(\r\n      0,\r\n      0,\r\n      canvasRefIn.current.width,\r\n      canvasRefIn.current.height\r\n    );\r\n\r\n    const previewFileReadimage: any = new Image();\r\n    previewFileReadimage.crossOrigin = \"anonymous\";\r\n\r\n    previewFileReadimage.src = pic.current.src;\r\n\r\n    previewFileReadimage.onload = () => {\r\n      const ratio =\r\n        previewFileReadimage.naturalHeight / previewFileReadimage.naturalWidth;\r\n      const width = interactHeightResolution / ratio;\r\n      const ratiox =\r\n        previewFileReadimage.naturalWidth / previewFileReadimage.naturalHeight;\r\n      const hei = window.innerHeight / ratiox;\r\n      setcanvasInteractWidth(width);\r\n      setcanvasInteractheight(hei);\r\n      setimageWidthcss(postDivRefx.current[pey].clientWidth);\r\n      setimageHeightcss(postDivRefx.current[pey].clientHeight);\r\n\r\n      if (data !== previewFileReadimage) {\r\n        setdata(previewFileReadimage);\r\n      }\r\n    };\r\n  }, [post, postItemsRef, postDivRefx, interactHeightResolution]);\r\n\r\n\r\n  useLayoutEffect(() => {\r\n    if (data) {\r\n      drawInteraction(0, 0, 0);\r\n    }\r\n  }, [data]);\r\n\r\n\r\n\r\n\r\n\r\n  const ScaleCoOrdinates = useCallback(\r\n    (event, type) => {\r\n      if (canvasRefIn.current) {\r\n        const rect = canvasRefIn.current.getBoundingClientRect();\r\n        const scaleX = canvasRefIn.current.width / rect.width;\r\n        const scaleY = canvasRefIn.current.height / rect.height;\r\n\r\n        let x, y;\r\n\r\n        if (matchMobile) {\r\n          // Handle touch events\r\n          if (event && event.touches && event.touches.length > 0) {\r\n\r\n\r\n            x = (event.touches[0].clientX - rect.left) * scaleX;\r\n            y = (event.touches[0].clientY - rect.top) * scaleY;\r\n\r\n            // Now you can use x and y in your code\r\n          }\r\n        } else {\r\n          // Handle mouse events\r\n          x = (event.clientX - rect.left) * scaleX;\r\n          y = (event.clientY - rect.top) * scaleY;\r\n        }\r\n\r\n        return { x, y };\r\n      } else {\r\n        return {\r\n          x: 0,\r\n          y: 0,\r\n        };\r\n      }\r\n    },\r\n    [matchMobile]\r\n  );\r\n\r\n\r\n\r\n  const drawInteraction = useCallback(\r\n    (typex: any, event: any, clicked: number) => {\r\n      const adjustedPos = ScaleCoOrdinates(event, 0);\r\n      const xnew = adjustedPos.x;\r\n      const ynew = adjustedPos.y;\r\n\r\n      if (canvasRefIn.current) {\r\n        const context = canvasRefIn.current.getContext(\"2d\");\r\n\r\n        canvasRefIn.current.height = interactHeightResolution;\r\n        canvasRefIn.current.width = canvasInteractWidth;\r\n\r\n        requestAnimationFrame(() => {\r\n          context.drawImage(\r\n            data,\r\n            0,\r\n            0,\r\n            canvasInteractWidth,\r\n            interactHeightResolution\r\n          );\r\n\r\n\r\n\r\n\r\n          var offsety = 0;\r\n\r\n          const isEdge = /Edg/i.test(navigator.userAgent);\r\n          const isFirefox = /Firefox/i.test(navigator.userAgent);\r\n\r\n          if (isEdge) {\r\n            offsety = -20;\r\n          } else if (isFirefox) {\r\n            offsety = -10;\r\n          } else {\r\n            offsety = 0;\r\n          }\r\n\r\n          // Access the total width of the element, including margins and borders\r\n\r\n          var screenWidth = 0;\r\n\r\n          if (isEdge) {\r\n            screenWidth = window.innerWidth * 1.01;\r\n          } else if (isFirefox) {\r\n            screenWidth = window.innerWidth * 0.98;\r\n          } else {\r\n            screenWidth = window.innerWidth * 0.98;\r\n          }\r\n\r\n          var pictureWidth = canvasInteractWidth;\r\n          var offsetX = (screenWidth - pictureWidth) / 2;\r\n\r\n\r\n          var xx = cropInitialIn[0].x;\r\n          var yy = cropInitialIn[0].y;\r\n          const xxw = cropInitialIn2[0].x;\r\n          const yyw = cropInitialIn2[0].y;\r\n\r\n\r\n\r\n\r\n          if (post.rad1 === null) {\r\n            var r1 = 120;\r\n          }\r\n          else {\r\n            // Given values\r\n            const percentageCoverage = post.rad1; // Replace with your actual percentageCoverage\r\n            const canvasWidth = canvasInteractWidth/* your canvas width */;\r\n            // Calculate the radius\r\n            var r1 = (percentageCoverage * canvasWidth) / 200;\r\n\r\n          }\r\n\r\n          if (post.rad2 === null) {\r\n            var r2 = 120;\r\n          } else {\r\n            const percentageCoveragex = post.rad2; // Replace with your actual percentageCoverage\r\n            const canvasWidthx = canvasInteractWidth/* your canvas width */;\r\n            // Calculate the radius\r\n            var r2 = (percentageCoveragex * canvasWidthx) / 200;\r\n          }\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n          // Calculate the X-coordinate\r\n          const xCoordinate = (xx / 100) * canvasInteractWidth;\r\n          var x2 = xCoordinate;\r\n\r\n          const yCoordinate = (yy / 100) * interactHeightResolution;\r\n          var y2 = yCoordinate;\r\n\r\n\r\n          const xCoordinatex = (xxw / 100) * canvasInteractWidth;\r\n          var x2b = xCoordinatex;\r\n\r\n          const yCoordinatex = (yyw / 100) * interactHeightResolution;\r\n          var y2b = yCoordinatex;\r\n\r\n\r\n\r\n\r\n\r\n\r\n          context.beginPath();\r\n          context.arc(xnew, ynew, 5, 0, Math.PI * 2);\r\n          context.fillStyle = \"rgba(250, 250,250,0)\";\r\n          context.fill();\r\n          context.closePath();\r\n\r\n          var clikarc1 = context.isPointInPath(0, 0);\r\n          var clikarc2 = context.isPointInPath(0, 0);\r\n\r\n          if (post.interact1a || post.interact1b) {\r\n            //alert('jj');\r\n\r\n            var scaleFactor = 1.03; // You can adjust this value to control the zoom level\r\n\r\n            if (post.interact1a) {\r\n              if (typex === 0 || typex === 3) {\r\n                var imageData = context.getImageData(\r\n                  x2 - 1 - r1,\r\n                  y2 - 0.5 - r1,\r\n                  2.1 * r1,\r\n                  2.1 * r1\r\n                ); // (x, y, width, height)\r\n\r\n                // Create a larger image data for the zoom effect\r\n                var zoomedImageData = context.createImageData(\r\n                  imageData.width * scaleFactor,\r\n                  imageData.height * scaleFactor\r\n                );\r\n\r\n                // Copy pixels from the original image data to the larger image data with bilinear interpolation\r\n                for (var ybb = 0; ybb < zoomedImageData.height; ybb++) {\r\n                  for (var xbb = 0; xbb < zoomedImageData.width; xbb++) {\r\n                    var sourceX = xbb / scaleFactor;\r\n                    var sourceY = ybb / scaleFactor;\r\n\r\n                    // Get the interpolated pixel value\r\n                    var interpolatedPixel = interpolate(imageData, sourceX, sourceY);\r\n\r\n                    // Set the pixel values in the zoomed image data\r\n                    var destIndex = (ybb * zoomedImageData.width + xbb) * 4;\r\n                    zoomedImageData.data[destIndex] = interpolatedPixel[0];\r\n                    zoomedImageData.data[destIndex + 1] = interpolatedPixel[1];\r\n                    zoomedImageData.data[destIndex + 2] = interpolatedPixel[2];\r\n                    zoomedImageData.data[destIndex + 3] = interpolatedPixel[3];\r\n                  }\r\n                }\r\n\r\n                // Apply a light white border at the borders\r\n                var borderWidth = 0; // Adjust the width of the border\r\n                for (var ybb = 0; ybb < zoomedImageData.height; ybb++) {\r\n                  for (var xbb = 0; xbb < zoomedImageData.width; xbb++) {\r\n                    if (\r\n                      xbb < borderWidth ||\r\n                      xbb >= zoomedImageData.width - borderWidth ||\r\n                      ybb < borderWidth ||\r\n                      ybb >= zoomedImageData.height - borderWidth\r\n                    ) {\r\n                      // Apply a light white color to the border\r\n                      var destIndex = (ybb * zoomedImageData.width + xbb) * 4;\r\n                      zoomedImageData.data[destIndex] = 230; // Red channel\r\n                      zoomedImageData.data[destIndex + 1] = 20; // Green channel\r\n                      zoomedImageData.data[destIndex + 2] = 2; // Blue channel\r\n                      zoomedImageData.data[destIndex + 3] = 0.8; // Alpha channel\r\n                    }\r\n                  }\r\n                }\r\n\r\n                // Put the modified pixel data back onto the canvas\r\n                context.putImageData(\r\n                  zoomedImageData,\r\n                  x2 - r1 * scaleFactor,\r\n                  y2 - r1 * scaleFactor\r\n                );\r\n              }\r\n              //////////////////////////////////////////////////////////////////////////////////////////////////\r\n              if ([0, 3].includes(typex)) {\r\n                context.beginPath();\r\n                context.arc(x2, y2, r1, 0, Math.PI * 2);\r\n\r\n                clikarc1 = context.isPointInPath(xnew, ynew);\r\n                context.fillStyle = darkmodeReducer\r\n                  ? \"rgba(50, 50,50,0)\"\r\n                  : \"rgba(250, 250,250,0.0)\";\r\n                context.closePath();\r\n                context.fill();\r\n\r\n              } else if (typex === 1) {\r\n                context.beginPath();\r\n                context.arc(x2, y2, r1, 0, Math.PI * 2);\r\n                clikarc1 = context.isPointInPath(xnew, ynew);\r\n                context.fillStyle = `rgba(250, 250,250,0.0)`;\r\n                context.closePath();\r\n                context.fill();\r\n              }\r\n\r\n\r\n            }\r\n\r\n            if (post.interact1b) {\r\n              if (typex === 0 || typex === 3) {\r\n                var imageData2 = context.getImageData(\r\n                  x2b - 1 - r2,\r\n                  y2b - 0.5 - r2,\r\n                  2.1 * r2,\r\n                  2.1 * r2\r\n                ); // (x, y, width, height)\r\n\r\n\r\n                // Create a larger image data for the zoom effect\r\n                var zoomedImageData2 = context.createImageData(\r\n                  imageData2.width * scaleFactor,\r\n                  imageData2.height * scaleFactor\r\n                );\r\n\r\n                // Copy pixels from the original image data to the larger image data with bilinear interpolation\r\n                for (var ybb = 0; ybb < zoomedImageData2.height; ybb++) {\r\n                  for (var xbb = 0; xbb < zoomedImageData2.width; xbb++) {\r\n                    var sourceX = xbb / scaleFactor;\r\n                    var sourceY = ybb / scaleFactor;\r\n\r\n                    // Get the interpolated pixel value\r\n                    var interpolatedPixel = interpolate(imageData2, sourceX, sourceY);\r\n\r\n                    // Set the pixel values in the zoomed image data\r\n                    var destIndex = (ybb * zoomedImageData2.width + xbb) * 4;\r\n                    zoomedImageData2.data[destIndex] = interpolatedPixel[0];\r\n                    zoomedImageData2.data[destIndex + 1] = interpolatedPixel[1];\r\n                    zoomedImageData2.data[destIndex + 2] = interpolatedPixel[2];\r\n                    zoomedImageData2.data[destIndex + 3] = interpolatedPixel[3];\r\n                  }\r\n                }\r\n\r\n                // Apply a light white border at the borders\r\n                var borderWidth = 0; // Adjust the width of the border\r\n                for (var ybb = 0; ybb < zoomedImageData2.height; ybb++) {\r\n                  for (var xbb = 0; xbb < zoomedImageData2.width; xbb++) {\r\n                    if (\r\n                      xbb < borderWidth ||\r\n                      xbb >= zoomedImageData2.width - borderWidth ||\r\n                      ybb < borderWidth ||\r\n                      ybb >= zoomedImageData2.height - borderWidth\r\n                    ) {\r\n                      // Apply a light white color to the border\r\n                      var destIndex = (ybb * zoomedImageData2.width + xbb) * 4;\r\n                      zoomedImageData2.data[destIndex] = 230; // Red channel\r\n                      zoomedImageData2.data[destIndex + 1] = 20; // Green channel\r\n                      zoomedImageData2.data[destIndex + 2] = 2; // Blue channel\r\n                      zoomedImageData2.data[destIndex + 3] = 0.8; // Alpha channel\r\n                    }\r\n                  }\r\n                }\r\n\r\n                // Put the modified pixel data back onto the canvas\r\n                context.putImageData(\r\n                  zoomedImageData2,\r\n                  x2b - r2 * scaleFactor,\r\n                  y2b - r2 * scaleFactor\r\n                );\r\n              }\r\n              ///////////////////////////////////////////////////////////////////////////////////////////////\r\n              if ([0, 3].includes(typex)) {\r\n                context.beginPath();\r\n                context.arc(x2b, y2b, r2, 0, Math.PI * 2);\r\n                clikarc2 = context.isPointInPath(xnew, ynew);\r\n                context.fillStyle = darkmodeReducer\r\n                  ? \"rgba(50, 50,50,0)\"\r\n                  : \"rgba(250, 250,250,0.0)\";\r\n                context.closePath();\r\n                context.fill();\r\n                ///context.lineWidth = matchMobile ? 9.6 : itemcroptype[pey] === 3 ? 9 : 6;\r\n                ///context.strokeStyle = darkmodeReducer ? \"#ffffff\" : \"#333333\";\r\n                ///context.stroke();\r\n              } else if (typex === 1) {\r\n                context.beginPath();\r\n                context.arc(x2b, y2b, r2, 0, Math.PI * 2);\r\n                clikarc2 = context.isPointInPath(xnew, ynew);\r\n                context.fillStyle = `rgba(250, 250,250,0.0)`;\r\n                context.closePath();\r\n                context.fill();\r\n              }\r\n            }\r\n\r\n            if (typex === 3) {\r\n            } else {\r\n              if (tiim.current) {\r\n                clearTimeout(tiim.current);\r\n              }\r\n              tiim.current = setTimeout(() => {\r\n                if (typex === 0 || typex === 3) {\r\n                  drawInteraction(1, event, 0);\r\n                } else {\r\n                  drawInteraction(0, event, 0);\r\n                }\r\n              }, 130);\r\n            }\r\n            if (canvasRefIn.current) {\r\n              canvasRefIn.current.style.width = `${imageWidthcss}px`;\r\n              canvasRefIn.current.style.height = `${imageHeightcss}px`;\r\n            }\r\n\r\n\r\n\r\n\r\n\r\n            //alert(imageHeightcss);\r\n          }\r\n        });\r\n      }\r\n    },\r\n    [data, imageWidthcss, imageHeightcss]\r\n  );\r\n\r\n\r\n\r\n  useEffect(() => {\r\n\r\n    if (ActiveCanvasx === pey) {\r\n      ///alert('call');\r\n      callInteract();\r\n    }\r\n\r\n  }, [ActiveCanvasx]);\r\n\r\n\r\n\r\n\r\n  useEffect(() => {\r\n    setTimeout(() => {\r\n      if (zoomClickedIndex === 0) {\r\n        setshowIndex(false);\r\n      } else {\r\n        if (zoomClickedIndex - 1 === pey) {\r\n          setshowIndex(true);\r\n        } else {\r\n          setshowIndex(false);\r\n        }\r\n\r\n        if (sliderIndexMini > 400) {\r\n        } else {\r\n          scrollToPostx(zoomClickedIndex - 1);\r\n        }\r\n        setzoomClickedIndex(0);\r\n      }\r\n    }, 500);\r\n  }, [miniProfile, sliderIndexMini]);\r\n\r\n\r\n\r\n  const { ref, inView, entry } = useInView({\r\n    /* Optional options */\r\n    threshold: 0.95,\r\n  });\r\n\r\n\r\n  useEffect(() => {\r\n\r\n\r\n    if (inView) {\r\n      setActiveCanvasx(pey);\r\n\r\n\r\n      ///alert(pey);\r\n    }\r\n  }, [inView, pey]);\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n  ///\r\n  ///\r\n  ///\r\n  /// GET LOGGED USER DATA FROM REDUX STORE\r\n  interface RootStateReducerImage {\r\n    UserdataReducer: {\r\n      username: string;\r\n      image: string;\r\n      imageThumb: string;\r\n      id: number;\r\n      memeberPageid: number;\r\n      MemberProfileData: any;\r\n    };\r\n  }\r\n  const { image, imageThumb, id, memeberPageid, MemberProfileData, username } =\r\n    useSelector((state: RootStateReducerImage) => ({\r\n      ...state.UserdataReducer,\r\n    }));\r\n  const imageReducer = image;\r\n  const imageReducerThumb = imageThumb;\r\n  const idReducer = id;\r\n  const memeberPageidReducer = memeberPageid;\r\n  const MemberProfileDataReducer = MemberProfileData;\r\n  const usernameReducer = username;\r\n\r\n  interface RootStateGlobalReducer {\r\n    GlobalReducer: {\r\n      snapStart: boolean;\r\n      darkmode: boolean;\r\n      screenHeight: number;\r\n      activateLoader: boolean;\r\n      historyscroll: number;\r\n      interactContent: any;\r\n      interact: boolean;\r\n      MenuData: String;\r\n      pagenum: number;\r\n      SignIn: boolean,\r\n      Guest: number\r\n    };\r\n  }\r\n\r\n\r\n\r\n  ///\r\n  ///\r\n  ///\r\n  /// GET SCREENHEIGHT FROM REDUX STORE\r\n  const { screenHeight, darkmode, snapStart, activateLoader, historyscroll, interactContent, interact, MenuData, pagenum, SignIn, Guest } =\r\n    useSelector((state: RootStateGlobalReducer) => ({\r\n      ...state.GlobalReducer,\r\n    }));\r\n  const screenHeightReducer = screenHeight;\r\n  const darkmodeReducer = darkmode;\r\n  const snapStartReducer = snapStart;\r\n  const activateLoaderReducer = activateLoader;\r\n  const historyscrollReducer = historyscroll;\r\n  const interactContentReducer: any = interactContent;\r\n  const interactReducer = interact;\r\n  const MenuDataReducer = MenuData\r\n  const pagenumReducer = pagenum;\r\n  const SignInReducer = SignIn;\r\n  const GuestReducer = Guest;\r\n\r\n\r\n\r\n  const profileImageref = useRef<any>();\r\n\r\n  var textback = \"\";\r\n  if (darkmodeReducer) {\r\n    textback = \"caption-darkPost\";\r\n  } else {\r\n    textback = \"caption-lightPost\";\r\n  }\r\n\r\n  var themepadding = darkmodeReducer ? \"turdarkemo\" : \"turlightemo\";\r\n\r\n  const [LImiter, setLImiter] = useState<boolean>(false);\r\n\r\n  useEffect(() => {\r\n    if (onLoadDataOnce[pey]) {\r\n      if (LImiter) {\r\n      } else {\r\n        setTimeout(() => {\r\n          setopacityController(true);\r\n        }, pey * 250);\r\n        setLImiter(true);\r\n      }\r\n    }\r\n  }, [onLoadDataOnce, LImiter]);\r\n\r\n\r\n\r\n  const [Hideonload, setHideonload] = useState(true);\r\n\r\n  const [FavIcon, setFavIcon] = useState(false);\r\n\r\n  const [CommSho, setCommsho] = useState(false);\r\n\r\n\r\n  const canvasRefIn: any = useRef(null);\r\n\r\n\r\n  useEffect(() => {\r\n\r\n\r\n    if (post.commentCount > 0) {\r\n      setCommsho(true)\r\n    }\r\n    else if (post.funny > 0 || post.care > 0) {\r\n      setFavIcon(true)\r\n    }\r\n    else {\r\n      setCommsho(false);\r\n      setFavIcon(false)\r\n    }\r\n\r\n\r\n    setTimeout(() => {\r\n      setHideonload(false);\r\n    }, 3500);\r\n    if (post) {\r\n      setAdded(post.favCount);\r\n    }\r\n  }, [post]);\r\n\r\n\r\n  var postprofiletop = matchPc ? \"-5.8vh\" : matchTablet ? \"-9.3vh\" : \"-4.7vh\";\r\n  var posttopicfont = matchPc ? \"1.25vw\" : matchTablet ? \"1.8vh\" : \"1.6vh\";\r\n\r\n  var postusernamefont = matchPc ? \"1.1vw\" : matchTablet ? \"2.32vh\" : \"1.7vh\";\r\n  var postusernameleft = matchPc ? \"41.1%\" : matchTablet ? \"15.5%\" : \"20%\";\r\n  var postcirclefont = matchPc ? \"0.7vw\" : matchTablet ? \"1.2vw\" : \"1.1vh\";\r\n  var postcirclefontx = matchPc ? \"1.4vw\" : matchTablet ? \"1.2vw\" : \"2.2vh\";\r\n\r\n  var dotspace = matchPc ? \"1.7vw\" : matchTablet ? \"1.9vh\" : \"1.9vh\";\r\n  var dotspace2 = matchPc ? \"0.9vw\" : matchTablet ? \"1.9vh\" : \"1.9vh\";\r\n\r\n  var postusernametop = matchPc ? \"-6vh\" : matchTablet ? \"-11.9vh\" : \"-2.5vh\";\r\n\r\n  var profilewidth = matchPc\r\n    ? miniLayoutPost\r\n      ? \"12%\"\r\n      : \"12.5%\"\r\n    : matchTablet\r\n      ? \"12.5%\"\r\n      : \"15%\";\r\n\r\n  var optionsClass = \"\";\r\n  var fontOptions = \"\";\r\n\r\n  if (matchPc) {\r\n    optionsClass = \"post-optionsImagePc\";\r\n    fontOptions = \"1.2vw\";\r\n  } else if (matchTablet) {\r\n    optionsClass = \"profile-optionsImageTablet\";\r\n    fontOptions = \"5rem\";\r\n  } else {\r\n    optionsClass = \"profile-optionsImageMobile\";\r\n    fontOptions = \"1.9rem\";\r\n  }\r\n\r\n  const calculateconnectPosition = useCallback(() => { }, []);\r\n\r\n\r\n  const [Added, setAdded] = useState(100);\r\n\r\n  const dispatch = useDispatch();\r\n\r\n  const GoToMember = () => {\r\n\r\n    dispatch(Updatepagenum(0));\r\n\r\n    if (memeberPageidReducer === post.sender) {\r\n    } else {\r\n      ///\r\n      dispatch(UserInfoUpdateMEMBER(post.sender));\r\n      //\r\n      var tt = paperPostScrollRef.current.scrollTop;\r\n\r\n      var n, d;\r\n\r\n      if (memeberPageidReducer === 0) {\r\n        n = usernameReducer;\r\n        d = {\r\n          type: 0,\r\n          id: 0,\r\n          index: tt,\r\n          data: postData,\r\n          innerid: 0,\r\n          pagenumReducer: pagenumReducer,\r\n        };\r\n      } else {\r\n        n = MemberProfileDataReducer.username;\r\n        d = {\r\n          type: 1,\r\n          id: memeberPageidReducer,\r\n          index: tt,\r\n          data: postData,\r\n          innerid: 0,\r\n          pagenumReducer: pagenumReducer,\r\n        };\r\n      }\r\n\r\n      window.history.replaceState(d, \"\", `${n}`);\r\n\r\n      let modalName = `${post.username}`;\r\n\r\n      var dd = {\r\n        type: 1,\r\n        id: post.sender,\r\n        innerid: 0,\r\n        pagenumReducer: pagenumReducer,\r\n      };\r\n      window.history.pushState(dd, \"\", modalName);\r\n    }\r\n  };\r\n\r\n\r\n  const [HasInteractivity, setHasInteractivity] = useState(false);\r\n\r\n\r\n  const containsURL = (str: any) => {\r\n    // Regular expression pattern to match URLs (simplified, not covering all cases)\r\n    const urlPattern = /(https?|ftp):\\/\\/[^\\s/$.?#].[^\\s]*/i;\r\n\r\n    // Test if the string contains a URL using the regular expression\r\n    return urlPattern.test(str);\r\n  };\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n  useEffect(() => {\r\n    //console.log(postDatainnerInteraction1[0])\r\n\r\n    postDatainnerInteraction1[pey].map((str: any, index: any) => {\r\n      if (containsURL(str)) {\r\n        setHasInteractivity(true);\r\n        ///alert('kk')\r\n      } else {\r\n        setHasInteractivity(false);\r\n\r\n        postDatainnerInteraction2[pey].map((str: any, index: any) => {\r\n          if (containsURL(str)) {\r\n\r\n            setHasInteractivity(true);\r\n          } else {\r\n            setHasInteractivity(false);\r\n          }\r\n        });\r\n      }\r\n    });\r\n\r\n\r\n  }, [postDatainnerInteraction1[pey], postDatainnerInteraction2[pey], itemCLICKED]);\r\n\r\n\r\n\r\n\r\n\r\n  const [isWide, setIsWide] = useState(false);\r\n\r\n  const handleImageLoad = (e: any) => {\r\n    const { naturalWidth, naturalHeight } = e.target;\r\n    const aspectRatio = naturalWidth / naturalHeight;\r\n    if (naturalWidth > naturalHeight) {\r\n      setIsWide(true);\r\n    }\r\n\r\n\r\n  };\r\n\r\n\r\n\r\n\r\n  return (\r\n    <>\r\n      <animated.div ref={ref} style={animationmenu}>\r\n\r\n\r\n        <div\r\n          ref={addpostDivRefx}\r\n          style={{\r\n            padding: \"0px\",\r\n            width: \"100%\",\r\n            marginTop: pey === 0 || pey === 1 ? \"-0.5px\" : \"-1.1px\",\r\n            zIndex: length - 1 - pey,\r\n            paddingLeft: matchMobile ? \"0px\" : \"0px\",\r\n            paddingRight: matchMobile ? \"0px\" : \"0px\",\r\n            paddingTop: matchMobile ? \"10px\" : \"3px\",\r\n            scrollSnapAlign: snapStartReducer ? \"start\" : 'none'\r\n\r\n          }}\r\n        >\r\n          {/*///////////////////////////////////////////////////////////////////////////POST DATA*/}\r\n\r\n          {matchMobile ? <div\r\n\r\n            style={{\r\n              position: \"absolute\",\r\n              zIndex: 30,\r\n              right: -14,\r\n              cursor: \"pointer\",\r\n              top: matchMobile ? '1vh' : \"4vh\",\r\n              fontFamily: \"Arial, Helvetica, sans-serif\",\r\n              fontWeight: \"bolder\",\r\n              opacity: 1,\r\n              height: \"0px\",\r\n              padding: \"0px\",\r\n            }}\r\n          >\r\n            <span\r\n              className={HasInteractivity ? \"zuperkingtur heartbeat\" : darkmodeReducer ? \"turx\" : \"turdark\"}\r\n              style={{\r\n                padding: \"7px\",\r\n                paddingLeft: HasInteractivity ? matchMobile ? '3.3vw' : \"0.9vw\" : '10px',\r\n                paddingRight: HasInteractivity ? matchMobile ? '3.3vw' : \"0.9vw\" : '10px',\r\n                backgroundColor: post.color1,\r\n                borderRadius: \"50%\",\r\n                fontSize: \"0.92vw\",\r\n                display: HasInteractivity ? 'block' : 'none',\r\n                color: darkmodeReducer ? \"#ffffff\" : \"#000000\",\r\n                transform: matchMobile ? 'scale(0.15)' : 'scale(0.3)'\r\n              }\r\n              }\r\n            >\r\n              <span style={{ opacity: 0 }}>{0}</span>\r\n            </span>\r\n          </div> : <div\r\n\r\n            style={{\r\n              position: \"absolute\",\r\n              zIndex: 30,\r\n              left: 30,\r\n              cursor: \"pointer\",\r\n              top: \"4vh\",\r\n              fontFamily: \"Arial, Helvetica, sans-serif\",\r\n              fontWeight: \"bolder\",\r\n              opacity: 1,\r\n              height: \"0px\",\r\n              padding: \"0px\",\r\n            }}\r\n          >\r\n            <span\r\n              className={HasInteractivity ? \"zuperkingtur heartbeat\" : darkmodeReducer ? \"turx\" : \"turdark\"}\r\n              style={{\r\n                padding: \"7px\",\r\n                paddingLeft: HasInteractivity ? matchMobile ? '3.3vw' : \"0.9vw\" : '10px',\r\n                paddingRight: HasInteractivity ? matchMobile ? '3.3vw' : \"0.9vw\" : '10px',\r\n                backgroundColor: post.color1,\r\n                borderRadius: \"50%\",\r\n                fontSize: \"0.92vw\",\r\n                display: HasInteractivity ? 'block' : 'none',\r\n                color: darkmodeReducer ? \"#ffffff\" : \"#000000\",\r\n                transform: matchMobile ? 'scale(0.15)' : 'scale(0.26)'\r\n              }\r\n              }\r\n            >\r\n              <span style={{ opacity: 0 }}>{0}</span>\r\n            </span>\r\n          </div>}\r\n          {\" \"}\r\n\r\n\r\n          <div>\r\n\r\n            <img\r\n              onLoad={handleImageLoad}\r\n              onClick={() => {\r\n                setzoomClickedIndex(pey + 1);\r\n                setSliderIndexMini(0);\r\n                setminiProfile(false);\r\n              }}\r\n              className={\r\n                darkmodeReducer ? \"turlightpostdark\" : \"turlightpostlight\"\r\n              }\r\n              src={\r\n                postDatainnerThumb[pey][\r\n                showIndex ? (sliderIndexMini > 400 ? 0 : sliderIndexMini) : 0\r\n                ]\r\n              }\r\n              alt=\"a Clikbate post \"\r\n              style={{\r\n\r\n                cursor: \"pointer\",\r\n                width: \"100%\",\r\n                height: isWide && matchMobile ? '28vh' : 'auto',\r\n                position: \"absolute\",\r\n                padding: \"0px\",\r\n                objectFit:\r\n                  itemcroptype[pey] === 1 || itemcroptype[pey] === 2\r\n                    ? \"cover\"\r\n                    : \"cover\",\r\n                objectPosition:\r\n                  itemcroptype[pey] === 1 || itemcroptype[pey] === 2\r\n                    ? \"50% top\"\r\n                    : \"50% 50\",\r\n\r\n                zIndex: 0,\r\n\r\n              }}\r\n\r\n            />\r\n\r\n            <img\r\n              ref={pic}\r\n              onLoad={handleImageLoad}\r\n              onClick={() => {\r\n                setzoomClickedIndex(pey + 1);\r\n                setSliderIndexMini(0);\r\n                setminiProfile(false);\r\n              }}\r\n              className={\r\n                darkmodeReducer ? \"turlightpostdark\" : \"turlightpostlight\"\r\n              }\r\n              src={\r\n                postDatainner[pey][\r\n                showIndex ? (sliderIndexMini > 400 ? 0 : sliderIndexMini) : 0\r\n                ]\r\n              }\r\n              alt=\"a Clikbate post \"\r\n              style={{\r\n\r\n                cursor: \"pointer\",\r\n                width: \"100%\",\r\n                height: isWide && matchMobile ? '28vh' : 'auto',\r\n                position: ActiveCanvasx ? \"absolute\" : 'relative',\r\n                padding: \"0px\",\r\n                objectFit:\r\n                  itemcroptype[pey] === 1 || itemcroptype[pey] === 2\r\n                    ? \"cover\"\r\n                    : \"cover\",\r\n                objectPosition:\r\n                  itemcroptype[pey] === 1 || itemcroptype[pey] === 2\r\n                    ? \"50% top\"\r\n                    : \"50% 50\",\r\n\r\n                zIndex: 1,\r\n\r\n\r\n              }}\r\n              crossOrigin=\"anonymous\"\r\n            />\r\n\r\n\r\n            {HasInteractivity && ActiveCanvasx === pey ? (\r\n              <canvas\r\n                onMouseUp={(e: any) => {\r\n                  ///handleTouchStartIn(e, 0);\r\n                }}\r\n                onTouchStart={(e: any) => {\r\n                  /// handleTouchStartIn(e, 1);\r\n                }}\r\n                ref={canvasRefIn}\r\n                style={{\r\n                  cursor: \"pointer\",\r\n                  padding: \"0px\",\r\n                  position: ActiveCanvasx ? 'relative' : \"absolute\",\r\n                  zIndex: 110,\r\n                  height: '300px',\r\n                  width: '300px',\r\n                  top: \"0vh\",\r\n                  margin: \"auto\",\r\n                  backgroundColor: '#00ccff',\r\n                  //// opacity: HideCann ? 0 : 1,\r\n                  visibility: 'visible',\r\n\r\n\r\n                }}\r\n              />\r\n            ) : null}\r\n\r\n          </div>\r\n\r\n\r\n\r\n          {/*///////////////////////////////////////////////////////////////////////////USERNAME AND TOPIC*/}\r\n          <div\r\n            className={\r\n              darkmodeReducer ? \"zuperxyinfoPostDark\" : \"zuperxyinfoPostLight\"\r\n            }\r\n            style={{\r\n              visibility: miniLayoutPost ? \"hidden\" : \"visible\",\r\n              top: postusernametop,\r\n              position: \"relative\",\r\n              display: \"flex\", //flex\r\n              alignItems: \"center\",\r\n              justifyContent: \"left\",\r\n              zIndex: 50,\r\n              color: \"#ffffffff\",\r\n              paddingLeft: \"2vw\",\r\n              fontFamily: \"Arial, Helvetica, sans-seri\",\r\n              marginLeft: postusernameleft,\r\n              textAlign: \"center\",\r\n              left: matchMobile ? '6vw' : '0px',\r\n              height: \"0px\",\r\n            }}\r\n          >\r\n            <span>\r\n              <span\r\n                className={\r\n                  darkmodeReducer ? \"zuperkinglight\" : \"zuperkinglight\"\r\n                }\r\n                style={{\r\n                  color: darkmodeReducer ? \"#ffffff\" : \"#ffffff\",\r\n                }}\r\n              >\r\n                <span\r\n                  style={{\r\n                    fontWeight: \"bold\",\r\n                    fontSize: postusernamefont,\r\n                  }}\r\n                >\r\n                  {post.username}\r\n                </span>\r\n\r\n                <span\r\n                  style={{\r\n                    opacity: 0,\r\n                    fontSize: dotspace,\r\n                  }}\r\n                >\r\n                  .\r\n                </span>\r\n\r\n\r\n\r\n                <span className={ShowBigPlay ? `blinkingxx    ` : `    `}\r\n                  style={{\r\n                    marginLeft: matchMobile ? '3vw' : '1vw',\r\n\r\n                  }}\r\n                >\r\n                  {CommSho ?\r\n\r\n\r\n                    <CommentIcon\r\n                      className={darkmode ? 'zuperkingIconPostDark' : \"zuperkingIconPostLightx\"}\r\n                      style={{\r\n                        fontSize: postcirclefontx,\r\n                        color: post.color1,\r\n                      }}\r\n                    /> : FavIcon ?\r\n                      <SentimentVerySatisfiedIcon\r\n                        className={darkmode ? 'zuperkingIconPostDark' : \"zuperkingIconPostLightx\"}\r\n                        style={{\r\n                          fontSize: postcirclefontx,\r\n                          color: post.color1,\r\n                        }}\r\n                      /> :\r\n                      <CircleIcon\r\n                        className={darkmode ? 'zuperkingIconPostDark' : \"zuperkingIconPostLightx\"}\r\n                        style={{\r\n                          fontSize: postcirclefont,\r\n                          color: post.color1,\r\n                        }}\r\n                      />}\r\n\r\n                </span>\r\n\r\n\r\n\r\n\r\n\r\n                <span\r\n                  style={{\r\n                    opacity: 0,\r\n                    fontSize: dotspace2,\r\n                  }}\r\n                >\r\n                  .\r\n                </span>\r\n              </span>\r\n            </span>\r\n          </div>\r\n          {/*///////////////////////////////////////////////////////////////////////////USERNAME AND TOPIC*/}\r\n          {/*///////////////////////////////////////////////////////////////////////////PROFILE-PIC*/}\r\n\r\n          <Connect\r\n            GoToMember={GoToMember}\r\n            Added={Added}\r\n            setAdded={setAdded}\r\n            PostCon={2}\r\n            Comment={0}\r\n            Reaction={0}\r\n            Profile={0}\r\n            Mini={0}\r\n            profileImageref={profileImageref}\r\n            calculateconnectPosition={calculateconnectPosition}\r\n            profilewidth={profilewidth}\r\n            postprofiletop={postprofiletop}\r\n            optionsClass={optionsClass}\r\n            post={post}\r\n            profileImagethumbLeft={profileImagethumbLeft}\r\n            profileImagethumbTop={profileImagethumbTop}\r\n          />\r\n          {/*///////////////////////////////////////////////////////////////////////////PROFILE-PIC*/}\r\n\r\n          <div>\r\n\r\n\r\n            <div\r\n              style={{\r\n                fontWeight: \"bold\",\r\n                color: darkmodeReducer ? \"#ffffff\" : \"#000000\",\r\n                fontSize: matchPc ? \"2.2vh\" : \"1.7vh\",\r\n                zIndex: 5,\r\n                paddingLeft: matchPc ? \"7vw\" : matchTablet ? \"2.3vw\" : \"2vw\",\r\n                height: \"0px\",\r\n                fontFamily: \"Arial, Helvetica, sans-serif\",\r\n                opacity: darkmodeReducer ? \"0.6\" : \"0.8\",\r\n              }}\r\n            >   <p>\r\n                {post.topic}\r\n              </p>\r\n\r\n            </div>\r\n          </div>\r\n\r\n\r\n          {/*///////////////////////////////////////////////////////////////////////////PROFILE-PIC*/}\r\n        </div>\r\n      </animated.div>\r\n    </>\r\n  );\r\n}\r\n\r\nexport const MiniPost = React.memo(MiniPostx);\r\n"]},"metadata":{},"sourceType":"module"}