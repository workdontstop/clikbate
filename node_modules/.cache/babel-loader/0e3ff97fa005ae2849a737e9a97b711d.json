{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/King/Desktop/batcave/super/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"C:/Users/King/Desktop/batcave/super/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _objectSpread from\"C:/Users/King/Desktop/batcave/super/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"C:/Users/King/Desktop/batcave/super/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useRef,useCallback,useState,useLayoutEffect}from\"react\";import{Grid,DialogContent}from\"@material-ui/core\";import{matchTablet,matchMobile}from\"../DetectDevice\";import{useSpring,animated}from\"react-spring\";import{useSelector,useDispatch}from\"react-redux\";import Axios from\"axios\";import CheckIcon from\"@mui/icons-material/Check\";import date from\"date-and-time\";import{UserInfoUpdatePROFILE}from\"../log/actions/UserdataAction\";import{UserInfoUpdateBILLBOARD}from\"../log/actions/UserdataAction\";import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function UploadProfilePicx(_ref){var showModalUploadProfile=_ref.showModalUploadProfile,cropimageProfile=_ref.cropimageProfile,profileimageSource=_ref.profileimageSource,typex=_ref.typex,uploadClose=_ref.uploadClose;var cropCanvasRefx=useRef(null);var quality=1;if(typex===\"Profile\"){quality=1.1;}else{quality=1.5;}var dispatch=useDispatch();var _useState=useState(null),_useState2=_slicedToArray(_useState,2),CropImageHolder=_useState2[0],setCropImageHolder=_useState2[1];var hdcanvasvalue=1;var getpreviewFixedWidthRef=useRef(null);var getCropHeightRef=useRef(null);var getCropWidthMobileRef=useRef(null);var getCropWidthMobileReflong=useRef(null);var getCropWidthMobileRefHD=useRef(null);var getCropHeightRefsingle=useRef(null);var getFixedCropWidthRef=useRef(null);var _useState3=useState(0),_useState4=_slicedToArray(_useState3,2),myCropWidth=_useState4[0],setmyCropWidth=_useState4[1];var _useState5=useState(0),_useState6=_slicedToArray(_useState5,2),myCropHeight=_useState6[0],setmyCropHeight=_useState6[1];var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),matchTabletMobile=_useState8[0],setmatchTabletMobile=_useState8[1];var _useState9=useState(0),_useState10=_slicedToArray(_useState9,2),getpreviewFixedWidth=_useState10[0],setgetpreviewFixedWidth=_useState10[1];var _useState11=useState(0),_useState12=_slicedToArray(_useState11,2),screenH=_useState12[0],setscreenH=_useState12[1];var _useState13=useState(true),_useState14=_slicedToArray(_useState13,2),waitONLOAD=_useState14[0],setwaitONLOAD=_useState14[1];var _useState15=useState(0),_useState16=_slicedToArray(_useState15,2),getCropHeightRealImageRatio=_useState16[0],setgetCropHeightRealImageRatio=_useState16[1];var _useState17=useState(0),_useState18=_slicedToArray(_useState17,2),getCropWidthMobile=_useState18[0],setgetCropWidthMobile=_useState18[1];var _useState19=useState(0),_useState20=_slicedToArray(_useState19,2),getCropWidthMobileHD=_useState20[0],setgetCropWidthMobileHD=_useState20[1];var _useState21=useState(false),_useState22=_slicedToArray(_useState21,2),widelongboxmobileimage=_useState22[0],setwidelongboxmobileimage=_useState22[1];var _useState23=useState(false),_useState24=_slicedToArray(_useState23,2),widelongboxmobileimagex=_useState24[0],setwidelongboxmobileimagex=_useState24[1];var _useState25=useState(0),_useState26=_slicedToArray(_useState25,2),OriginalImageWidth=_useState26[0],setOriginalImageWidth=_useState26[1];var _useState27=useState(0),_useState28=_slicedToArray(_useState27,2),OriginalImageHeight=_useState28[0],setOriginalImageHeight=_useState28[1];var _useState29=useState(0),_useState30=_slicedToArray(_useState29,2),cropwidth=_useState30[0],setcropwidth=_useState30[1];var _useState31=useState(0),_useState32=_slicedToArray(_useState31,2),cropheight=_useState32[0],setcropheight=_useState32[1];var _useState33=useState(false),_useState34=_slicedToArray(_useState33,2),WideImageCheck=_useState34[0],setWideImageCheck=_useState34[1];var _useState35=useState(0),_useState36=_slicedToArray(_useState35,2),SourceWidthForCropX=_useState36[0],setSourceWidthForCropX=_useState36[1];var _useState37=useState(0),_useState38=_slicedToArray(_useState37,2),SourceWidthForCropY=_useState38[0],setSourceWidthForCropY=_useState38[1];var _useState39=useState(true),_useState40=_slicedToArray(_useState39,2),BoxCropActivated=_useState40[0],setBoxCropActivated=_useState40[1];var _useState41=useState(1),_useState42=_slicedToArray(_useState41,2),zoom=_useState42[0],setzoom=_useState42[1];var _useState43=useState({x:0,y:0}),_useState44=_slicedToArray(_useState43,2),crop=_useState44[0],setcrop=_useState44[1];var _useState45=useState(true),_useState46=_slicedToArray(_useState45,2),optionscropshow=_useState46[0],setoptionscropshow=_useState46[1];var _useState47=useState(false),_useState48=_slicedToArray(_useState47,2),superLoadFadex=_useState48[0],setsuperLoadFadex=_useState48[1];//\n//\n//\n//USE SLIDE DOWN ANIMATION FROM REACT SPRING\nvar animation=useSpring({config:{duration:600},opacity:showModalUploadProfile?1:0,transform:showModalUploadProfile?\"translateY(0%)\":\"translateY(-100%)\",padding:\"0px\"});///\n///\n///\n/// GET DARKMODE FROM REDUX STORE\nvar _useSelector=useSelector(function(state){return _objectSpread({},state.GlobalReducer);}),darkmode=_useSelector.darkmode;var darkmodeReducer=darkmode;var REACT_APP_SUPERSTARZ_URL=process.env.REACT_APP_SUPERSTARZ_URL;var cropscrollRef=useRef(null);var cropTOPLEVELScrollRef=useRef(null);///\n///\n///\n///GET DIMENSIONS AND  SCREEN HEIGHT\nuseLayoutEffect(function(){if(matchTablet||matchMobile){setmatchTabletMobile(true);}if(getpreviewFixedWidthRef.current&&getpreviewFixedWidthRef.current.clientWidth){setgetpreviewFixedWidth(getpreviewFixedWidthRef.current.clientWidth);}if(getCropHeightRefsingle.current&&getCropHeightRefsingle.current.clientHeight){setscreenH(getCropHeightRefsingle.current.clientHeight);}if(profileimageSource.length===1){setwaitONLOAD(false);if(getCropHeightRefsingle.current&&getCropHeightRefsingle.current.clientHeight||getCropHeightRef.current){if(matchTabletMobile){setmyCropHeight(getCropWidthMobileRef.current.clientWidth*hdcanvasvalue);setmyCropWidth(getCropWidthMobileRef.current.clientWidth*hdcanvasvalue);}else{if(typex===\"Profile\"){setmyCropWidth(getCropHeightRefsingle.current.clientHeight*hdcanvasvalue);setmyCropHeight(getCropHeightRefsingle.current.clientHeight*hdcanvasvalue);}else{if(WideImageCheck){setmyCropWidth(getCropHeightRefsingle.current.clientHeight*hdcanvasvalue+getCropHeightRefsingle.current.clientHeight*0);setmyCropHeight(getCropHeightRefsingle.current.clientHeight*hdcanvasvalue-getCropHeightRefsingle.current.clientHeight*0.22);}else{setmyCropWidth(getCropHeightRefsingle.current.clientHeight*hdcanvasvalue+getCropHeightRefsingle.current.clientHeight*0.2);setmyCropHeight(getCropHeightRefsingle.current.clientHeight*hdcanvasvalue-getCropHeightRefsingle.current.clientHeight*0.32);}}}setgetCropHeightRealImageRatio(getCropHeightRefsingle.current.clientHeight*hdcanvasvalue);}}else{if(getCropHeightRef.current&&getCropHeightRef.current.clientHeight){if(matchTabletMobile){setmyCropHeight(getCropWidthMobileRef.current.clientWidth*hdcanvasvalue);setmyCropWidth(getCropWidthMobileRef.current.clientWidth*hdcanvasvalue);}else{setmyCropHeight(getCropHeightRef.current.clientHeight*hdcanvasvalue);setmyCropWidth(getCropHeightRef.current.clientHeight*hdcanvasvalue);}setgetCropHeightRealImageRatio(getCropHeightRef.current.clientHeight);}}if(getCropWidthMobileRef.current&&getCropWidthMobileRef.current.clientWidth){setgetCropWidthMobile(getCropWidthMobileRef.current.clientWidth);}if(getCropWidthMobileRefHD.current&&getCropWidthMobileRefHD.current.clientWidth){setgetCropWidthMobileHD(getCropWidthMobileRefHD.current.clientWidth);}},[profileimageSource,typex,WideImageCheck]);var draw=useCallback(function(ctx,dimensions,type,axis,allowZoomedAxis){var allowZoomedaxis,aa;if(typex===\"Profile\"){aa=-(dimensions*zoom)/4;}else{aa=axis;}if(zoom===1){allowZoomedaxis=0;}else{allowZoomedaxis=allowZoomedAxis;}if(type===1){ctx.drawImage(CropImageHolder,aa,allowZoomedaxis,dimensions*zoom,myCropHeight*quality*zoom);}else if(type===2){ctx.drawImage(CropImageHolder,allowZoomedaxis,axis,myCropWidth*quality*zoom,dimensions*zoom);}else{ctx.drawImage(CropImageHolder,0,0,OriginalImageWidth,OriginalImageHeight);}},[OriginalImageWidth,OriginalImageHeight,CropImageHolder,myCropHeight,myCropWidth,zoom,typex]);useLayoutEffect(function(){var Newcropimage=new Image();Newcropimage.src=cropimageProfile;Newcropimage.onload=function(){if(CropImageHolder===Newcropimage){}else{setCropImageHolder(Newcropimage);}var data1=0;var data2=0;var RatioNewcropimageNaturalHeight=Newcropimage.naturalHeight/myCropHeight;var NewcropimageWidth=Newcropimage.naturalWidth/RatioNewcropimageNaturalHeight;var RatioNewcropimageNaturalWidth=Newcropimage.naturalWidth/getCropWidthMobileHD;var NewcropimageHeight=Newcropimage.naturalHeight/RatioNewcropimageNaturalWidth;var RatioNewcropimageNaturalWidthxx=Newcropimage.naturalWidth/getCropWidthMobile;var NewcropimageHeightxx=Newcropimage.naturalHeight/RatioNewcropimageNaturalWidthxx;////// CANVAS  CROPPER DIMENSIONS  PC MOBILE(canvaswidth)\nif(matchTabletMobile&&NewcropimageHeightxx<screenH){setwidelongboxmobileimage(true);setwidelongboxmobileimagex(true);if(OriginalImageHeight===NewcropimageHeight){}else{setOriginalImageHeight(NewcropimageHeight);data2=NewcropimageHeight;}//\nif(OriginalImageWidth===getCropWidthMobileHD){}else{setOriginalImageWidth(getCropWidthMobileHD);data1=getCropWidthMobileHD;}}else{setwidelongboxmobileimage(false);setwidelongboxmobileimagex(false);if(OriginalImageWidth===NewcropimageWidth){}else{setOriginalImageWidth(NewcropimageWidth);data1=NewcropimageWidth;}///\nif(OriginalImageHeight===myCropHeight){}else{setOriginalImageHeight(myCropHeight);data2=myCropHeight;}}////// CANVAS  CROPPER DIMENSIONS  PC MOBILE(canvaswidth)\nif(Newcropimage.naturalWidth>Newcropimage.naturalHeight){setWideImageCheck(true);}else{setWideImageCheck(false);}if(cropwidth===data1){}else{setcropwidth(data1);}if(cropheight===data2){}else{setcropheight(data2);}};},[cropimageProfile,showModalUploadProfile]);///\n///\n///\n/// INTERFACE/TYPES FOR SCREENHEIGHT AND DARKMODE\n///\n///\n///\n/// GET SCREENHEIGHT FROM REDUX STORE\nvar _useSelector2=useSelector(function(state){return _objectSpread({},state.UserdataReducer);}),id=_useSelector2.id;var idReducer=id;function blobToBase64(blob){return new Promise(function(resolve,_){var reader=new FileReader();reader.onloadend=function(){return resolve(reader.result);};reader.readAsDataURL(blob);});}var postbillboardData=useCallback(function(a,b){setsuperLoadFadex(true);// Creating object of current date and time\n// by using Date()\nvar now=new Date();// Formatting the date and time\n// by using date.format() method\nvar datevalue=date.format(now,\"YYYY_MM_DD_HH_mm_ss\");var formData=new FormData();var datev=new Date();formData.append(\"id\",\"\".concat(idReducer));formData.append(\"finalxxy\",a,\"blob\".concat(id).concat(datevalue));Axios.post(\"\".concat(REACT_APP_SUPERSTARZ_URL,\"/billboard_upload\"),formData,{headers:{\"Content-Type\":\"multipart/form-data\"}}).then(function(response){if(response.data.message===\"billboard image uploaded\"){setsuperLoadFadex(false);var ffz=\"blob\".concat(id).concat(datevalue);var data={billboard1:b};dispatch(UserInfoUpdateBILLBOARD(data));uploadClose(3);}}).catch(function(error){alert(\"caption erroerrr\");});},[idReducer,blobToBase64]);var postProfiledata=useCallback(function(a,b){setsuperLoadFadex(true);// Creating object of current date and time\n// by using Date()\nvar now=new Date();// Formatting the date and time\n// by using date.format() method\nvar datevalue=date.format(now,\"YYYY_MM_DD_HH_mm_ss\");var formData=new FormData();var datev=new Date();formData.append(\"id\",\"\".concat(idReducer));formData.append(\"finalxx\",a,\"blob\".concat(id).concat(datevalue));Axios.post(\"\".concat(REACT_APP_SUPERSTARZ_URL,\"/profile_upload\"),formData,{headers:{\"Content-Type\":\"multipart/form-data\"}}).then(function(response){if(response.data.message===\"profile image uploaded\"){setsuperLoadFadex(false);var ffz=\"blob\".concat(id).concat(datevalue);var data={image:b};dispatch(UserInfoUpdatePROFILE(data));uploadClose(4);}}).catch(function(error){alert(\"caption erroerrr\");});},[idReducer]);var drawcropper=function drawcropper(upl){if(CropImageHolder&&cropCanvasRefx.current){var ctx=cropCanvasRefx.current.getContext(\"2d\");var nn=myCropHeight*quality;var RatiofromOriginalandfixedHeight=OriginalImageHeight/nn;var NewBoxRatioWidth_WIDEIMAGE=OriginalImageWidth/RatiofromOriginalandfixedHeight;if(SourceWidthForCropX===NewBoxRatioWidth_WIDEIMAGE){}else{setSourceWidthForCropX(NewBoxRatioWidth_WIDEIMAGE);}var bb=myCropWidth*quality;var RatiofromOriginalandfixedHeightx=OriginalImageWidth/bb;var NewBoxRatioWidth_LONGIMAGE=OriginalImageHeight/RatiofromOriginalandfixedHeightx;if(SourceWidthForCropY===NewBoxRatioWidth_LONGIMAGE){}else{setSourceWidthForCropY(NewBoxRatioWidth_LONGIMAGE);}var ratioh=OriginalImageWidth*3/OriginalImageWidth;var ratiow=OriginalImageHeight*3/OriginalImageHeight;if(BoxCropActivated){cropCanvasRefx.current.width=myCropWidth*quality;cropCanvasRefx.current.height=myCropHeight*quality;}else{cropCanvasRefx.current.width=OriginalImageWidth;cropCanvasRefx.current.height=OriginalImageHeight;}var centerpreview=cropCanvasRefx.current.width/1.5-NewBoxRatioWidth_LONGIMAGE/1.5;var xtraZoom=myCropHeight/NewBoxRatioWidth_WIDEIMAGE;var centerCropCanvas=cropCanvasRefx.current.width/2-NewBoxRatioWidth_WIDEIMAGE/2;//////////////////////////CSS CALCULATION MOBILE PC\nvar RatiofromOriginalandfixedHeight=OriginalImageHeight/getCropHeightRealImageRatio;var newcropCSSWidth=OriginalImageWidth/RatiofromOriginalandfixedHeight;///\nvar RatiofromOriginalandfixedWidth=OriginalImageWidth/getCropWidthMobile;var newcropCSSHeight=OriginalImageHeight/RatiofromOriginalandfixedWidth;//////////////////////////CSS CALCULATION MOBILE PC\nif(BoxCropActivated){var xx=myCropWidth*zoom;var RatiofromOriginalandfixedHeightx=OriginalImageWidth/xx;var NewBoxRatioWidth_LONGIMAGEx=OriginalImageHeight/RatiofromOriginalandfixedHeightx;var xxx=NewBoxRatioWidth_LONGIMAGE*zoom;var RatiofromOriginalandfixedWidthx=OriginalImageHeight/xxx;var NewBoxRatioWidth_WIDEIMAGEx=OriginalImageWidth/RatiofromOriginalandfixedWidthx;var xx2=NewBoxRatioWidth_WIDEIMAGE*zoom;var RatiofromOriginalandfixedHeightx2=OriginalImageWidth/xx2;var NewBoxRatioWidth_LONGIMAGEx2=OriginalImageHeight/RatiofromOriginalandfixedHeightx2;var xxx2=myCropHeight*zoom;var RatiofromOriginalandfixedWidthx2=OriginalImageHeight/xxx2;var NewBoxRatioWidth_WIDEIMAGEx2=OriginalImageWidth/RatiofromOriginalandfixedWidthx2;if(OriginalImageWidth>OriginalImageHeight){if(OriginalImageHeight===OriginalImageWidth){requestAnimationFrame(/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var data,res,datax,base64String;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:draw(ctx,NewBoxRatioWidth_WIDEIMAGE,1,0,crop.x);_context.prev=1;if(!(upl===1)){_context.next=21;break;}data=cropCanvasRefx.current.toDataURL();_context.next=6;return fetch(data);case 6:res=_context.sent;_context.next=9;return res.blob();case 9:datax=_context.sent;if(!(typex===\"Profile\")){_context.next=17;break;}_context.next=13;return blobToBase64(datax);case 13:base64String=_context.sent;postProfiledata(datax,base64String);_context.next=21;break;case 17:_context.next=19;return blobToBase64(datax);case 19:base64String=_context.sent;postbillboardData(datax,base64String);case 21:_context.next=26;break;case 23:_context.prev=23;_context.t0=_context[\"catch\"](1);console.log(\"upload profile pic\");case 26:case\"end\":return _context.stop();}}},_callee,null,[[1,23]]);})));}else{requestAnimationFrame(/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var data,res,datax,base64String;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:draw(ctx,NewBoxRatioWidth_WIDEIMAGE,1,crop.x,crop.y);_context2.prev=1;if(!(upl===1)){_context2.next=21;break;}data=cropCanvasRefx.current.toDataURL();_context2.next=6;return fetch(data);case 6:res=_context2.sent;_context2.next=9;return res.blob();case 9:datax=_context2.sent;if(!(typex===\"Profile\")){_context2.next=17;break;}_context2.next=13;return blobToBase64(datax);case 13:base64String=_context2.sent;postProfiledata(datax,base64String);_context2.next=21;break;case 17:_context2.next=19;return blobToBase64(datax);case 19:base64String=_context2.sent;postbillboardData(datax,base64String);case 21:_context2.next=26;break;case 23:_context2.prev=23;_context2.t0=_context2[\"catch\"](1);console.log(\"upload profile pic\");case 26:case\"end\":return _context2.stop();}}},_callee2,null,[[1,23]]);})));}}else{if(OriginalImageHeight===OriginalImageWidth){requestAnimationFrame(/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(){var data,res,datax,base64String;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:draw(ctx,NewBoxRatioWidth_LONGIMAGE,2,0,crop.x);_context3.prev=1;if(!(upl===1)){_context3.next=21;break;}data=cropCanvasRefx.current.toDataURL();_context3.next=6;return fetch(data);case 6:res=_context3.sent;_context3.next=9;return res.blob();case 9:datax=_context3.sent;if(!(typex===\"Profile\")){_context3.next=17;break;}_context3.next=13;return blobToBase64(datax);case 13:base64String=_context3.sent;postProfiledata(datax,base64String);_context3.next=21;break;case 17:_context3.next=19;return blobToBase64(datax);case 19:base64String=_context3.sent;postbillboardData(datax,base64String);case 21:_context3.next=26;break;case 23:_context3.prev=23;_context3.t0=_context3[\"catch\"](1);console.log(\"upload profile pic\");case 26:case\"end\":return _context3.stop();}}},_callee3,null,[[1,23]]);})));}else{requestAnimationFrame(/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(){var data,res,datax,base64String;return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:draw(ctx,NewBoxRatioWidth_LONGIMAGE,2,crop.y,crop.x);_context4.prev=1;if(!(upl===1)){_context4.next=21;break;}data=cropCanvasRefx.current.toDataURL();_context4.next=6;return fetch(data);case 6:res=_context4.sent;_context4.next=9;return res.blob();case 9:datax=_context4.sent;if(!(typex===\"Profile\")){_context4.next=17;break;}_context4.next=13;return blobToBase64(datax);case 13:base64String=_context4.sent;postProfiledata(datax,base64String);_context4.next=21;break;case 17:_context4.next=19;return blobToBase64(datax);case 19:base64String=_context4.sent;postbillboardData(datax,base64String);case 21:_context4.next=26;break;case 23:_context4.prev=23;_context4.t0=_context4[\"catch\"](1);console.log(\"upload profile pic\");case 26:case\"end\":return _context4.stop();}}},_callee4,null,[[1,23]]);})));}}cropCanvasRefx.current.style.width=\"\".concat(myCropWidth/hdcanvasvalue,\"px\");cropCanvasRefx.current.style.height=\"\".concat(myCropHeight/hdcanvasvalue,\"px\");}else{requestAnimationFrame(/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee5(){var data,res,datax,base64String;return _regeneratorRuntime.wrap(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:draw(ctx,0,3,0,crop.x);_context5.prev=1;if(!(upl===1)){_context5.next=21;break;}data=cropCanvasRefx.current.toDataURL();_context5.next=6;return fetch(data);case 6:res=_context5.sent;_context5.next=9;return res.blob();case 9:datax=_context5.sent;if(!(typex===\"Profile\")){_context5.next=17;break;}_context5.next=13;return blobToBase64(datax);case 13:base64String=_context5.sent;postProfiledata(datax,base64String);_context5.next=21;break;case 17:_context5.next=19;return blobToBase64(datax);case 19:base64String=_context5.sent;postbillboardData(datax,base64String);case 21:_context5.next=26;break;case 23:_context5.prev=23;_context5.t0=_context5[\"catch\"](1);console.log(\"upload profile pic\");case 26:case\"end\":return _context5.stop();}}},_callee5,null,[[1,23]]);})));if(matchTabletMobile&&widelongboxmobileimage){cropCanvasRefx.current.style.width=\"\".concat(getCropWidthMobile,\"px\");cropCanvasRefx.current.style.height=\"\".concat(newcropCSSHeight,\"px\");}else{cropCanvasRefx.current.style.width=\"\".concat(newcropCSSWidth,\"px\");cropCanvasRefx.current.style.height=\"\".concat(getCropHeightRealImageRatio,\"px\");}}}};useLayoutEffect(function(){drawcropper(0);},[CropImageHolder,BoxCropActivated,OriginalImageWidth,OriginalImageHeight,widelongboxmobileimage,myCropHeight,crop,zoom]);var done=function done(){drawcropper(1);};return/*#__PURE__*/_jsxs(_Fragment,{children:[showModalUploadProfile?/*#__PURE__*/_jsxs(DialogContent,{className:darkmodeReducer?\"dialog-container\":\"dialog-container\",style:{padding:\"0px\",height:\"100vh\",position:\"fixed\",zIndex:100,cursor:\"default\",overflow:\"hidden\"},children:[superLoadFadex?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Grid,{container:true,style:{backgroundColor:darkmodeReducer?\"rgba(50,50,50,0.65)\":\"rgba(250,250,250,0.65)\",position:\"fixed\",top:\"0px\",width:\"100%\",height:\"100%\",zIndex:10}}),\" \"]}):null,/*#__PURE__*/_jsx(animated.div,{ref:cropscrollRef,style:animation,children:/*#__PURE__*/_jsxs(DialogContent,{ref:cropTOPLEVELScrollRef,className:matchMobile||matchTablet?darkmodeReducer?\" dontallowhighlighting modal-containerDarkmob\":\" dontallowhighlighting  modal-containerLightmob \":darkmodeReducer?\" dontallowhighlighting modal-containerDark  postscroll-dark \":\" dontallowhighlighting  modal-containerLight  postscroll-light \",style:{padding:\"0px\",height:\"100vh\",overflow:\"hidden\"},children:[/*#__PURE__*/_jsxs(Grid,{container:true,style:{padding:\"0px\",bottom:typex===\"Profile\"?\"13.6vh\":WideImageCheck?\"33vh\":\"43vh\",margin:\"auto\",width:\"100%\",height:\"0px\",position:\"absolute\",display:\"flex\",justifyContent:\"center\",alignItems:\"center\",alignContent:\"center\",zIndex:5,alignSelf:\"center\"},children:[/*#__PURE__*/_jsx(Grid,{item:true,xs:4,style:{padding:\"0px\",height:\"0px\",margin:\"auto\",display:\"grid\",alignItems:\"center\"}}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,style:{padding:\"0px\",height:\"0px\",margin:\"auto\",display:\"grid\",alignItems:\"center\"},children:optionscropshow?/*#__PURE__*/_jsx(CheckIcon,{onClick:done,className:darkmodeReducer?\"make-small-icons-clickable-lightCrop turdark dontallowhighlighting zuperkingIcon \":\"make-small-icons-clickable-darkCrop  turdark dontallowhighlighting zuperkingIcon  \",style:{margin:\"auto\",fontSize:matchTabletMobile?\"4.8vh\":\"2.9vw\"}}):null}),/*#__PURE__*/_jsx(Grid,{item:true,xs:4,style:{padding:\"0px\",height:\"0px\",margin:\"auto\",display:\"grid\",alignItems:\"center\"}})]}),/*#__PURE__*/_jsx(Grid,{container:true,style:{width:\"100%\"},children:/*#__PURE__*/_jsx(\"canvas\",{ref:cropCanvasRefx,style:{padding:\"0px\",margin:\"auto\",zIndex:2}})})]})})]}):null,/*#__PURE__*/_jsx(Grid,{container:true,style:{height:\"100%\",position:\"fixed\",top:\"-800vh\"},children:/*#__PURE__*/_jsxs(Grid,{item:true,xs:12,style:{padding:\"0px\"},children:[/*#__PURE__*/_jsx(Grid,{item:true,ref:getpreviewFixedWidthRef,xs:5,style:{padding:\"0px\"}}),/*#__PURE__*/_jsx(Grid,{item:true,ref:getFixedCropWidthRef,xs:4,style:{padding:\"0px\"}}),/*#__PURE__*/_jsx(Grid,{item:true,ref:getCropHeightRef,xs:12,style:{height:\"92%\"}}),/*#__PURE__*/_jsx(Grid,{item:true,ref:getCropWidthMobileRef,xs:12,style:{padding:\"0px\",width:\"100%\"}}),/*#__PURE__*/_jsx(Grid,{item:true,ref:getCropWidthMobileReflong,xs:12,style:{padding:\"0px\",width:\"150%\"}}),/*#__PURE__*/_jsx(Grid,{item:true,ref:getCropWidthMobileRefHD,style:{padding:\"0px\",width:\"150%\"}}),/*#__PURE__*/_jsx(Grid,{item:true,ref:getCropHeightRefsingle,xs:12,style:{height:\"100%\"}})]})})]});}export var UploadProfilePic=/*#__PURE__*/React.memo(UploadProfilePicx);","map":{"version":3,"sources":["C:/Users/King/Desktop/batcave/super/src/upload/UploadProfilePic.tsx"],"names":["React","useRef","useCallback","useState","useLayoutEffect","Grid","DialogContent","matchTablet","matchMobile","useSpring","animated","useSelector","useDispatch","Axios","CheckIcon","date","UserInfoUpdatePROFILE","UserInfoUpdateBILLBOARD","UploadProfilePicx","showModalUploadProfile","cropimageProfile","profileimageSource","typex","uploadClose","cropCanvasRefx","quality","dispatch","CropImageHolder","setCropImageHolder","hdcanvasvalue","getpreviewFixedWidthRef","getCropHeightRef","getCropWidthMobileRef","getCropWidthMobileReflong","getCropWidthMobileRefHD","getCropHeightRefsingle","getFixedCropWidthRef","myCropWidth","setmyCropWidth","myCropHeight","setmyCropHeight","matchTabletMobile","setmatchTabletMobile","getpreviewFixedWidth","setgetpreviewFixedWidth","screenH","setscreenH","waitONLOAD","setwaitONLOAD","getCropHeightRealImageRatio","setgetCropHeightRealImageRatio","getCropWidthMobile","setgetCropWidthMobile","getCropWidthMobileHD","setgetCropWidthMobileHD","widelongboxmobileimage","setwidelongboxmobileimage","widelongboxmobileimagex","setwidelongboxmobileimagex","OriginalImageWidth","setOriginalImageWidth","OriginalImageHeight","setOriginalImageHeight","cropwidth","setcropwidth","cropheight","setcropheight","WideImageCheck","setWideImageCheck","SourceWidthForCropX","setSourceWidthForCropX","SourceWidthForCropY","setSourceWidthForCropY","BoxCropActivated","setBoxCropActivated","zoom","setzoom","x","y","crop","setcrop","optionscropshow","setoptionscropshow","superLoadFadex","setsuperLoadFadex","animation","config","duration","opacity","transform","padding","state","GlobalReducer","darkmode","darkmodeReducer","REACT_APP_SUPERSTARZ_URL","process","env","cropscrollRef","cropTOPLEVELScrollRef","current","clientWidth","clientHeight","length","draw","ctx","dimensions","type","axis","allowZoomedAxis","allowZoomedaxis","aa","drawImage","Newcropimage","Image","src","onload","data1","data2","RatioNewcropimageNaturalHeight","naturalHeight","NewcropimageWidth","naturalWidth","RatioNewcropimageNaturalWidth","NewcropimageHeight","RatioNewcropimageNaturalWidthxx","NewcropimageHeightxx","UserdataReducer","id","idReducer","blobToBase64","blob","Promise","resolve","_","reader","FileReader","onloadend","result","readAsDataURL","postbillboardData","a","b","now","Date","datevalue","format","formData","FormData","datev","append","post","headers","then","response","data","message","ffz","billboard1","catch","error","alert","postProfiledata","image","drawcropper","upl","getContext","nn","RatiofromOriginalandfixedHeight","NewBoxRatioWidth_WIDEIMAGE","bb","RatiofromOriginalandfixedHeightx","NewBoxRatioWidth_LONGIMAGE","ratioh","ratiow","width","height","centerpreview","xtraZoom","centerCropCanvas","newcropCSSWidth","RatiofromOriginalandfixedWidth","newcropCSSHeight","xx","NewBoxRatioWidth_LONGIMAGEx","xxx","RatiofromOriginalandfixedWidthx","NewBoxRatioWidth_WIDEIMAGEx","xx2","RatiofromOriginalandfixedHeightx2","NewBoxRatioWidth_LONGIMAGEx2","xxx2","RatiofromOriginalandfixedWidthx2","NewBoxRatioWidth_WIDEIMAGEx2","requestAnimationFrame","toDataURL","fetch","res","datax","base64String","console","log","style","done","position","zIndex","cursor","overflow","backgroundColor","top","bottom","margin","display","justifyContent","alignItems","alignContent","alignSelf","fontSize","UploadProfilePic","memo"],"mappings":"omBAAA,MAAOA,CAAAA,KAAP,EACEC,MADF,CAGEC,WAHF,CAIEC,QAJF,CAKEC,eALF,KAMO,OANP,CAQA,OAASC,IAAT,CAAuBC,aAAvB,KAA4C,mBAA5C,CACA,OAAkBC,WAAlB,CAA+BC,WAA/B,KAAkD,iBAAlD,CACA,OAASC,SAAT,CAAoBC,QAApB,KAAoC,cAApC,CAEA,OAAyBC,WAAzB,CAAsCC,WAAtC,KAAyD,aAAzD,CAEA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,SAAP,KAAsB,2BAAtB,CACA,MAAOC,CAAAA,IAAP,KAAiB,eAAjB,CACA,OAASC,qBAAT,KAAsC,+BAAtC,CACA,OAASC,uBAAT,KAAwC,+BAAxC,C,6IAEA,QAASC,CAAAA,iBAAT,MAMqB,IALnBC,CAAAA,sBAKmB,MALnBA,sBAKmB,CAJnBC,gBAImB,MAJnBA,gBAImB,CAHnBC,kBAGmB,MAHnBA,kBAGmB,CAFnBC,KAEmB,MAFnBA,KAEmB,CADnBC,WACmB,MADnBA,WACmB,CACnB,GAAMC,CAAAA,cAAmB,CAAGvB,MAAM,CAAC,IAAD,CAAlC,CAEA,GAAIwB,CAAAA,OAAe,CAAG,CAAtB,CAEA,GAAIH,KAAK,GAAK,SAAd,CAAyB,CACvBG,OAAO,CAAG,GAAV,CACD,CAFD,IAEO,CACLA,OAAO,CAAG,GAAV,CACD,CAED,GAAMC,CAAAA,QAAQ,CAAGd,WAAW,EAA5B,CAXmB,cAa2BT,QAAQ,CAAM,IAAN,CAbnC,wCAaZwB,eAbY,eAaKC,kBAbL,eAenB,GAAMC,CAAAA,aAAa,CAAG,CAAtB,CAEA,GAAMC,CAAAA,uBAAuB,CAAG7B,MAAM,CAAiB,IAAjB,CAAtC,CAEA,GAAM8B,CAAAA,gBAAqB,CAAG9B,MAAM,CAAiB,IAAjB,CAApC,CAEA,GAAM+B,CAAAA,qBAA0B,CAAG/B,MAAM,CAAiB,IAAjB,CAAzC,CAEA,GAAMgC,CAAAA,yBAA8B,CAAGhC,MAAM,CAAiB,IAAjB,CAA7C,CAEA,GAAMiC,CAAAA,uBAA4B,CAAGjC,MAAM,CAAiB,IAAjB,CAA3C,CAEA,GAAMkC,CAAAA,sBAA2B,CAAGlC,MAAM,CAAiB,IAAjB,CAA1C,CAEA,GAAMmC,CAAAA,oBAAyB,CAAGnC,MAAM,CAAiB,IAAjB,CAAxC,CA7BmB,eA+BmBE,QAAQ,CAAC,CAAD,CA/B3B,yCA+BZkC,WA/BY,eA+BCC,cA/BD,8BAiCqBnC,QAAQ,CAAC,CAAD,CAjC7B,yCAiCZoC,YAjCY,eAiCEC,eAjCF,8BAmC+BrC,QAAQ,CAAU,KAAV,CAnCvC,yCAmCZsC,iBAnCY,eAmCOC,oBAnCP,8BAqCqCvC,QAAQ,CAAC,CAAD,CArC7C,0CAqCZwC,oBArCY,gBAqCUC,uBArCV,gCAuCWzC,QAAQ,CAAC,CAAD,CAvCnB,2CAuCZ0C,OAvCY,gBAuCHC,UAvCG,gCAyCiB3C,QAAQ,CAAU,IAAV,CAzCzB,2CAyCZ4C,UAzCY,gBAyCAC,aAzCA,gCA4CjB7C,QAAQ,CAAC,CAAD,CA5CS,2CA2CZ8C,2BA3CY,gBA2CiBC,8BA3CjB,gCA8CiC/C,QAAQ,CAAC,CAAD,CA9CzC,2CA8CZgD,kBA9CY,gBA8CQC,qBA9CR,gCAgDqCjD,QAAQ,CAAC,CAAD,CAhD7C,2CAgDZkD,oBAhDY,gBAgDUC,uBAhDV,gCAmDjBnD,QAAQ,CAAU,KAAV,CAnDS,2CAkDZoD,sBAlDY,gBAkDYC,yBAlDZ,gCAsDjBrD,QAAQ,CAAU,KAAV,CAtDS,2CAqDZsD,uBArDY,gBAqDaC,0BArDb,gCAwDiCvD,QAAQ,CAAS,CAAT,CAxDzC,2CAwDZwD,kBAxDY,gBAwDQC,qBAxDR,gCAyDmCzD,QAAQ,CAAS,CAAT,CAzD3C,2CAyDZ0D,mBAzDY,gBAyDSC,sBAzDT,gCA2De3D,QAAQ,CAAC,CAAD,CA3DvB,2CA2DZ4D,SA3DY,gBA2DDC,YA3DC,gCA6DiB7D,QAAQ,CAAC,CAAD,CA7DzB,2CA6DZ8D,UA7DY,gBA6DAC,aA7DA,gCA+DyB/D,QAAQ,CAAU,KAAV,CA/DjC,2CA+DZgE,cA/DY,gBA+DIC,iBA/DJ,gCAiEmCjE,QAAQ,CAAC,CAAD,CAjE3C,2CAiEZkE,mBAjEY,gBAiESC,sBAjET,gCAmEmCnE,QAAQ,CAAC,CAAD,CAnE3C,2CAmEZoE,mBAnEY,gBAmESC,sBAnET,gCAqE6BrE,QAAQ,CAAU,IAAV,CArErC,2CAqEZsE,gBArEY,gBAqEMC,mBArEN,gCAuEKvE,QAAQ,CAAM,CAAN,CAvEb,2CAuEZwE,IAvEY,gBAuENC,OAvEM,gCAyEKzE,QAAQ,CAAM,CAAE0E,CAAC,CAAE,CAAL,CAAQC,CAAC,CAAE,CAAX,CAAN,CAzEb,2CAyEZC,IAzEY,gBAyENC,OAzEM,gCA0E2B7E,QAAQ,CAAU,IAAV,CA1EnC,2CA0EZ8E,eA1EY,gBA0EKC,kBA1EL,gCA4EyB/E,QAAQ,CAAU,KAAV,CA5EjC,2CA4EZgF,cA5EY,gBA4EIC,iBA5EJ,gBA8EnB;AACA;AACA;AACA;AACA,GAAMC,CAAAA,SAAS,CAAG5E,SAAS,CAAC,CAC1B6E,MAAM,CAAE,CACNC,QAAQ,CAAE,GADJ,CADkB,CAI1BC,OAAO,CAAErE,sBAAsB,CAAG,CAAH,CAAO,CAJZ,CAK1BsE,SAAS,CAAEtE,sBAAsB,qCALP,CAM1BuE,OAAO,CAAE,KANiB,CAAD,CAA3B,CASA;AACA;AACA;AACA;AA9FmB,iBAoGE/E,WAAW,CAAC,SAACgF,KAAD,0BAC5BA,KAAK,CAACC,aADsB,GAAD,CApGb,CAoGXC,QApGW,cAoGXA,QApGW,CAwGnB,GAAMC,CAAAA,eAAe,CAAGD,QAAxB,CAxGmB,GA0GXE,CAAAA,wBA1GW,CA0GkBC,OAAO,CAACC,GA1G1B,CA0GXF,wBA1GW,CA2GnB,GAAMG,CAAAA,aAAa,CAAGjG,MAAM,CAAM,IAAN,CAA5B,CACA,GAAMkG,CAAAA,qBAA0B,CAAGlG,MAAM,CAAC,IAAD,CAAzC,CAEA;AACA;AACA;AACA;AACAG,eAAe,CAAC,UAAM,CACpB,GAAIG,WAAW,EAAIC,WAAnB,CAAgC,CAC9BkC,oBAAoB,CAAC,IAAD,CAApB,CACD,CACD,GACEZ,uBAAuB,CAACsE,OAAxB,EACAtE,uBAAuB,CAACsE,OAAxB,CAAgCC,WAFlC,CAGE,CACAzD,uBAAuB,CAACd,uBAAuB,CAACsE,OAAxB,CAAgCC,WAAjC,CAAvB,CACD,CAED,GACElE,sBAAsB,CAACiE,OAAvB,EACAjE,sBAAsB,CAACiE,OAAvB,CAA+BE,YAFjC,CAGE,CACAxD,UAAU,CAACX,sBAAsB,CAACiE,OAAvB,CAA+BE,YAAhC,CAAV,CACD,CAED,GAAIjF,kBAAkB,CAACkF,MAAnB,GAA8B,CAAlC,CAAqC,CACnCvD,aAAa,CAAC,KAAD,CAAb,CACA,GACGb,sBAAsB,CAACiE,OAAvB,EACCjE,sBAAsB,CAACiE,OAAvB,CAA+BE,YADjC,EAEAvE,gBAAgB,CAACqE,OAHnB,CAIE,CACA,GAAI3D,iBAAJ,CAAuB,CACrBD,eAAe,CACbR,qBAAqB,CAACoE,OAAtB,CAA8BC,WAA9B,CAA4CxE,aAD/B,CAAf,CAGAS,cAAc,CACZN,qBAAqB,CAACoE,OAAtB,CAA8BC,WAA9B,CAA4CxE,aADhC,CAAd,CAGD,CAPD,IAOO,CACL,GAAIP,KAAK,GAAK,SAAd,CAAyB,CACvBgB,cAAc,CACZH,sBAAsB,CAACiE,OAAvB,CAA+BE,YAA/B,CAA8CzE,aADlC,CAAd,CAIAW,eAAe,CACbL,sBAAsB,CAACiE,OAAvB,CAA+BE,YAA/B,CAA8CzE,aADjC,CAAf,CAGD,CARD,IAQO,CACL,GAAIsC,cAAJ,CAAoB,CAClB7B,cAAc,CACZH,sBAAsB,CAACiE,OAAvB,CAA+BE,YAA/B,CAA8CzE,aAA9C,CACEM,sBAAsB,CAACiE,OAAvB,CAA+BE,YAA/B,CAA8C,CAFpC,CAAd,CAKA9D,eAAe,CACbL,sBAAsB,CAACiE,OAAvB,CAA+BE,YAA/B,CAA8CzE,aAA9C,CACEM,sBAAsB,CAACiE,OAAvB,CAA+BE,YAA/B,CAA8C,IAFnC,CAAf,CAID,CAVD,IAUO,CACLhE,cAAc,CACZH,sBAAsB,CAACiE,OAAvB,CAA+BE,YAA/B,CAA8CzE,aAA9C,CACEM,sBAAsB,CAACiE,OAAvB,CAA+BE,YAA/B,CAA8C,GAFpC,CAAd,CAKA9D,eAAe,CACbL,sBAAsB,CAACiE,OAAvB,CAA+BE,YAA/B,CAA8CzE,aAA9C,CACEM,sBAAsB,CAACiE,OAAvB,CAA+BE,YAA/B,CAA8C,IAFnC,CAAf,CAID,CACF,CACF,CAEDpD,8BAA8B,CAC5Bf,sBAAsB,CAACiE,OAAvB,CAA+BE,YAA/B,CAA8CzE,aADlB,CAA9B,CAGD,CACF,CApDD,IAoDO,CACL,GAAIE,gBAAgB,CAACqE,OAAjB,EAA4BrE,gBAAgB,CAACqE,OAAjB,CAAyBE,YAAzD,CAAuE,CACrE,GAAI7D,iBAAJ,CAAuB,CACrBD,eAAe,CACbR,qBAAqB,CAACoE,OAAtB,CAA8BC,WAA9B,CAA4CxE,aAD/B,CAAf,CAGAS,cAAc,CACZN,qBAAqB,CAACoE,OAAtB,CAA8BC,WAA9B,CAA4CxE,aADhC,CAAd,CAGD,CAPD,IAOO,CACLW,eAAe,CACbT,gBAAgB,CAACqE,OAAjB,CAAyBE,YAAzB,CAAwCzE,aAD3B,CAAf,CAGAS,cAAc,CAACP,gBAAgB,CAACqE,OAAjB,CAAyBE,YAAzB,CAAwCzE,aAAzC,CAAd,CACD,CAEDqB,8BAA8B,CAACnB,gBAAgB,CAACqE,OAAjB,CAAyBE,YAA1B,CAA9B,CACD,CACF,CAED,GACEtE,qBAAqB,CAACoE,OAAtB,EACApE,qBAAqB,CAACoE,OAAtB,CAA8BC,WAFhC,CAGE,CACAjD,qBAAqB,CAACpB,qBAAqB,CAACoE,OAAtB,CAA8BC,WAA/B,CAArB,CACD,CAED,GACEnE,uBAAuB,CAACkE,OAAxB,EACAlE,uBAAuB,CAACkE,OAAxB,CAAgCC,WAFlC,CAGE,CACA/C,uBAAuB,CAACpB,uBAAuB,CAACkE,OAAxB,CAAgCC,WAAjC,CAAvB,CACD,CACF,CAvGc,CAuGZ,CAAChF,kBAAD,CAAqBC,KAArB,CAA4B6C,cAA5B,CAvGY,CAAf,CAyGA,GAAMqC,CAAAA,IAAI,CAAGtG,WAAW,CACtB,SACEuG,GADF,CAEEC,UAFF,CAGEC,IAHF,CAIEC,IAJF,CAKEC,eALF,CAMK,CACH,GAAIC,CAAAA,eAAJ,CAAqBC,EAArB,CAEA,GAAIzF,KAAK,GAAK,SAAd,CAAyB,CACvByF,EAAE,CAAG,EAAEL,UAAU,CAAG/B,IAAf,EAAuB,CAA5B,CACD,CAFD,IAEO,CACLoC,EAAE,CAAGH,IAAL,CACD,CAED,GAAIjC,IAAI,GAAK,CAAb,CAAgB,CACdmC,eAAe,CAAG,CAAlB,CACD,CAFD,IAEO,CACLA,eAAe,CAAGD,eAAlB,CACD,CACD,GAAIF,IAAI,GAAK,CAAb,CAAgB,CACdF,GAAG,CAACO,SAAJ,CACErF,eADF,CAEEoF,EAFF,CAGED,eAHF,CAIEJ,UAAU,CAAG/B,IAJf,CAKEpC,YAAY,CAAGd,OAAf,CAAyBkD,IAL3B,EAOD,CARD,IAQO,IAAIgC,IAAI,GAAK,CAAb,CAAgB,CACrBF,GAAG,CAACO,SAAJ,CACErF,eADF,CAEEmF,eAFF,CAGEF,IAHF,CAIEvE,WAAW,CAAGZ,OAAd,CAAwBkD,IAJ1B,CAKE+B,UAAU,CAAG/B,IALf,EAOD,CARM,IAQA,CACL8B,GAAG,CAACO,SAAJ,CACErF,eADF,CAEE,CAFF,CAGE,CAHF,CAIEgC,kBAJF,CAKEE,mBALF,EAOD,CACF,CA9CqB,CA+CtB,CACEF,kBADF,CAEEE,mBAFF,CAGElC,eAHF,CAIEY,YAJF,CAKEF,WALF,CAMEsC,IANF,CAOErD,KAPF,CA/CsB,CAAxB,CA0DAlB,eAAe,CAAC,UAAM,CACpB,GAAM6G,CAAAA,YAAiB,CAAG,GAAIC,CAAAA,KAAJ,EAA1B,CAEAD,YAAY,CAACE,GAAb,CAAmB/F,gBAAnB,CACA6F,YAAY,CAACG,MAAb,CAAsB,UAAY,CAChC,GAAIzF,eAAe,GAAKsF,YAAxB,CAAsC,CACrC,CADD,IACO,CACLrF,kBAAkB,CAACqF,YAAD,CAAlB,CACD,CAED,GAAII,CAAAA,KAAa,CAAG,CAApB,CACA,GAAIC,CAAAA,KAAa,CAAG,CAApB,CAEA,GAAIC,CAAAA,8BAA8B,CAChCN,YAAY,CAACO,aAAb,CAA6BjF,YAD/B,CAEA,GAAIkF,CAAAA,iBAAiB,CACnBR,YAAY,CAACS,YAAb,CAA4BH,8BAD9B,CAGA,GAAII,CAAAA,6BAA6B,CAC/BV,YAAY,CAACS,YAAb,CAA4BrE,oBAD9B,CAEA,GAAIuE,CAAAA,kBAAkB,CACpBX,YAAY,CAACO,aAAb,CAA6BG,6BAD/B,CAGA,GAAIE,CAAAA,+BAA+B,CACjCZ,YAAY,CAACS,YAAb,CAA4BvE,kBAD9B,CAEA,GAAI2E,CAAAA,oBAAoB,CACtBb,YAAY,CAACO,aAAb,CAA6BK,+BAD/B,CAGA;AAEA,GAAIpF,iBAAiB,EAAIqF,oBAAoB,CAAGjF,OAAhD,CAAyD,CACvDW,yBAAyB,CAAC,IAAD,CAAzB,CACAE,0BAA0B,CAAC,IAAD,CAA1B,CAEA,GAAIG,mBAAmB,GAAK+D,kBAA5B,CAAgD,CAC/C,CADD,IACO,CACL9D,sBAAsB,CAAC8D,kBAAD,CAAtB,CACAN,KAAK,CAAGM,kBAAR,CACD,CACD;AACA,GAAIjE,kBAAkB,GAAKN,oBAA3B,CAAiD,CAChD,CADD,IACO,CACLO,qBAAqB,CAACP,oBAAD,CAArB,CACAgE,KAAK,CAAGhE,oBAAR,CACD,CACF,CAfD,IAeO,CACLG,yBAAyB,CAAC,KAAD,CAAzB,CACAE,0BAA0B,CAAC,KAAD,CAA1B,CACA,GAAIC,kBAAkB,GAAK8D,iBAA3B,CAA8C,CAC7C,CADD,IACO,CACL7D,qBAAqB,CAAC6D,iBAAD,CAArB,CACAJ,KAAK,CAAGI,iBAAR,CACD,CACD;AACA,GAAI5D,mBAAmB,GAAKtB,YAA5B,CAA0C,CACzC,CADD,IACO,CACLuB,sBAAsB,CAACvB,YAAD,CAAtB,CACA+E,KAAK,CAAG/E,YAAR,CACD,CACF,CACD;AAEA,GAAI0E,YAAY,CAACS,YAAb,CAA4BT,YAAY,CAACO,aAA7C,CAA4D,CAC1DpD,iBAAiB,CAAC,IAAD,CAAjB,CACD,CAFD,IAEO,CACLA,iBAAiB,CAAC,KAAD,CAAjB,CACD,CAED,GAAIL,SAAS,GAAKsD,KAAlB,CAAyB,CACxB,CADD,IACO,CACLrD,YAAY,CAACqD,KAAD,CAAZ,CACD,CAED,GAAIpD,UAAU,GAAKqD,KAAnB,CAA0B,CACzB,CADD,IACO,CACLpD,aAAa,CAACoD,KAAD,CAAb,CACD,CACF,CAzED,CA0ED,CA9Ec,CA8EZ,CAAClG,gBAAD,CAAmBD,sBAAnB,CA9EY,CAAf,CAgFA;AACA;AACA;AACA;AAOA;AACA;AACA;AACA;AAlXmB,kBAmXJR,WAAW,CAAC,SAACgF,KAAD,0BACtBA,KAAK,CAACoC,eADgB,GAAD,CAnXP,CAmXXC,EAnXW,eAmXXA,EAnXW,CAuXnB,GAAMC,CAAAA,SAAS,CAAGD,EAAlB,CAEA,QAASE,CAAAA,YAAT,CAAsBC,IAAtB,CAAiC,CAC/B,MAAO,IAAIC,CAAAA,OAAJ,CAAY,SAACC,OAAD,CAAUC,CAAV,CAAgB,CACjC,GAAMC,CAAAA,MAAM,CAAG,GAAIC,CAAAA,UAAJ,EAAf,CACAD,MAAM,CAACE,SAAP,CAAmB,iBAAMJ,CAAAA,OAAO,CAACE,MAAM,CAACG,MAAR,CAAb,EAAnB,CACAH,MAAM,CAACI,aAAP,CAAqBR,IAArB,EACD,CAJM,CAAP,CAKD,CAED,GAAMS,CAAAA,iBAAiB,CAAG1I,WAAW,CACnC,SAAC2I,CAAD,CAASC,CAAT,CAAoB,CAClB1D,iBAAiB,CAAC,IAAD,CAAjB,CACA;AACA;AACA,GAAM2D,CAAAA,GAAG,CAAG,GAAIC,CAAAA,IAAJ,EAAZ,CAEA;AACA;AACA,GAAMC,CAAAA,SAAS,CAAGlI,IAAI,CAACmI,MAAL,CAAYH,GAAZ,CAAiB,qBAAjB,CAAlB,CACA,GAAII,CAAAA,QAAQ,CAAG,GAAIC,CAAAA,QAAJ,EAAf,CACA,GAAMC,CAAAA,KAAK,CAAG,GAAIL,CAAAA,IAAJ,EAAd,CAEAG,QAAQ,CAACG,MAAT,CAAgB,IAAhB,WAAyBrB,SAAzB,GAEAkB,QAAQ,CAACG,MAAT,CAAgB,UAAhB,CAA4BT,CAA5B,eAAsCb,EAAtC,SAA2CiB,SAA3C,GAEApI,KAAK,CAAC0I,IAAN,WAAcxD,wBAAd,sBAA2DoD,QAA3D,CAAqE,CACnEK,OAAO,CAAE,CACP,eAAgB,qBADT,CAD0D,CAArE,EAKGC,IALH,CAKQ,SAACC,QAAD,CAAc,CAClB,GAAIA,QAAQ,CAACC,IAAT,CAAcC,OAAd,GAA0B,0BAA9B,CAA0D,CACxDxE,iBAAiB,CAAC,KAAD,CAAjB,CACA,GAAIyE,CAAAA,GAAG,eAAU7B,EAAV,SAAeiB,SAAf,CAAP,CAEA,GAAMU,CAAAA,IAAI,CAAG,CACXG,UAAU,CAAEhB,CADD,CAAb,CAGApH,QAAQ,CAACT,uBAAuB,CAAC0I,IAAD,CAAxB,CAAR,CACApI,WAAW,CAAC,CAAD,CAAX,CACD,CACF,CAhBH,EAiBGwI,KAjBH,CAiBS,SAAUC,KAAV,CAAiB,CACtBC,KAAK,CAAC,kBAAD,CAAL,CACD,CAnBH,EAoBD,CArCkC,CAsCnC,CAAChC,SAAD,CAAYC,YAAZ,CAtCmC,CAArC,CAyCA,GAAMgC,CAAAA,eAAe,CAAGhK,WAAW,CACjC,SAAC2I,CAAD,CAAQC,CAAR,CAAmB,CACjB1D,iBAAiB,CAAC,IAAD,CAAjB,CACA;AACA;AACA,GAAM2D,CAAAA,GAAG,CAAG,GAAIC,CAAAA,IAAJ,EAAZ,CAEA;AACA;AACA,GAAMC,CAAAA,SAAS,CAAGlI,IAAI,CAACmI,MAAL,CAAYH,GAAZ,CAAiB,qBAAjB,CAAlB,CACA,GAAII,CAAAA,QAAQ,CAAG,GAAIC,CAAAA,QAAJ,EAAf,CACA,GAAMC,CAAAA,KAAK,CAAG,GAAIL,CAAAA,IAAJ,EAAd,CAEAG,QAAQ,CAACG,MAAT,CAAgB,IAAhB,WAAyBrB,SAAzB,GAEAkB,QAAQ,CAACG,MAAT,CAAgB,SAAhB,CAA2BT,CAA3B,eAAqCb,EAArC,SAA0CiB,SAA1C,GAEApI,KAAK,CAAC0I,IAAN,WAAcxD,wBAAd,oBAAyDoD,QAAzD,CAAmE,CACjEK,OAAO,CAAE,CACP,eAAgB,qBADT,CADwD,CAAnE,EAKGC,IALH,CAKQ,SAACC,QAAD,CAAc,CAClB,GAAIA,QAAQ,CAACC,IAAT,CAAcC,OAAd,GAA0B,wBAA9B,CAAwD,CACtDxE,iBAAiB,CAAC,KAAD,CAAjB,CACA,GAAIyE,CAAAA,GAAG,eAAU7B,EAAV,SAAeiB,SAAf,CAAP,CACA,GAAMU,CAAAA,IAAI,CAAG,CACXQ,KAAK,CAAErB,CADI,CAAb,CAGApH,QAAQ,CAACV,qBAAqB,CAAC2I,IAAD,CAAtB,CAAR,CACApI,WAAW,CAAC,CAAD,CAAX,CACD,CACF,CAfH,EAgBGwI,KAhBH,CAgBS,SAAUC,KAAV,CAAiB,CACtBC,KAAK,CAAC,kBAAD,CAAL,CACD,CAlBH,EAmBD,CApCgC,CAqCjC,CAAChC,SAAD,CArCiC,CAAnC,CAwCA,GAAMmC,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,CAACC,GAAD,CAAiB,CACnC,GAAI1I,eAAe,EAAIH,cAAc,CAAC4E,OAAtC,CAA+C,CAC7C,GAAMK,CAAAA,GAAG,CAAGjF,cAAc,CAAC4E,OAAf,CAAuBkE,UAAvB,CAAkC,IAAlC,CAAZ,CACA,GAAIC,CAAAA,EAAE,CAAGhI,YAAY,CAAGd,OAAxB,CACA,GAAI+I,CAAAA,+BAA+B,CAAG3G,mBAAmB,CAAG0G,EAA5D,CACA,GAAIE,CAAAA,0BAA0B,CAC5B9G,kBAAkB,CAAG6G,+BADvB,CAGA,GAAInG,mBAAmB,GAAKoG,0BAA5B,CAAwD,CACvD,CADD,IACO,CACLnG,sBAAsB,CAACmG,0BAAD,CAAtB,CACD,CACD,GAAIC,CAAAA,EAAE,CAAGrI,WAAW,CAAGZ,OAAvB,CACA,GAAIkJ,CAAAA,gCAAgC,CAAGhH,kBAAkB,CAAG+G,EAA5D,CACA,GAAIE,CAAAA,0BAA0B,CAC5B/G,mBAAmB,CAAG8G,gCADxB,CAGA,GAAIpG,mBAAmB,GAAKqG,0BAA5B,CAAwD,CACvD,CADD,IACO,CACLpG,sBAAsB,CAACoG,0BAAD,CAAtB,CACD,CAED,GAAIC,CAAAA,MAAM,CAAIlH,kBAAkB,CAAG,CAAtB,CAA2BA,kBAAxC,CACA,GAAImH,CAAAA,MAAM,CAAIjH,mBAAmB,CAAG,CAAvB,CAA4BA,mBAAzC,CAEA,GAAIY,gBAAJ,CAAsB,CACpBjD,cAAc,CAAC4E,OAAf,CAAuB2E,KAAvB,CAA+B1I,WAAW,CAAGZ,OAA7C,CACAD,cAAc,CAAC4E,OAAf,CAAuB4E,MAAvB,CAAgCzI,YAAY,CAAGd,OAA/C,CACD,CAHD,IAGO,CACLD,cAAc,CAAC4E,OAAf,CAAuB2E,KAAvB,CAA+BpH,kBAA/B,CACAnC,cAAc,CAAC4E,OAAf,CAAuB4E,MAAvB,CAAgCnH,mBAAhC,CACD,CAED,GAAIoH,CAAAA,aAAa,CACfzJ,cAAc,CAAC4E,OAAf,CAAuB2E,KAAvB,CAA+B,GAA/B,CAAqCH,0BAA0B,CAAG,GADpE,CAGA,GAAIM,CAAAA,QAAQ,CAAG3I,YAAY,CAAGkI,0BAA9B,CAEA,GAAIU,CAAAA,gBAAgB,CAClB3J,cAAc,CAAC4E,OAAf,CAAuB2E,KAAvB,CAA+B,CAA/B,CAAmCN,0BAA0B,CAAG,CADlE,CAGA;AACA,GAAID,CAAAA,+BAA+B,CACjC3G,mBAAmB,CAAGZ,2BADxB,CAEA,GAAImI,CAAAA,eAAe,CACjBzH,kBAAkB,CAAG6G,+BADvB,CAEA;AACA,GAAIa,CAAAA,8BAA8B,CAChC1H,kBAAkB,CAAGR,kBADvB,CAEA,GAAImI,CAAAA,gBAAgB,CAClBzH,mBAAmB,CAAGwH,8BADxB,CAEA;AAEA,GAAI5G,gBAAJ,CAAsB,CACpB,GAAI8G,CAAAA,EAAE,CAAGlJ,WAAW,CAAGsC,IAAvB,CACA,GAAIgG,CAAAA,gCAAgC,CAAGhH,kBAAkB,CAAG4H,EAA5D,CACA,GAAIC,CAAAA,2BAA2B,CAC7B3H,mBAAmB,CAAG8G,gCADxB,CAGA,GAAIc,CAAAA,GAAG,CAAGb,0BAA0B,CAAGjG,IAAvC,CACA,GAAI+G,CAAAA,+BAA+B,CAAG7H,mBAAmB,CAAG4H,GAA5D,CACA,GAAIE,CAAAA,2BAA2B,CAC7BhI,kBAAkB,CAAG+H,+BADvB,CAGA,GAAIE,CAAAA,GAAG,CAAGnB,0BAA0B,CAAG9F,IAAvC,CACA,GAAIkH,CAAAA,iCAAiC,CAAGlI,kBAAkB,CAAGiI,GAA7D,CACA,GAAIE,CAAAA,4BAA4B,CAC9BjI,mBAAmB,CAAGgI,iCADxB,CAGA,GAAIE,CAAAA,IAAI,CAAGxJ,YAAY,CAAGoC,IAA1B,CACA,GAAIqH,CAAAA,gCAAgC,CAAGnI,mBAAmB,CAAGkI,IAA7D,CACA,GAAIE,CAAAA,4BAA4B,CAC9BtI,kBAAkB,CAAGqI,gCADvB,CAGA,GAAIrI,kBAAkB,CAAGE,mBAAzB,CAA8C,CAC5C,GAAIA,mBAAmB,GAAKF,kBAA5B,CAAgD,CAC9CuI,qBAAqB,sEAAC,mKACpB1F,IAAI,CAACC,GAAD,CAAMgE,0BAAN,CAAkC,CAAlC,CAAqC,CAArC,CAAwC1F,IAAI,CAACF,CAA7C,CAAJ,CADoB,qBAGdwF,GAAG,GAAK,CAHM,2BAIZV,IAJY,CAILnI,cAAc,CAAC4E,OAAf,CAAuB+F,SAAvB,EAJK,uBAKEC,CAAAA,KAAK,CAACzC,IAAD,CALP,QAKV0C,GALU,qCAMIA,CAAAA,GAAG,CAAClE,IAAJ,EANJ,QAMVmE,KANU,oBAQZhL,KAAK,GAAK,SARE,kDASY4G,CAAAA,YAAY,CAACoE,KAAD,CATxB,SASTC,YATS,eAUdrC,eAAe,CAACoC,KAAD,CAAOC,YAAP,CAAf,CAVc,sDAYWrE,CAAAA,YAAY,CAACoE,KAAD,CAZvB,SAYVC,YAZU,eAad3D,iBAAiB,CAAC0D,KAAD,CAAQC,YAAR,CAAjB,CAbc,yFAiBlBC,OAAO,CAACC,GAAR,CAAY,oBAAZ,EAjBkB,qEAAD,GAArB,CAoBD,CArBD,IAqBO,CACLP,qBAAqB,sEAAC,wKACpB1F,IAAI,CAACC,GAAD,CAAMgE,0BAAN,CAAkC,CAAlC,CAAqC1F,IAAI,CAACF,CAA1C,CAA6CE,IAAI,CAACD,CAAlD,CAAJ,CADoB,sBAGduF,GAAG,GAAK,CAHM,4BAIZV,IAJY,CAILnI,cAAc,CAAC4E,OAAf,CAAuB+F,SAAvB,EAJK,wBAKEC,CAAAA,KAAK,CAACzC,IAAD,CALP,QAKV0C,GALU,uCAMIA,CAAAA,GAAG,CAAClE,IAAJ,EANJ,QAMVmE,KANU,qBAOZhL,KAAK,GAAK,SAPE,oDAQY4G,CAAAA,YAAY,CAACoE,KAAD,CARxB,SAQTC,YARS,gBASdrC,eAAe,CAACoC,KAAD,CAAOC,YAAP,CAAf,CATc,wDAWWrE,CAAAA,YAAY,CAACoE,KAAD,CAXvB,SAWVC,YAXU,gBAYd3D,iBAAiB,CAAC0D,KAAD,CAAQC,YAAR,CAAjB,CAZc,6FAgBlBC,OAAO,CAACC,GAAR,CAAY,oBAAZ,EAhBkB,uEAAD,GAArB,CAmBD,CACF,CA3CD,IA2CO,CACL,GAAI5I,mBAAmB,GAAKF,kBAA5B,CAAgD,CAC9CuI,qBAAqB,sEAAC,wKACpB1F,IAAI,CAACC,GAAD,CAAMmE,0BAAN,CAAkC,CAAlC,CAAqC,CAArC,CAAwC7F,IAAI,CAACF,CAA7C,CAAJ,CADoB,sBAIdwF,GAAG,GAAK,CAJM,4BAKZV,IALY,CAKLnI,cAAc,CAAC4E,OAAf,CAAuB+F,SAAvB,EALK,wBAMEC,CAAAA,KAAK,CAACzC,IAAD,CANP,QAMV0C,GANU,uCAOIA,CAAAA,GAAG,CAAClE,IAAJ,EAPJ,QAOVmE,KAPU,qBAQZhL,KAAK,GAAK,SARE,oDASY4G,CAAAA,YAAY,CAACoE,KAAD,CATxB,SASTC,YATS,gBAUdrC,eAAe,CAACoC,KAAD,CAAOC,YAAP,CAAf,CAVc,wDAYWrE,CAAAA,YAAY,CAACoE,KAAD,CAZvB,SAYVC,YAZU,gBAad3D,iBAAiB,CAAC0D,KAAD,CAAQC,YAAR,CAAjB,CAbc,6FAiBlBC,OAAO,CAACC,GAAR,CAAY,oBAAZ,EAjBkB,uEAAD,GAArB,CAoBD,CArBD,IAqBO,CACLP,qBAAqB,sEAAC,wKACpB1F,IAAI,CAACC,GAAD,CAAMmE,0BAAN,CAAkC,CAAlC,CAAqC7F,IAAI,CAACD,CAA1C,CAA6CC,IAAI,CAACF,CAAlD,CAAJ,CADoB,sBAIdwF,GAAG,GAAK,CAJM,4BAKZV,IALY,CAKLnI,cAAc,CAAC4E,OAAf,CAAuB+F,SAAvB,EALK,wBAMEC,CAAAA,KAAK,CAACzC,IAAD,CANP,QAMV0C,GANU,uCAOIA,CAAAA,GAAG,CAAClE,IAAJ,EAPJ,QAOVmE,KAPU,qBAQZhL,KAAK,GAAK,SARE,oDASa4G,CAAAA,YAAY,CAACoE,KAAD,CATzB,SASRC,YATQ,gBAUdrC,eAAe,CAACoC,KAAD,CAAOC,YAAP,CAAf,CAVc,wDAYWrE,CAAAA,YAAY,CAACoE,KAAD,CAZvB,SAYVC,YAZU,gBAad3D,iBAAiB,CAAC0D,KAAD,CAAQC,YAAR,CAAjB,CAbc,6FAiBlBC,OAAO,CAACC,GAAR,CAAY,oBAAZ,EAjBkB,uEAAD,GAArB,CAoBD,CACF,CAEDjL,cAAc,CAAC4E,OAAf,CAAuBsG,KAAvB,CAA6B3B,KAA7B,WAAwC1I,WAAW,CAAGR,aAAtD,OACAL,cAAc,CAAC4E,OAAf,CAAuBsG,KAAvB,CAA6B1B,MAA7B,WACEzI,YAAY,CAAGV,aADjB,OAGD,CAlHD,IAkHO,CACLqK,qBAAqB,sEAAC,wKACpB1F,IAAI,CAACC,GAAD,CAAM,CAAN,CAAS,CAAT,CAAY,CAAZ,CAAe1B,IAAI,CAACF,CAApB,CAAJ,CADoB,sBAIdwF,GAAG,GAAK,CAJM,4BAKZV,IALY,CAKLnI,cAAc,CAAC4E,OAAf,CAAuB+F,SAAvB,EALK,wBAMEC,CAAAA,KAAK,CAACzC,IAAD,CANP,QAMV0C,GANU,uCAOIA,CAAAA,GAAG,CAAClE,IAAJ,EAPJ,QAOVmE,KAPU,qBAQZhL,KAAK,GAAK,SARE,oDASY4G,CAAAA,YAAY,CAACoE,KAAD,CATxB,SASTC,YATS,gBAUVrC,eAAe,CAACoC,KAAD,CAAOC,YAAP,CAAf,CAVU,wDAYWrE,CAAAA,YAAY,CAACoE,KAAD,CAZvB,SAYVC,YAZU,gBAad3D,iBAAiB,CAAC0D,KAAD,CAAQC,YAAR,CAAjB,CAbc,6FAiBlBC,OAAO,CAACC,GAAR,CAAY,oBAAZ,EAjBkB,uEAAD,GAArB,CAqBA,GAAIhK,iBAAiB,EAAIc,sBAAzB,CAAiD,CAC/C/B,cAAc,CAAC4E,OAAf,CAAuBsG,KAAvB,CAA6B3B,KAA7B,WAAwC5H,kBAAxC,OACA3B,cAAc,CAAC4E,OAAf,CAAuBsG,KAAvB,CAA6B1B,MAA7B,WAAyCM,gBAAzC,OACD,CAHD,IAGO,CACL9J,cAAc,CAAC4E,OAAf,CAAuBsG,KAAvB,CAA6B3B,KAA7B,WAAwCK,eAAxC,OACA5J,cAAc,CAAC4E,OAAf,CAAuBsG,KAAvB,CAA6B1B,MAA7B,WAAyC/H,2BAAzC,OACD,CACF,CACF,CACF,CAtMD,CAwMA7C,eAAe,CAAC,UAAM,CACpBgK,WAAW,CAAC,CAAD,CAAX,CACD,CAFc,CAEZ,CACDzI,eADC,CAED8C,gBAFC,CAGDd,kBAHC,CAIDE,mBAJC,CAKDN,sBALC,CAMDhB,YANC,CAODwC,IAPC,CAQDJ,IARC,CAFY,CAAf,CAaA,GAAMgI,CAAAA,IAAI,CAAG,QAAPA,CAAAA,IAAO,EAAM,CACjBvC,WAAW,CAAC,CAAD,CAAX,CACD,CAFD,CAIA,mBACE,2BACGjJ,sBAAsB,cACrB,MAAC,aAAD,EACE,SAAS,CAAE2E,eAAe,CAAG,kBAAH,CAAwB,kBADpD,CAEE,KAAK,CAAE,CACLJ,OAAO,CAAE,KADJ,CAELsF,MAAM,CAAE,OAFH,CAGL4B,QAAQ,CAAE,OAHL,CAILC,MAAM,CAAE,GAJH,CAKLC,MAAM,CAAE,SALH,CAMLC,QAAQ,CAAE,QANL,CAFT,WAWG5H,cAAc,cACb,wCACE,KAAC,IAAD,EACE,SAAS,KADX,CAEE,KAAK,CAAE,CACL6H,eAAe,CAAElH,eAAe,CAC5B,qBAD4B,CAE5B,wBAHC,CAIL8G,QAAQ,CAAE,OAJL,CAKLK,GAAG,CAAE,KALA,CAMLlC,KAAK,CAAE,MANF,CAOLC,MAAM,CAAE,MAPH,CAQL6B,MAAM,CAAE,EARH,CAFT,EADF,CAaW,GAbX,GADa,CAgBX,IA3BN,cA6BE,KAAC,QAAD,CAAU,GAAV,EAAc,GAAG,CAAE3G,aAAnB,CAAkC,KAAK,CAAEb,SAAzC,uBACE,MAAC,aAAD,EACE,GAAG,CAAEc,qBADP,CAEE,SAAS,CACP3F,WAAW,EAAID,WAAf,CACIuF,eAAe,CACb,+CADa,CAEb,kDAHN,CAIIA,eAAe,CACf,8DADe,CAEf,iEATR,CAWE,KAAK,CAAE,CACLJ,OAAO,CAAE,KADJ,CAELsF,MAAM,CAAE,OAFH,CAGL+B,QAAQ,CAAE,QAHL,CAXT,wBAiBE,MAAC,IAAD,EACE,SAAS,KADX,CAEE,KAAK,CAAE,CACLrH,OAAO,CAAE,KADJ,CAELwH,MAAM,CACJ5L,KAAK,GAAK,SAAV,CACI,QADJ,CAEI6C,cAAc,CACd,MADc,CAEd,MAPD,CAQLgJ,MAAM,CAAE,MARH,CASLpC,KAAK,OATA,CAULC,MAAM,CAAE,KAVH,CAWL4B,QAAQ,CAAE,UAXL,CAYLQ,OAAO,CAAE,MAZJ,CAaLC,cAAc,CAAE,QAbX,CAcLC,UAAU,CAAE,QAdP,CAeLC,YAAY,CAAE,QAfT,CAgBLV,MAAM,CAAE,CAhBH,CAiBLW,SAAS,CAAE,QAjBN,CAFT,wBAsBE,KAAC,IAAD,EACE,IAAI,KADN,CAEE,EAAE,CAAE,CAFN,CAGE,KAAK,CAAE,CACL9H,OAAO,CAAE,KADJ,CAELsF,MAAM,CAAE,KAFH,CAGLmC,MAAM,CAAE,MAHH,CAILC,OAAO,CAAE,MAJJ,CAKLE,UAAU,CAAE,QALP,CAHT,EAtBF,cAkCE,KAAC,IAAD,EACE,IAAI,KADN,CAEE,EAAE,CAAE,EAFN,CAGE,KAAK,CAAE,CACL5H,OAAO,CAAE,KADJ,CAELsF,MAAM,CAAE,KAFH,CAGLmC,MAAM,CAAE,MAHH,CAILC,OAAO,CAAE,MAJJ,CAKLE,UAAU,CAAE,QALP,CAHT,UAWGrI,eAAe,cACd,KAAC,SAAD,EACE,OAAO,CAAE0H,IADX,CAEE,SAAS,CACP7G,eAAe,CACX,mFADW,CAEX,oFALR,CAOE,KAAK,CAAE,CACLqH,MAAM,CAAE,MADH,CAGLM,QAAQ,CAAEhL,iBAAiB,CAAG,OAAH,CAAa,OAHnC,CAPT,EADc,CAcZ,IAzBN,EAlCF,cA8DE,KAAC,IAAD,EACE,IAAI,KADN,CAEE,EAAE,CAAE,CAFN,CAGE,KAAK,CAAE,CACLiD,OAAO,CAAE,KADJ,CAELsF,MAAM,CAAE,KAFH,CAGLmC,MAAM,CAAE,MAHH,CAILC,OAAO,CAAE,MAJJ,CAKLE,UAAU,CAAE,QALP,CAHT,EA9DF,GAjBF,cA2FE,KAAC,IAAD,EAAM,SAAS,KAAf,CAAgB,KAAK,CAAE,CAAEvC,KAAK,CAAE,MAAT,CAAvB,uBACE,eACE,GAAG,CAAEvJ,cADP,CAEE,KAAK,CAAE,CACLkE,OAAO,CAAE,KADJ,CAELyH,MAAM,CAAE,MAFH,CAILN,MAAM,CAAE,CAJH,CAFT,EADF,EA3FF,GADF,EA7BF,GADqB,CAwInB,IAzIN,cA2IE,KAAC,IAAD,EACE,SAAS,KADX,CAEE,KAAK,CAAE,CAAE7B,MAAM,CAAE,MAAV,CAAkB4B,QAAQ,CAAE,OAA5B,CAAqCK,GAAG,CAAE,QAA1C,CAFT,uBAIE,MAAC,IAAD,EACE,IAAI,KADN,CAEE,EAAE,CAAE,EAFN,CAGE,KAAK,CAAE,CACLvH,OAAO,CAAE,KADJ,CAHT,wBAOE,KAAC,IAAD,EACE,IAAI,KADN,CAEE,GAAG,CAAE5D,uBAFP,CAGE,EAAE,CAAE,CAHN,CAIE,KAAK,CAAE,CACL4D,OAAO,CAAE,KADJ,CAJT,EAPF,cAgBE,KAAC,IAAD,EACE,IAAI,KADN,CAEE,GAAG,CAAEtD,oBAFP,CAGE,EAAE,CAAE,CAHN,CAIE,KAAK,CAAE,CACLsD,OAAO,CAAE,KADJ,CAJT,EAhBF,cAyBE,KAAC,IAAD,EACE,IAAI,KADN,CAEE,GAAG,CAAE3D,gBAFP,CAGE,EAAE,CAAE,EAHN,CAIE,KAAK,CAAE,CAAEiJ,MAAM,CAAE,KAAV,CAJT,EAzBF,cAgCE,KAAC,IAAD,EACE,IAAI,KADN,CAEE,GAAG,CAAEhJ,qBAFP,CAGE,EAAE,CAAE,EAHN,CAIE,KAAK,CAAE,CAAE0D,OAAO,CAAE,KAAX,CAAkBqF,KAAK,CAAE,MAAzB,CAJT,EAhCF,cAuCE,KAAC,IAAD,EACE,IAAI,KADN,CAEE,GAAG,CAAE9I,yBAFP,CAGE,EAAE,CAAE,EAHN,CAIE,KAAK,CAAE,CAAEyD,OAAO,CAAE,KAAX,CAAkBqF,KAAK,CAAE,MAAzB,CAJT,EAvCF,cA8CE,KAAC,IAAD,EACE,IAAI,KADN,CAEE,GAAG,CAAE7I,uBAFP,CAGE,KAAK,CAAE,CAAEwD,OAAO,CAAE,KAAX,CAAkBqF,KAAK,CAAE,MAAzB,CAHT,EA9CF,cAoDE,KAAC,IAAD,EACE,IAAI,KADN,CAEE,GAAG,CAAE5I,sBAFP,CAGE,EAAE,CAAE,EAHN,CAIE,KAAK,CAAE,CAAE6I,MAAM,CAAE,MAAV,CAJT,EApDF,GAJF,EA3IF,GADF,CA8MD,CAED,MAAO,IAAM0C,CAAAA,gBAAgB,cAAG1N,KAAK,CAAC2N,IAAN,CAAWzM,iBAAX,CAAzB","sourcesContent":["import React, {\r\n  useRef,\r\n  useEffect,\r\n  useCallback,\r\n  useState,\r\n  useLayoutEffect,\r\n} from \"react\";\r\nimport ControlPointDuplicateIcon from \"@mui/icons-material/ControlPointDuplicate\";\r\nimport { Grid, Switch, DialogContent } from \"@material-ui/core\";\r\nimport { matchPc, matchTablet, matchMobile } from \"../DetectDevice\";\r\nimport { useSpring, animated } from \"react-spring\";\r\nimport { OptionsSlider } from \"../profile/OptionsSlider\";\r\nimport { RootStateOrAny, useSelector, useDispatch } from \"react-redux\";\r\nimport Masonry from \"@mui/lab/Masonry\";\r\nimport Axios from \"axios\";\r\nimport CheckIcon from \"@mui/icons-material/Check\";\r\nimport date from \"date-and-time\";\r\nimport { UserInfoUpdatePROFILE } from \"../log/actions/UserdataAction\";\r\nimport { UserInfoUpdateBILLBOARD } from \"../log/actions/UserdataAction\";\r\n\r\nfunction UploadProfilePicx({\r\n  showModalUploadProfile,\r\n  cropimageProfile,\r\n  profileimageSource,\r\n  typex,\r\n  uploadClose,\r\n}: any): JSX.Element {\r\n  const cropCanvasRefx: any = useRef(null);\r\n\r\n  var quality: number = 1;\r\n\r\n  if (typex === \"Profile\") {\r\n    quality = 1.1;\r\n  } else {\r\n    quality = 1.5;\r\n  }\r\n\r\n  const dispatch = useDispatch();\r\n\r\n  const [CropImageHolder, setCropImageHolder] = useState<any>(null);\r\n\r\n  const hdcanvasvalue = 1;\r\n\r\n  const getpreviewFixedWidthRef = useRef<HTMLDivElement>(null);\r\n\r\n  const getCropHeightRef: any = useRef<HTMLDivElement>(null);\r\n\r\n  const getCropWidthMobileRef: any = useRef<HTMLDivElement>(null);\r\n\r\n  const getCropWidthMobileReflong: any = useRef<HTMLDivElement>(null);\r\n\r\n  const getCropWidthMobileRefHD: any = useRef<HTMLDivElement>(null);\r\n\r\n  const getCropHeightRefsingle: any = useRef<HTMLDivElement>(null);\r\n\r\n  const getFixedCropWidthRef: any = useRef<HTMLDivElement>(null);\r\n\r\n  const [myCropWidth, setmyCropWidth] = useState(0);\r\n\r\n  const [myCropHeight, setmyCropHeight] = useState(0);\r\n\r\n  const [matchTabletMobile, setmatchTabletMobile] = useState<boolean>(false);\r\n\r\n  const [getpreviewFixedWidth, setgetpreviewFixedWidth] = useState(0);\r\n\r\n  const [screenH, setscreenH] = useState(0);\r\n\r\n  const [waitONLOAD, setwaitONLOAD] = useState<boolean>(true);\r\n\r\n  const [getCropHeightRealImageRatio, setgetCropHeightRealImageRatio] =\r\n    useState(0);\r\n\r\n  const [getCropWidthMobile, setgetCropWidthMobile] = useState(0);\r\n\r\n  const [getCropWidthMobileHD, setgetCropWidthMobileHD] = useState(0);\r\n\r\n  const [widelongboxmobileimage, setwidelongboxmobileimage] =\r\n    useState<boolean>(false);\r\n\r\n  const [widelongboxmobileimagex, setwidelongboxmobileimagex] =\r\n    useState<boolean>(false);\r\n\r\n  const [OriginalImageWidth, setOriginalImageWidth] = useState<number>(0);\r\n  const [OriginalImageHeight, setOriginalImageHeight] = useState<number>(0);\r\n\r\n  const [cropwidth, setcropwidth] = useState(0);\r\n\r\n  const [cropheight, setcropheight] = useState(0);\r\n\r\n  const [WideImageCheck, setWideImageCheck] = useState<boolean>(false);\r\n\r\n  const [SourceWidthForCropX, setSourceWidthForCropX] = useState(0);\r\n\r\n  const [SourceWidthForCropY, setSourceWidthForCropY] = useState(0);\r\n\r\n  const [BoxCropActivated, setBoxCropActivated] = useState<boolean>(true);\r\n\r\n  const [zoom, setzoom] = useState<any>(1);\r\n\r\n  const [crop, setcrop] = useState<any>({ x: 0, y: 0 });\r\n  const [optionscropshow, setoptionscropshow] = useState<boolean>(true);\r\n\r\n  const [superLoadFadex, setsuperLoadFadex] = useState<boolean>(false);\r\n\r\n  //\r\n  //\r\n  //\r\n  //USE SLIDE DOWN ANIMATION FROM REACT SPRING\r\n  const animation = useSpring({\r\n    config: {\r\n      duration: 600,\r\n    },\r\n    opacity: showModalUploadProfile ? 1 : 0,\r\n    transform: showModalUploadProfile ? `translateY(0%)` : `translateY(-100%)`,\r\n    padding: \"0px\",\r\n  });\r\n\r\n  ///\r\n  ///\r\n  ///\r\n  /// GET DARKMODE FROM REDUX STORE\r\n  interface RootStateGlobalReducer {\r\n    GlobalReducer: {\r\n      darkmode: boolean;\r\n    };\r\n  }\r\n  const { darkmode } = useSelector((state: RootStateGlobalReducer) => ({\r\n    ...state.GlobalReducer,\r\n  }));\r\n\r\n  const darkmodeReducer = darkmode;\r\n\r\n  const { REACT_APP_SUPERSTARZ_URL } = process.env;\r\n  const cropscrollRef = useRef<any>(null);\r\n  const cropTOPLEVELScrollRef: any = useRef(null);\r\n\r\n  ///\r\n  ///\r\n  ///\r\n  ///GET DIMENSIONS AND  SCREEN HEIGHT\r\n  useLayoutEffect(() => {\r\n    if (matchTablet || matchMobile) {\r\n      setmatchTabletMobile(true);\r\n    }\r\n    if (\r\n      getpreviewFixedWidthRef.current &&\r\n      getpreviewFixedWidthRef.current.clientWidth\r\n    ) {\r\n      setgetpreviewFixedWidth(getpreviewFixedWidthRef.current.clientWidth);\r\n    }\r\n\r\n    if (\r\n      getCropHeightRefsingle.current &&\r\n      getCropHeightRefsingle.current.clientHeight\r\n    ) {\r\n      setscreenH(getCropHeightRefsingle.current.clientHeight);\r\n    }\r\n\r\n    if (profileimageSource.length === 1) {\r\n      setwaitONLOAD(false);\r\n      if (\r\n        (getCropHeightRefsingle.current &&\r\n          getCropHeightRefsingle.current.clientHeight) ||\r\n        getCropHeightRef.current\r\n      ) {\r\n        if (matchTabletMobile) {\r\n          setmyCropHeight(\r\n            getCropWidthMobileRef.current.clientWidth * hdcanvasvalue\r\n          );\r\n          setmyCropWidth(\r\n            getCropWidthMobileRef.current.clientWidth * hdcanvasvalue\r\n          );\r\n        } else {\r\n          if (typex === \"Profile\") {\r\n            setmyCropWidth(\r\n              getCropHeightRefsingle.current.clientHeight * hdcanvasvalue\r\n            );\r\n\r\n            setmyCropHeight(\r\n              getCropHeightRefsingle.current.clientHeight * hdcanvasvalue\r\n            );\r\n          } else {\r\n            if (WideImageCheck) {\r\n              setmyCropWidth(\r\n                getCropHeightRefsingle.current.clientHeight * hdcanvasvalue +\r\n                  getCropHeightRefsingle.current.clientHeight * 0\r\n              );\r\n\r\n              setmyCropHeight(\r\n                getCropHeightRefsingle.current.clientHeight * hdcanvasvalue -\r\n                  getCropHeightRefsingle.current.clientHeight * 0.22\r\n              );\r\n            } else {\r\n              setmyCropWidth(\r\n                getCropHeightRefsingle.current.clientHeight * hdcanvasvalue +\r\n                  getCropHeightRefsingle.current.clientHeight * 0.2\r\n              );\r\n\r\n              setmyCropHeight(\r\n                getCropHeightRefsingle.current.clientHeight * hdcanvasvalue -\r\n                  getCropHeightRefsingle.current.clientHeight * 0.32\r\n              );\r\n            }\r\n          }\r\n        }\r\n\r\n        setgetCropHeightRealImageRatio(\r\n          getCropHeightRefsingle.current.clientHeight * hdcanvasvalue\r\n        );\r\n      }\r\n    } else {\r\n      if (getCropHeightRef.current && getCropHeightRef.current.clientHeight) {\r\n        if (matchTabletMobile) {\r\n          setmyCropHeight(\r\n            getCropWidthMobileRef.current.clientWidth * hdcanvasvalue\r\n          );\r\n          setmyCropWidth(\r\n            getCropWidthMobileRef.current.clientWidth * hdcanvasvalue\r\n          );\r\n        } else {\r\n          setmyCropHeight(\r\n            getCropHeightRef.current.clientHeight * hdcanvasvalue\r\n          );\r\n          setmyCropWidth(getCropHeightRef.current.clientHeight * hdcanvasvalue);\r\n        }\r\n\r\n        setgetCropHeightRealImageRatio(getCropHeightRef.current.clientHeight);\r\n      }\r\n    }\r\n\r\n    if (\r\n      getCropWidthMobileRef.current &&\r\n      getCropWidthMobileRef.current.clientWidth\r\n    ) {\r\n      setgetCropWidthMobile(getCropWidthMobileRef.current.clientWidth);\r\n    }\r\n\r\n    if (\r\n      getCropWidthMobileRefHD.current &&\r\n      getCropWidthMobileRefHD.current.clientWidth\r\n    ) {\r\n      setgetCropWidthMobileHD(getCropWidthMobileRefHD.current.clientWidth);\r\n    }\r\n  }, [profileimageSource, typex, WideImageCheck]);\r\n\r\n  const draw = useCallback(\r\n    (\r\n      ctx: any,\r\n      dimensions: any,\r\n      type: number,\r\n      axis: number,\r\n      allowZoomedAxis: number\r\n    ) => {\r\n      var allowZoomedaxis, aa;\r\n\r\n      if (typex === \"Profile\") {\r\n        aa = -(dimensions * zoom) / 4;\r\n      } else {\r\n        aa = axis;\r\n      }\r\n\r\n      if (zoom === 1) {\r\n        allowZoomedaxis = 0;\r\n      } else {\r\n        allowZoomedaxis = allowZoomedAxis;\r\n      }\r\n      if (type === 1) {\r\n        ctx.drawImage(\r\n          CropImageHolder,\r\n          aa,\r\n          allowZoomedaxis,\r\n          dimensions * zoom,\r\n          myCropHeight * quality * zoom\r\n        );\r\n      } else if (type === 2) {\r\n        ctx.drawImage(\r\n          CropImageHolder,\r\n          allowZoomedaxis,\r\n          axis,\r\n          myCropWidth * quality * zoom,\r\n          dimensions * zoom\r\n        );\r\n      } else {\r\n        ctx.drawImage(\r\n          CropImageHolder,\r\n          0,\r\n          0,\r\n          OriginalImageWidth,\r\n          OriginalImageHeight\r\n        );\r\n      }\r\n    },\r\n    [\r\n      OriginalImageWidth,\r\n      OriginalImageHeight,\r\n      CropImageHolder,\r\n      myCropHeight,\r\n      myCropWidth,\r\n      zoom,\r\n      typex,\r\n    ]\r\n  );\r\n\r\n  useLayoutEffect(() => {\r\n    const Newcropimage: any = new Image();\r\n\r\n    Newcropimage.src = cropimageProfile;\r\n    Newcropimage.onload = function () {\r\n      if (CropImageHolder === Newcropimage) {\r\n      } else {\r\n        setCropImageHolder(Newcropimage);\r\n      }\r\n\r\n      var data1: number = 0;\r\n      var data2: number = 0;\r\n\r\n      var RatioNewcropimageNaturalHeight =\r\n        Newcropimage.naturalHeight / myCropHeight;\r\n      var NewcropimageWidth =\r\n        Newcropimage.naturalWidth / RatioNewcropimageNaturalHeight;\r\n\r\n      var RatioNewcropimageNaturalWidth =\r\n        Newcropimage.naturalWidth / getCropWidthMobileHD;\r\n      var NewcropimageHeight =\r\n        Newcropimage.naturalHeight / RatioNewcropimageNaturalWidth;\r\n\r\n      var RatioNewcropimageNaturalWidthxx =\r\n        Newcropimage.naturalWidth / getCropWidthMobile;\r\n      var NewcropimageHeightxx =\r\n        Newcropimage.naturalHeight / RatioNewcropimageNaturalWidthxx;\r\n\r\n      ////// CANVAS  CROPPER DIMENSIONS  PC MOBILE(canvaswidth)\r\n\r\n      if (matchTabletMobile && NewcropimageHeightxx < screenH) {\r\n        setwidelongboxmobileimage(true);\r\n        setwidelongboxmobileimagex(true);\r\n\r\n        if (OriginalImageHeight === NewcropimageHeight) {\r\n        } else {\r\n          setOriginalImageHeight(NewcropimageHeight);\r\n          data2 = NewcropimageHeight;\r\n        }\r\n        //\r\n        if (OriginalImageWidth === getCropWidthMobileHD) {\r\n        } else {\r\n          setOriginalImageWidth(getCropWidthMobileHD);\r\n          data1 = getCropWidthMobileHD;\r\n        }\r\n      } else {\r\n        setwidelongboxmobileimage(false);\r\n        setwidelongboxmobileimagex(false);\r\n        if (OriginalImageWidth === NewcropimageWidth) {\r\n        } else {\r\n          setOriginalImageWidth(NewcropimageWidth);\r\n          data1 = NewcropimageWidth;\r\n        }\r\n        ///\r\n        if (OriginalImageHeight === myCropHeight) {\r\n        } else {\r\n          setOriginalImageHeight(myCropHeight);\r\n          data2 = myCropHeight;\r\n        }\r\n      }\r\n      ////// CANVAS  CROPPER DIMENSIONS  PC MOBILE(canvaswidth)\r\n\r\n      if (Newcropimage.naturalWidth > Newcropimage.naturalHeight) {\r\n        setWideImageCheck(true);\r\n      } else {\r\n        setWideImageCheck(false);\r\n      }\r\n\r\n      if (cropwidth === data1) {\r\n      } else {\r\n        setcropwidth(data1);\r\n      }\r\n\r\n      if (cropheight === data2) {\r\n      } else {\r\n        setcropheight(data2);\r\n      }\r\n    };\r\n  }, [cropimageProfile, showModalUploadProfile]);\r\n\r\n  ///\r\n  ///\r\n  ///\r\n  /// INTERFACE/TYPES FOR SCREENHEIGHT AND DARKMODE\r\n  interface RootUserdataReducer {\r\n    UserdataReducer: {\r\n      id: number;\r\n    };\r\n  }\r\n\r\n  ///\r\n  ///\r\n  ///\r\n  /// GET SCREENHEIGHT FROM REDUX STORE\r\n  const { id } = useSelector((state: RootUserdataReducer) => ({\r\n    ...state.UserdataReducer,\r\n  }));\r\n\r\n  const idReducer = id;\r\n\r\n  function blobToBase64(blob: any) {\r\n    return new Promise((resolve, _) => {\r\n      const reader = new FileReader();\r\n      reader.onloadend = () => resolve(reader.result);\r\n      reader.readAsDataURL(blob);\r\n    });\r\n  }\r\n\r\n  const postbillboardData = useCallback(\r\n    (a: any, b: any) => {\r\n      setsuperLoadFadex(true);\r\n      // Creating object of current date and time\r\n      // by using Date()\r\n      const now = new Date();\r\n\r\n      // Formatting the date and time\r\n      // by using date.format() method\r\n      const datevalue = date.format(now, \"YYYY_MM_DD_HH_mm_ss\");\r\n      let formData = new FormData();\r\n      const datev = new Date();\r\n\r\n      formData.append(\"id\", `${idReducer}`);\r\n\r\n      formData.append(\"finalxxy\", a, `blob${id}${datevalue}`);\r\n\r\n      Axios.post(`${REACT_APP_SUPERSTARZ_URL}/billboard_upload`, formData, {\r\n        headers: {\r\n          \"Content-Type\": \"multipart/form-data\",\r\n        },\r\n      })\r\n        .then((response) => {\r\n          if (response.data.message === \"billboard image uploaded\") {\r\n            setsuperLoadFadex(false);\r\n            var ffz = `blob${id}${datevalue}`;\r\n\r\n            const data = {\r\n              billboard1: b,\r\n            };\r\n            dispatch(UserInfoUpdateBILLBOARD(data));\r\n            uploadClose(3);\r\n          }\r\n        })\r\n        .catch(function (error) {\r\n          alert(\"caption erroerrr\");\r\n        });\r\n    },\r\n    [idReducer, blobToBase64]\r\n  );\r\n\r\n  const postProfiledata = useCallback(\r\n    (a: any,b: any) => {\r\n      setsuperLoadFadex(true);\r\n      // Creating object of current date and time\r\n      // by using Date()\r\n      const now = new Date();\r\n\r\n      // Formatting the date and time\r\n      // by using date.format() method\r\n      const datevalue = date.format(now, \"YYYY_MM_DD_HH_mm_ss\");\r\n      let formData = new FormData();\r\n      const datev = new Date();\r\n\r\n      formData.append(\"id\", `${idReducer}`);\r\n\r\n      formData.append(\"finalxx\", a, `blob${id}${datevalue}`);\r\n\r\n      Axios.post(`${REACT_APP_SUPERSTARZ_URL}/profile_upload`, formData, {\r\n        headers: {\r\n          \"Content-Type\": \"multipart/form-data\",\r\n        },\r\n      })\r\n        .then((response) => {\r\n          if (response.data.message === \"profile image uploaded\") {\r\n            setsuperLoadFadex(false);\r\n            var ffz = `blob${id}${datevalue}`;\r\n            const data = {\r\n              image: b,\r\n            };\r\n            dispatch(UserInfoUpdatePROFILE(data));\r\n            uploadClose(4);\r\n          }\r\n        })\r\n        .catch(function (error) {\r\n          alert(\"caption erroerrr\");\r\n        });\r\n    },\r\n    [idReducer]\r\n  );\r\n\r\n  const drawcropper = (upl: number) => {\r\n    if (CropImageHolder && cropCanvasRefx.current) {\r\n      const ctx = cropCanvasRefx.current.getContext(\"2d\");\r\n      var nn = myCropHeight * quality;\r\n      var RatiofromOriginalandfixedHeight = OriginalImageHeight / nn;\r\n      var NewBoxRatioWidth_WIDEIMAGE =\r\n        OriginalImageWidth / RatiofromOriginalandfixedHeight;\r\n\r\n      if (SourceWidthForCropX === NewBoxRatioWidth_WIDEIMAGE) {\r\n      } else {\r\n        setSourceWidthForCropX(NewBoxRatioWidth_WIDEIMAGE);\r\n      }\r\n      var bb = myCropWidth * quality;\r\n      var RatiofromOriginalandfixedHeightx = OriginalImageWidth / bb;\r\n      var NewBoxRatioWidth_LONGIMAGE =\r\n        OriginalImageHeight / RatiofromOriginalandfixedHeightx;\r\n\r\n      if (SourceWidthForCropY === NewBoxRatioWidth_LONGIMAGE) {\r\n      } else {\r\n        setSourceWidthForCropY(NewBoxRatioWidth_LONGIMAGE);\r\n      }\r\n\r\n      var ratioh = (OriginalImageWidth * 3) / OriginalImageWidth;\r\n      var ratiow = (OriginalImageHeight * 3) / OriginalImageHeight;\r\n\r\n      if (BoxCropActivated) {\r\n        cropCanvasRefx.current.width = myCropWidth * quality;\r\n        cropCanvasRefx.current.height = myCropHeight * quality;\r\n      } else {\r\n        cropCanvasRefx.current.width = OriginalImageWidth;\r\n        cropCanvasRefx.current.height = OriginalImageHeight;\r\n      }\r\n\r\n      var centerpreview =\r\n        cropCanvasRefx.current.width / 1.5 - NewBoxRatioWidth_LONGIMAGE / 1.5;\r\n\r\n      var xtraZoom = myCropHeight / NewBoxRatioWidth_WIDEIMAGE;\r\n\r\n      var centerCropCanvas =\r\n        cropCanvasRefx.current.width / 2 - NewBoxRatioWidth_WIDEIMAGE / 2;\r\n\r\n      //////////////////////////CSS CALCULATION MOBILE PC\r\n      var RatiofromOriginalandfixedHeight =\r\n        OriginalImageHeight / getCropHeightRealImageRatio;\r\n      var newcropCSSWidth =\r\n        OriginalImageWidth / RatiofromOriginalandfixedHeight;\r\n      ///\r\n      var RatiofromOriginalandfixedWidth =\r\n        OriginalImageWidth / getCropWidthMobile;\r\n      var newcropCSSHeight =\r\n        OriginalImageHeight / RatiofromOriginalandfixedWidth;\r\n      //////////////////////////CSS CALCULATION MOBILE PC\r\n\r\n      if (BoxCropActivated) {\r\n        var xx = myCropWidth * zoom;\r\n        var RatiofromOriginalandfixedHeightx = OriginalImageWidth / xx;\r\n        var NewBoxRatioWidth_LONGIMAGEx =\r\n          OriginalImageHeight / RatiofromOriginalandfixedHeightx;\r\n\r\n        var xxx = NewBoxRatioWidth_LONGIMAGE * zoom;\r\n        var RatiofromOriginalandfixedWidthx = OriginalImageHeight / xxx;\r\n        var NewBoxRatioWidth_WIDEIMAGEx =\r\n          OriginalImageWidth / RatiofromOriginalandfixedWidthx;\r\n\r\n        var xx2 = NewBoxRatioWidth_WIDEIMAGE * zoom;\r\n        var RatiofromOriginalandfixedHeightx2 = OriginalImageWidth / xx2;\r\n        var NewBoxRatioWidth_LONGIMAGEx2 =\r\n          OriginalImageHeight / RatiofromOriginalandfixedHeightx2;\r\n\r\n        var xxx2 = myCropHeight * zoom;\r\n        var RatiofromOriginalandfixedWidthx2 = OriginalImageHeight / xxx2;\r\n        var NewBoxRatioWidth_WIDEIMAGEx2 =\r\n          OriginalImageWidth / RatiofromOriginalandfixedWidthx2;\r\n\r\n        if (OriginalImageWidth > OriginalImageHeight) {\r\n          if (OriginalImageHeight === OriginalImageWidth) {\r\n            requestAnimationFrame(async () => {\r\n              draw(ctx, NewBoxRatioWidth_WIDEIMAGE, 1, 0, crop.x);\r\n              try {\r\n                if (upl === 1) {\r\n                  var data = cropCanvasRefx.current.toDataURL();\r\n                  const res = await fetch(data);\r\n                  const datax = await res.blob();\r\n\r\n                  if (typex === \"Profile\") {\r\n                     var base64String = await blobToBase64(datax);\r\n                    postProfiledata(datax,base64String);\r\n                  } else {\r\n                    var base64String = await blobToBase64(datax);\r\n                    postbillboardData(datax, base64String);\r\n                  }\r\n                }\r\n              } catch {\r\n                console.log(\"upload profile pic\");\r\n              }\r\n            });\r\n          } else {\r\n            requestAnimationFrame(async () => {\r\n              draw(ctx, NewBoxRatioWidth_WIDEIMAGE, 1, crop.x, crop.y);\r\n              try {\r\n                if (upl === 1) {\r\n                  var data = cropCanvasRefx.current.toDataURL();\r\n                  const res = await fetch(data);\r\n                  const datax = await res.blob();\r\n                  if (typex === \"Profile\") {\r\n                     var base64String = await blobToBase64(datax);\r\n                    postProfiledata(datax,base64String);\r\n                  } else {\r\n                    var base64String = await blobToBase64(datax);\r\n                    postbillboardData(datax, base64String);\r\n                  }\r\n                }\r\n              } catch {\r\n                console.log(\"upload profile pic\");\r\n              }\r\n            });\r\n          }\r\n        } else {\r\n          if (OriginalImageHeight === OriginalImageWidth) {\r\n            requestAnimationFrame(async () => {\r\n              draw(ctx, NewBoxRatioWidth_LONGIMAGE, 2, 0, crop.x);\r\n\r\n              try {\r\n                if (upl === 1) {\r\n                  var data = cropCanvasRefx.current.toDataURL();\r\n                  const res = await fetch(data);\r\n                  const datax = await res.blob();\r\n                  if (typex === \"Profile\") {\r\n                     var base64String = await blobToBase64(datax);\r\n                    postProfiledata(datax,base64String);\r\n                  } else {\r\n                    var base64String = await blobToBase64(datax);\r\n                    postbillboardData(datax, base64String);\r\n                  }\r\n                }\r\n              } catch {\r\n                console.log(\"upload profile pic\");\r\n              }\r\n            });\r\n          } else {\r\n            requestAnimationFrame(async () => {\r\n              draw(ctx, NewBoxRatioWidth_LONGIMAGE, 2, crop.y, crop.x);\r\n\r\n              try {\r\n                if (upl === 1) {\r\n                  var data = cropCanvasRefx.current.toDataURL();\r\n                  const res = await fetch(data);\r\n                  const datax = await res.blob();\r\n                  if (typex === \"Profile\") {\r\n                      var base64String = await blobToBase64(datax);\r\n                    postProfiledata(datax,base64String);\r\n                  } else {\r\n                    var base64String = await blobToBase64(datax);\r\n                    postbillboardData(datax, base64String);\r\n                  }\r\n                }\r\n              } catch {\r\n                console.log(\"upload profile pic\");\r\n              }\r\n            });\r\n          }\r\n        }\r\n\r\n        cropCanvasRefx.current.style.width = `${myCropWidth / hdcanvasvalue}px`;\r\n        cropCanvasRefx.current.style.height = `${\r\n          myCropHeight / hdcanvasvalue\r\n        }px`;\r\n      } else {\r\n        requestAnimationFrame(async () => {\r\n          draw(ctx, 0, 3, 0, crop.x);\r\n\r\n          try {\r\n            if (upl === 1) {\r\n              var data = cropCanvasRefx.current.toDataURL();\r\n              const res = await fetch(data);\r\n              const datax = await res.blob();\r\n              if (typex === \"Profile\") {\r\n                 var base64String = await blobToBase64(datax);\r\n                    postProfiledata(datax,base64String);\r\n              } else {\r\n                var base64String = await blobToBase64(datax);\r\n                postbillboardData(datax, base64String);\r\n              }\r\n            }\r\n          } catch {\r\n            console.log(\"upload profile pic\");\r\n          }\r\n        });\r\n\r\n        if (matchTabletMobile && widelongboxmobileimage) {\r\n          cropCanvasRefx.current.style.width = `${getCropWidthMobile}px`;\r\n          cropCanvasRefx.current.style.height = `${newcropCSSHeight}px`;\r\n        } else {\r\n          cropCanvasRefx.current.style.width = `${newcropCSSWidth}px`;\r\n          cropCanvasRefx.current.style.height = `${getCropHeightRealImageRatio}px`;\r\n        }\r\n      }\r\n    }\r\n  };\r\n\r\n  useLayoutEffect(() => {\r\n    drawcropper(0);\r\n  }, [\r\n    CropImageHolder,\r\n    BoxCropActivated,\r\n    OriginalImageWidth,\r\n    OriginalImageHeight,\r\n    widelongboxmobileimage,\r\n    myCropHeight,\r\n    crop,\r\n    zoom,\r\n  ]);\r\n\r\n  const done = () => {\r\n    drawcropper(1);\r\n  };\r\n\r\n  return (\r\n    <>\r\n      {showModalUploadProfile ? (\r\n        <DialogContent\r\n          className={darkmodeReducer ? \"dialog-container\" : \"dialog-container\"}\r\n          style={{\r\n            padding: \"0px\",\r\n            height: \"100vh\",\r\n            position: \"fixed\",\r\n            zIndex: 100,\r\n            cursor: \"default\",\r\n            overflow: \"hidden\",\r\n          }}\r\n        >\r\n          {superLoadFadex ? (\r\n            <>\r\n              <Grid\r\n                container\r\n                style={{\r\n                  backgroundColor: darkmodeReducer\r\n                    ? \"rgba(50,50,50,0.65)\"\r\n                    : \"rgba(250,250,250,0.65)\",\r\n                  position: \"fixed\",\r\n                  top: \"0px\",\r\n                  width: \"100%\",\r\n                  height: \"100%\",\r\n                  zIndex: 10,\r\n                }}\r\n              ></Grid>{\" \"}\r\n            </>\r\n          ) : null}\r\n\r\n          <animated.div ref={cropscrollRef} style={animation}>\r\n            <DialogContent\r\n              ref={cropTOPLEVELScrollRef}\r\n              className={\r\n                matchMobile || matchTablet\r\n                  ? darkmodeReducer\r\n                    ? \" dontallowhighlighting modal-containerDarkmob\"\r\n                    : \" dontallowhighlighting  modal-containerLightmob \"\r\n                  : darkmodeReducer\r\n                  ? \" dontallowhighlighting modal-containerDark  postscroll-dark \"\r\n                  : \" dontallowhighlighting  modal-containerLight  postscroll-light \"\r\n              }\r\n              style={{\r\n                padding: \"0px\",\r\n                height: \"100vh\",\r\n                overflow: \"hidden\",\r\n              }}\r\n            >\r\n              <Grid\r\n                container\r\n                style={{\r\n                  padding: \"0px\",\r\n                  bottom:\r\n                    typex === \"Profile\"\r\n                      ? \"13.6vh\"\r\n                      : WideImageCheck\r\n                      ? \"33vh\"\r\n                      : \"43vh\",\r\n                  margin: \"auto\",\r\n                  width: `100%`,\r\n                  height: \"0px\",\r\n                  position: \"absolute\",\r\n                  display: \"flex\",\r\n                  justifyContent: \"center\",\r\n                  alignItems: \"center\",\r\n                  alignContent: \"center\",\r\n                  zIndex: 5,\r\n                  alignSelf: \"center\",\r\n                }}\r\n              >\r\n                <Grid\r\n                  item\r\n                  xs={4}\r\n                  style={{\r\n                    padding: \"0px\",\r\n                    height: \"0px\",\r\n                    margin: \"auto\",\r\n                    display: \"grid\",\r\n                    alignItems: \"center\",\r\n                  }}\r\n                ></Grid>\r\n\r\n                <Grid\r\n                  item\r\n                  xs={12}\r\n                  style={{\r\n                    padding: \"0px\",\r\n                    height: \"0px\",\r\n                    margin: \"auto\",\r\n                    display: \"grid\",\r\n                    alignItems: \"center\",\r\n                  }}\r\n                >\r\n                  {optionscropshow ? (\r\n                    <CheckIcon\r\n                      onClick={done}\r\n                      className={\r\n                        darkmodeReducer\r\n                          ? \"make-small-icons-clickable-lightCrop turdark dontallowhighlighting zuperkingIcon \"\r\n                          : \"make-small-icons-clickable-darkCrop  turdark dontallowhighlighting zuperkingIcon  \"\r\n                      }\r\n                      style={{\r\n                        margin: \"auto\",\r\n\r\n                        fontSize: matchTabletMobile ? \"4.8vh\" : \"2.9vw\",\r\n                      }}\r\n                    />\r\n                  ) : null}\r\n                </Grid>\r\n\r\n                <Grid\r\n                  item\r\n                  xs={4}\r\n                  style={{\r\n                    padding: \"0px\",\r\n                    height: \"0px\",\r\n                    margin: \"auto\",\r\n                    display: \"grid\",\r\n                    alignItems: \"center\",\r\n                  }}\r\n                ></Grid>\r\n              </Grid>\r\n              <Grid container style={{ width: \"100%\" }}>\r\n                <canvas\r\n                  ref={cropCanvasRefx}\r\n                  style={{\r\n                    padding: \"0px\",\r\n                    margin: \"auto\",\r\n\r\n                    zIndex: 2,\r\n                  }}\r\n                />\r\n              </Grid>\r\n            </DialogContent>\r\n          </animated.div>\r\n        </DialogContent>\r\n      ) : null}\r\n\r\n      <Grid\r\n        container\r\n        style={{ height: \"100%\", position: \"fixed\", top: \"-800vh\" }}\r\n      >\r\n        <Grid\r\n          item\r\n          xs={12}\r\n          style={{\r\n            padding: \"0px\",\r\n          }}\r\n        >\r\n          <Grid\r\n            item\r\n            ref={getpreviewFixedWidthRef}\r\n            xs={5}\r\n            style={{\r\n              padding: \"0px\",\r\n            }}\r\n          ></Grid>\r\n\r\n          <Grid\r\n            item\r\n            ref={getFixedCropWidthRef}\r\n            xs={4}\r\n            style={{\r\n              padding: \"0px\",\r\n            }}\r\n          ></Grid>\r\n\r\n          <Grid\r\n            item\r\n            ref={getCropHeightRef}\r\n            xs={12}\r\n            style={{ height: \"92%\" }}\r\n          ></Grid>\r\n\r\n          <Grid\r\n            item\r\n            ref={getCropWidthMobileRef}\r\n            xs={12}\r\n            style={{ padding: \"0px\", width: \"100%\" }}\r\n          ></Grid>\r\n\r\n          <Grid\r\n            item\r\n            ref={getCropWidthMobileReflong}\r\n            xs={12}\r\n            style={{ padding: \"0px\", width: \"150%\" }}\r\n          ></Grid>\r\n\r\n          <Grid\r\n            item\r\n            ref={getCropWidthMobileRefHD}\r\n            style={{ padding: \"0px\", width: \"150%\" }}\r\n          ></Grid>\r\n\r\n          <Grid\r\n            item\r\n            ref={getCropHeightRefsingle}\r\n            xs={12}\r\n            style={{ height: \"100%\" }}\r\n          ></Grid>\r\n        </Grid>\r\n      </Grid>\r\n    </>\r\n  );\r\n}\r\n\r\nexport const UploadProfilePic = React.memo(UploadProfilePicx);\r\n"]},"metadata":{},"sourceType":"module"}