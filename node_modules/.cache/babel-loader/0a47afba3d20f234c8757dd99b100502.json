{"ast":null,"code":"import _objectSpread from\"C:/Users/oghen/OneDrive/Documents/ClikBate/Clikbate/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"C:/Users/oghen/OneDrive/Documents/ClikBate/Clikbate/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useRef,useEffect,useCallback}from\"react\";import{ArrowBillboard}from\"./ArrowBillboard\";import{matchPc}from\"../DetectDevice\";import{Grid}from\"@material-ui/core\";import{animated,useTransition}from\"react-spring\";import{useSelector}from\"react-redux\";import{DotsBillboard}from\"./DotsBillboard\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function SliderBillboardx(_ref){var slidesthumb=_ref.slidesthumb,slides=_ref.slides,billboardDynamicHeight=_ref.billboardDynamicHeight,ClickBillboardClose=_ref.ClickBillboardClose,ShowBillboard=_ref.ShowBillboard,billboardserverswitch=_ref.billboardserverswitch;var REACT_APP_APPX_STATE=process.env.REACT_APP_APPX_STATE;var allow4dev=\"\";var _useState=useState(0),_useState2=_slicedToArray(_useState,2),sliderIndex=_useState2[0],setSliderIndex=_useState2[1];var _useState3=useState(true),_useState4=_slicedToArray(_useState3,2),allowAutoPlay=_useState4[0],setAllowAutoPlay=_useState4[1];var _useState5=useState(2000),_useState6=_slicedToArray(_useState5,2),sliderDuration=_useState6[0],setsliderDuration=_useState6[1];var _useState7=useState(3000),_useState8=_slicedToArray(_useState7,1),autoSlideDuration=_useState8[0];/// const getWidth = () => window.innerWidth;\n///var newGetWidth = getWidth() * slides.length;\nvar handleTouchMoveTimer=useRef(null);var cancelAutoBillboardTimer=useRef(null);var changeBillboardAutoSlideDurationTimer=useRef(null);var autoPlayTimer=useRef(null);var SlideimageRef=useRef(null);var SlideimageRefthumb=useRef(null);var SlideRef=useRef(null);var _useState9=useState(0),_useState10=_slicedToArray(_useState9,2),imageHeight=_useState10[0],setImageHeight=_useState10[1];var _useState11=useState(null),_useState12=_slicedToArray(_useState11,2),touchPosition=_useState12[0],setTouchPosition=_useState12[1];///\n///\n///\n/// GET DARKMODE FROM REDUX STORE\nvar _useSelector=useSelector(function(state){return _objectSpread({},state.GlobalReducer);}),darkmode=_useSelector.darkmode;var darkmodeReducer=darkmode;///\n///\n///\n/// GET LOGGED USER DATA FROM REDUX STORE\nvar _useSelector2=useSelector(function(state){return _objectSpread({},state.UserdataReducer);}),billboard2=_useSelector2.billboard2,MemberProfileData=_useSelector2.MemberProfileData;var billboard2Reducer=billboard2;var MemberProfileDataReducer=MemberProfileData;///\n///\n///\n/// SPRING TRANSITION WITH INDEX\nvar transitions=useTransition(sliderIndex,{key:sliderIndex,from:{opacity:0},enter:{opacity:1},leave:{opacity:0},config:{duration:sliderDuration-50}});///\n///\n///\n/// PROVIDES DYNAMIC HEIGHT FOR SLIDER CONTENT FROM IMAGE\nvar sliderFirstImageOnLoad=function sliderFirstImageOnLoad(item){if(item===0){if(SlideimageRef.current&&SlideimageRef.current.clientHeight){setImageHeight(SlideimageRef.current.clientHeight);}}};///\n///\n///\n/// PROVIDES DYNAMIC HEIGHT FOR SLIDER CONTENT FROM IMAGE THUMBS IF IMAGE DOES NOT LOAD\nvar sliderFirstImageOnLoadthumb=function sliderFirstImageOnLoadthumb(item){if(item===0&&imageHeight===0){if(SlideimageRefthumb.current&&SlideimageRefthumb.current.clientHeight){setImageHeight(SlideimageRefthumb.current.clientHeight);}}};///\n///\n///\n/// HANDLE TOUCH START EVENT\nvar handleTouchStart=function handleTouchStart(e){////onMouseDown onMouseMove\n////touchDown = e.clientX\nvar touchDown=e.touches[0].clientX;setTouchPosition(touchDown);};///\n///\n///\n/// HANDLE TOUCH MOVE EVENT\nvar handleTouchMove=function handleTouchMove(e){if(handleTouchMoveTimer.current){clearTimeout(handleTouchMoveTimer.current);}handleTouchMoveTimer.current=setTimeout(function(){var touchDown=touchPosition;if(touchDown===null){return;}////currentTouch = e.clientX\nvar currentTouch=e.touches[0].clientX;var diff=touchDown-currentTouch;if(diff>40){nextSlide();}else if(diff<-40){prevSlide();}else{}setTouchPosition(null);return false;},200);return false;};///\n///\n///\n/// NEXT SLIDE\nvar nextSlide=function nextSlide(){if(autoPlayTimer.current){clearTimeout(autoPlayTimer.current);}///set((state) => (state + 1) % slides.length);\nif(sliderIndex===slides.length-1){setSliderIndex(function(sliderIndex){return 0;});}else{setSliderIndex(function(sliderIndex){return sliderIndex+1;});}};///\n///\n///\n/// PREV SLIDE\nvar prevSlide=function prevSlide(){if(autoPlayTimer.current){clearTimeout(autoPlayTimer.current);}if(sliderIndex===0){setSliderIndex(function(sliderIndex){return slides.length-1;});}else{setSliderIndex(function(sliderIndex){return sliderIndex-1;});}};///\n///\n///\n/// AUTO PLAY SLIDER DEPENDENT FUNCTION\nvar startSlider=function startSlider(){setAllowAutoPlay(false);autoPlayTimer.current=setInterval(function(){setSliderIndex(function(state){return(state+1)%slides.length;});},autoSlideDuration);};///\n///\n///\n/// AUTO PLAY SLIDER START\nvar SliderAutoPlay=function SliderAutoPlay(){if(allowAutoPlay){startSlider();}else{setAllowAutoPlay(true);if(autoPlayTimer.current){clearInterval(autoPlayTimer.current);}}};///\n///\n///\n/// UPDATE AUTO  PLAY  DURATION  AFTER INITIAL QUICK SLIDE\nvar callNewAutoBillboard=useCallback(function(){if(autoPlayTimer.current){clearInterval(autoPlayTimer.current);}autoPlayTimer.current=setInterval(function(){if(ShowBillboard){if(autoPlayTimer.current){clearInterval(autoPlayTimer.current);}}else{setSliderIndex(function(state){return(state+1)%slides.length;});}},12000);if(cancelAutoBillboardTimer.current){clearTimeout(cancelAutoBillboardTimer.current);}cancelAutoBillboardTimer.current=setTimeout(function(){if(autoPlayTimer.current){clearInterval(autoPlayTimer.current);}},240000);},[ShowBillboard,autoPlayTimer]);///\n///\n///START AUTOPLAY ON PAGE LOAD\nuseEffect(function(){var f;if(MemberProfileDataReducer===0){f=9000;}else{f=9000;}if(slides[1]){if(autoPlayTimer.current){clearInterval(autoPlayTimer.current);}SliderAutoPlay();changeBillboardAutoSlideDurationTimer.current=setTimeout(function(){setsliderDuration(2000);callNewAutoBillboard();},f);}},[slides,MemberProfileDataReducer]);useEffect(function(){if(slides[1]){setSliderIndex(function(state){return 1%slides.length;});}},[billboard2Reducer]);///\n///\n/// WATCH FOR CHANGE IN [ShowBillboard] AND USE THAT CONTROL SLIDER DURATION(ON VIEW) AND CLEAR AUTOPLAY TIMER\nuseEffect(function(){if(ShowBillboard){setsliderDuration(2000);if(autoPlayTimer.current){clearInterval(autoPlayTimer.current);}}else{}},[ShowBillboard]);useEffect(function(){if(SlideRef.current){SlideRef.current.scrollIntoView({behavior:\"smooth\",block:\"start\"});}},[SlideRef]);///\n///\n///  CHANGE [showBillboard == close]  EXTEND SLIDER DURATION(ON VIEW) AND  START AUTOPLAY\nvar ClickBillboardCloseStart=function ClickBillboardCloseStart(){ClickBillboardClose();setsliderDuration(2000);if(allowAutoPlay){}else{callNewAutoBillboard();}};///\n///\n///\n/// CHANGE SLIDER CONTENT USING  DOTS\nvar GotoDots=function GotoDots(clickedDot){setSliderIndex(function(sliderIndex){return clickedDot;});};///\n///\n///\nreturn/*#__PURE__*/_jsxs(Grid,{item:true,ref:SlideRef,onTouchStart:handleTouchStart,onTouchMove:handleTouchMove,xs:12,style:{position:\"relative\",height:\"\".concat(imageHeight,\"px\"),opacity:imageHeight===0?0:1},children:[slides[1]===null||slides[1]===\"\"?null:/*#__PURE__*/_jsx(ArrowBillboard,{ShowBillboard:ShowBillboard,direction:\"left\",clickSlideprev:prevSlide,clickSlidenext:nextSlide,imageHeight:imageHeight}),transitions(function(style,i){return/*#__PURE__*/_jsxs(Grid,{xs:12,item:true,children:[/*#__PURE__*/_jsx(animated.img,{ref:SlideimageRef,onClick:ClickBillboardCloseStart,onLoad:function onLoad(){sliderFirstImageOnLoad(i);},style:_objectSpread(_objectSpread({},style),{},{cursor:\"pointer\",width:\"100%\",objectFit:\"cover\",position:\"absolute\",height:billboardDynamicHeight,borderRadius:\"0px\",borderBottomLeftRadius:ShowBillboard?\"0px\":matchPc?\"7px\":\"0px\",borderBottomRightRadius:ShowBillboard?\"0px\":matchPc?\"7px\":\"0px\",left:\"0\",zIndex:1,filter:\"blur(0px)\"}),src:slidesthumb[i]}),/*#__PURE__*/_jsx(animated.img,{ref:SlideimageRef,onClick:ClickBillboardCloseStart,onLoad:function onLoad(){sliderFirstImageOnLoad(i);},style:_objectSpread(_objectSpread({},style),{},{cursor:\"pointer\",width:\"100%\",objectFit:\"cover\",position:\"absolute\",height:billboardDynamicHeight,borderRadius:\"0px\",borderBottomLeftRadius:ShowBillboard?\"0px\":matchPc?\"20px\":\"0px\",borderBottomRightRadius:ShowBillboard?\"0px\":matchPc?\"20px\":\"0px\",left:\"0\",zIndex:2}),src:slides[i]})]},i);}),\" \",slides[1]===null||slides[1]===\"\"?null:/*#__PURE__*/_jsx(DotsBillboard,{ShowBillboard:ShowBillboard,GotoDots:GotoDots,slides:slides,activeSlide:sliderIndex})]});}export var SliderBillboard=/*#__PURE__*/React.memo(SliderBillboardx);","map":{"version":3,"sources":["C:/Users/oghen/OneDrive/Documents/ClikBate/Clikbate/src/profile/SliderBillboard.tsx"],"names":["React","useState","useRef","useEffect","useCallback","ArrowBillboard","matchPc","Grid","animated","useTransition","useSelector","DotsBillboard","SliderBillboardx","slidesthumb","slides","billboardDynamicHeight","ClickBillboardClose","ShowBillboard","billboardserverswitch","REACT_APP_APPX_STATE","process","env","allow4dev","sliderIndex","setSliderIndex","allowAutoPlay","setAllowAutoPlay","sliderDuration","setsliderDuration","autoSlideDuration","handleTouchMoveTimer","cancelAutoBillboardTimer","changeBillboardAutoSlideDurationTimer","autoPlayTimer","SlideimageRef","SlideimageRefthumb","SlideRef","imageHeight","setImageHeight","touchPosition","setTouchPosition","state","GlobalReducer","darkmode","darkmodeReducer","UserdataReducer","billboard2","MemberProfileData","billboard2Reducer","MemberProfileDataReducer","transitions","key","from","opacity","enter","leave","config","duration","sliderFirstImageOnLoad","item","current","clientHeight","sliderFirstImageOnLoadthumb","handleTouchStart","e","touchDown","touches","clientX","handleTouchMove","clearTimeout","setTimeout","currentTouch","diff","nextSlide","prevSlide","length","startSlider","setInterval","SliderAutoPlay","clearInterval","callNewAutoBillboard","f","scrollIntoView","behavior","block","ClickBillboardCloseStart","GotoDots","clickedDot","position","height","style","i","cursor","width","objectFit","borderRadius","borderBottomLeftRadius","borderBottomRightRadius","left","zIndex","filter","SliderBillboard","memo"],"mappings":"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","sourcesContent":["import React, { useState, useRef, useEffect, useCallback } from \"react\";\r\nimport { ArrowBillboard } from \"./ArrowBillboard\";\r\nimport { matchPc } from \"../DetectDevice\";\r\nimport { Grid } from \"@material-ui/core\";\r\nimport { animated, useTransition } from \"react-spring\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { DotsBillboard } from \"./DotsBillboard\";\r\n\r\nfunction SliderBillboardx({\r\n  slidesthumb,\r\n  slides,\r\n  billboardDynamicHeight,\r\n  ClickBillboardClose,\r\n  ShowBillboard,\r\n  billboardserverswitch,\r\n}: any): JSX.Element {\r\n  const { REACT_APP_APPX_STATE } = process.env;\r\n\r\n  var allow4dev = \"\";\r\n\r\n  const [sliderIndex, setSliderIndex] = useState(0);\r\n\r\n  const [allowAutoPlay, setAllowAutoPlay] = useState(true);\r\n\r\n  const [sliderDuration, setsliderDuration] = useState(2000);\r\n  const [autoSlideDuration] = useState(3000);\r\n\r\n  /// const getWidth = () => window.innerWidth;\r\n  ///var newGetWidth = getWidth() * slides.length;\r\n\r\n  const handleTouchMoveTimer = useRef<ReturnType<typeof setTimeout> | null>(\r\n    null\r\n  );\r\n\r\n  const cancelAutoBillboardTimer = useRef<ReturnType<typeof setTimeout> | null>(\r\n    null\r\n  );\r\n\r\n  const changeBillboardAutoSlideDurationTimer = useRef<ReturnType<\r\n    typeof setTimeout\r\n  > | null>(null);\r\n\r\n  const autoPlayTimer = useRef<ReturnType<typeof setInterval> | null>(null);\r\n\r\n  const SlideimageRef = useRef<HTMLImageElement>(null);\r\n  const SlideimageRefthumb = useRef<HTMLImageElement>(null);\r\n  const SlideRef = useRef<HTMLDivElement>(null);\r\n\r\n  const [imageHeight, setImageHeight] = useState(0);\r\n  const [touchPosition, setTouchPosition] = useState(null);\r\n\r\n  ///\r\n  ///\r\n  ///\r\n  /// GET DARKMODE FROM REDUX STORE\r\n  interface RootStateGlobalReducer {\r\n    GlobalReducer: {\r\n      darkmode: boolean;\r\n    };\r\n  }\r\n  const { darkmode } = useSelector((state: RootStateGlobalReducer) => ({\r\n    ...state.GlobalReducer,\r\n  }));\r\n  const darkmodeReducer = darkmode;\r\n\r\n  ///\r\n  ///\r\n  ///\r\n  /// GET LOGGED USER DATA FROM REDUX STORE\r\n  interface RootStateReducerImage {\r\n    UserdataReducer: {\r\n      billboard2: string;\r\n      MemberProfileData: any;\r\n    };\r\n  }\r\n  const { billboard2, MemberProfileData } = useSelector(\r\n    (state: RootStateReducerImage) => ({\r\n      ...state.UserdataReducer,\r\n    })\r\n  );\r\n\r\n  const billboard2Reducer = billboard2;\r\n\r\n  const MemberProfileDataReducer = MemberProfileData;\r\n\r\n  ///\r\n  ///\r\n  ///\r\n  /// SPRING TRANSITION WITH INDEX\r\n  const transitions = useTransition(sliderIndex, {\r\n    key: sliderIndex,\r\n    from: { opacity: 0 },\r\n    enter: { opacity: 1 },\r\n    leave: { opacity: 0 },\r\n    config: { duration: sliderDuration - 50 },\r\n  });\r\n\r\n  ///\r\n  ///\r\n  ///\r\n  /// PROVIDES DYNAMIC HEIGHT FOR SLIDER CONTENT FROM IMAGE\r\n  const sliderFirstImageOnLoad = (item: number) => {\r\n    if (item === 0) {\r\n      if (SlideimageRef.current && SlideimageRef.current.clientHeight) {\r\n        setImageHeight(SlideimageRef.current.clientHeight);\r\n      }\r\n    }\r\n  };\r\n\r\n  ///\r\n  ///\r\n  ///\r\n  /// PROVIDES DYNAMIC HEIGHT FOR SLIDER CONTENT FROM IMAGE THUMBS IF IMAGE DOES NOT LOAD\r\n  const sliderFirstImageOnLoadthumb = (item: number) => {\r\n    if (item === 0 && imageHeight === 0) {\r\n      if (\r\n        SlideimageRefthumb.current &&\r\n        SlideimageRefthumb.current.clientHeight\r\n      ) {\r\n        setImageHeight(SlideimageRefthumb.current.clientHeight);\r\n      }\r\n    }\r\n  };\r\n\r\n  ///\r\n  ///\r\n  ///\r\n  /// HANDLE TOUCH START EVENT\r\n  const handleTouchStart = (e: any) => {\r\n    ////onMouseDown onMouseMove\r\n    ////touchDown = e.clientX\r\n    const touchDown = e.touches[0].clientX;\r\n    setTouchPosition(touchDown);\r\n  };\r\n\r\n  ///\r\n  ///\r\n  ///\r\n  /// HANDLE TOUCH MOVE EVENT\r\n  const handleTouchMove = (e: any) => {\r\n    if (handleTouchMoveTimer.current) {\r\n      clearTimeout(handleTouchMoveTimer.current);\r\n    }\r\n    handleTouchMoveTimer.current = setTimeout(function () {\r\n      const touchDown = touchPosition;\r\n\r\n      if (touchDown === null) {\r\n        return;\r\n      }\r\n      ////currentTouch = e.clientX\r\n      const currentTouch = e.touches[0].clientX;\r\n      const diff = touchDown - currentTouch;\r\n\r\n      if (diff > 40) {\r\n        nextSlide();\r\n      } else if (diff < -40) {\r\n        prevSlide();\r\n      } else {\r\n      }\r\n\r\n      setTouchPosition(null);\r\n      return false;\r\n    }, 200);\r\n\r\n    return false;\r\n  };\r\n\r\n  ///\r\n  ///\r\n  ///\r\n  /// NEXT SLIDE\r\n  const nextSlide = () => {\r\n    if (autoPlayTimer.current) {\r\n      clearTimeout(autoPlayTimer.current);\r\n    }\r\n\r\n    ///set((state) => (state + 1) % slides.length);\r\n    if (sliderIndex === slides.length - 1) {\r\n      setSliderIndex((sliderIndex) => 0);\r\n    } else {\r\n      setSliderIndex((sliderIndex) => sliderIndex + 1);\r\n    }\r\n  };\r\n\r\n  ///\r\n  ///\r\n  ///\r\n  /// PREV SLIDE\r\n  const prevSlide = () => {\r\n    if (autoPlayTimer.current) {\r\n      clearTimeout(autoPlayTimer.current);\r\n    }\r\n\r\n    if (sliderIndex === 0) {\r\n      setSliderIndex((sliderIndex) => slides.length - 1);\r\n    } else {\r\n      setSliderIndex((sliderIndex) => sliderIndex - 1);\r\n    }\r\n  };\r\n\r\n  ///\r\n  ///\r\n  ///\r\n  /// AUTO PLAY SLIDER DEPENDENT FUNCTION\r\n  const startSlider = () => {\r\n    setAllowAutoPlay(false);\r\n\r\n    autoPlayTimer.current = setInterval(function () {\r\n      setSliderIndex((state) => (state + 1) % slides.length);\r\n    }, autoSlideDuration);\r\n  };\r\n\r\n  ///\r\n  ///\r\n  ///\r\n  /// AUTO PLAY SLIDER START\r\n  const SliderAutoPlay = () => {\r\n    if (allowAutoPlay) {\r\n      startSlider();\r\n    } else {\r\n      setAllowAutoPlay(true);\r\n\r\n      if (autoPlayTimer.current) {\r\n        clearInterval(autoPlayTimer.current);\r\n      }\r\n    }\r\n  };\r\n\r\n  ///\r\n  ///\r\n  ///\r\n  /// UPDATE AUTO  PLAY  DURATION  AFTER INITIAL QUICK SLIDE\r\n\r\n  const callNewAutoBillboard = useCallback(() => {\r\n    if (autoPlayTimer.current) {\r\n      clearInterval(autoPlayTimer.current);\r\n    }\r\n    autoPlayTimer.current = setInterval(function () {\r\n      if (ShowBillboard) {\r\n        if (autoPlayTimer.current) {\r\n          clearInterval(autoPlayTimer.current);\r\n        }\r\n      } else {\r\n        setSliderIndex((state) => (state + 1) % slides.length);\r\n      }\r\n    }, 12000);\r\n\r\n    if (cancelAutoBillboardTimer.current) {\r\n      clearTimeout(cancelAutoBillboardTimer.current);\r\n    }\r\n    cancelAutoBillboardTimer.current = setTimeout(function () {\r\n      if (autoPlayTimer.current) {\r\n        clearInterval(autoPlayTimer.current);\r\n      }\r\n    }, 240000);\r\n  }, [ShowBillboard, autoPlayTimer]);\r\n\r\n  ///\r\n  ///\r\n  ///START AUTOPLAY ON PAGE LOAD\r\n  useEffect(() => {\r\n    var f;\r\n    if (MemberProfileDataReducer === 0) {\r\n      f = 9000;\r\n    } else {\r\n      f = 9000;\r\n    }\r\n    if (slides[1]) {\r\n      if (autoPlayTimer.current) {\r\n        clearInterval(autoPlayTimer.current);\r\n      }\r\n\r\n      SliderAutoPlay();\r\n      changeBillboardAutoSlideDurationTimer.current = setTimeout(function () {\r\n        setsliderDuration(2000);\r\n        callNewAutoBillboard();\r\n      }, f);\r\n    }\r\n  }, [slides, MemberProfileDataReducer]);\r\n\r\n  useEffect(() => {\r\n    if (slides[1]) {\r\n      setSliderIndex((state) => 1 % slides.length);\r\n    }\r\n  }, [billboard2Reducer]);\r\n\r\n  ///\r\n  ///\r\n  /// WATCH FOR CHANGE IN [ShowBillboard] AND USE THAT CONTROL SLIDER DURATION(ON VIEW) AND CLEAR AUTOPLAY TIMER\r\n  useEffect(() => {\r\n    if (ShowBillboard) {\r\n      setsliderDuration(2000);\r\n      if (autoPlayTimer.current) {\r\n        clearInterval(autoPlayTimer.current);\r\n      }\r\n    } else {\r\n    }\r\n  }, [ShowBillboard]);\r\n\r\n  useEffect(() => {\r\n    if (SlideRef.current) {\r\n      SlideRef.current.scrollIntoView({\r\n        behavior: \"smooth\",\r\n        block: \"start\",\r\n      });\r\n    }\r\n  }, [SlideRef]);\r\n\r\n  ///\r\n  ///\r\n  ///  CHANGE [showBillboard == close]  EXTEND SLIDER DURATION(ON VIEW) AND  START AUTOPLAY\r\n  const ClickBillboardCloseStart = () => {\r\n    ClickBillboardClose();\r\n    setsliderDuration(2000);\r\n    if (allowAutoPlay) {\r\n    } else {\r\n      callNewAutoBillboard();\r\n    }\r\n  };\r\n\r\n  ///\r\n  ///\r\n  ///\r\n  /// CHANGE SLIDER CONTENT USING  DOTS\r\n  const GotoDots = (clickedDot: number) => {\r\n    setSliderIndex((sliderIndex) => clickedDot);\r\n  };\r\n\r\n  ///\r\n  ///\r\n  ///\r\n  return (\r\n    <Grid\r\n      item\r\n      ref={SlideRef}\r\n      onTouchStart={handleTouchStart}\r\n      onTouchMove={handleTouchMove}\r\n      xs={12}\r\n      style={{\r\n        position: \"relative\",\r\n        height: `${imageHeight}px`,\r\n        opacity: imageHeight === 0 ? 0 : 1,\r\n      }}\r\n    >\r\n      {slides[1] === null || slides[1] === \"\" ? null : (\r\n        <ArrowBillboard\r\n          ShowBillboard={ShowBillboard}\r\n          direction=\"left\"\r\n          clickSlideprev={prevSlide}\r\n          clickSlidenext={nextSlide}\r\n          imageHeight={imageHeight}\r\n        />\r\n      )}\r\n      {transitions((style, i) => (\r\n        <Grid key={i} xs={12} item>\r\n          <animated.img\r\n            ref={SlideimageRef}\r\n            onClick={ClickBillboardCloseStart}\r\n            onLoad={() => {\r\n              sliderFirstImageOnLoad(i);\r\n            }}\r\n            style={{\r\n              ...style,\r\n              cursor: \"pointer\",\r\n              width: \"100%\",\r\n              objectFit: \"cover\",\r\n              position: \"absolute\",\r\n              height: billboardDynamicHeight,\r\n              borderRadius: \"0px\",\r\n              borderBottomLeftRadius: ShowBillboard\r\n                ? \"0px\"\r\n                : matchPc\r\n                  ? \"7px\"\r\n                  : \"0px\",\r\n              borderBottomRightRadius: ShowBillboard\r\n                ? \"0px\"\r\n                : matchPc\r\n                  ? \"7px\"\r\n                  : \"0px\",\r\n              left: \"0\",\r\n              zIndex: 1,\r\n              filter: \"blur(0px)\",\r\n            }}\r\n            src={slidesthumb[i]}\r\n          />\r\n          <animated.img\r\n            ref={SlideimageRef}\r\n            onClick={ClickBillboardCloseStart}\r\n            onLoad={() => {\r\n              sliderFirstImageOnLoad(i);\r\n            }}\r\n            style={{\r\n              ...style,\r\n              cursor: \"pointer\",\r\n              width: \"100%\",\r\n              objectFit: \"cover\",\r\n              position: \"absolute\",\r\n              height: billboardDynamicHeight,\r\n              borderRadius: \"0px\",\r\n              borderBottomLeftRadius: ShowBillboard\r\n                ? \"0px\"\r\n                : matchPc\r\n                  ? \"20px\"\r\n                  : \"0px\",\r\n              borderBottomRightRadius: ShowBillboard\r\n                ? \"0px\"\r\n                : matchPc\r\n                  ? \"20px\"\r\n                  : \"0px\",\r\n              left: \"0\",\r\n              zIndex: 2,\r\n            }}\r\n            src={slides[i]}\r\n          />\r\n        </Grid>\r\n      ))}{\" \"}\r\n      {slides[1] === null || slides[1] === \"\" ? null : (\r\n        <DotsBillboard\r\n          ShowBillboard={ShowBillboard}\r\n          GotoDots={GotoDots}\r\n          slides={slides}\r\n          activeSlide={sliderIndex}\r\n        />\r\n      )}\r\n    </Grid>\r\n  );\r\n}\r\n\r\nexport const SliderBillboard = React.memo(SliderBillboardx);\r\n"]},"metadata":{},"sourceType":"module"}