{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\oghen\\\\OneDrive\\\\Documents\\\\ClikBate\\\\super\\\\src\\\\profile\\\\TaskbarText.tsx\",\n    _s = $RefreshSig$();\n\nimport React, { useRef, useCallback, useState, useLayoutEffect } from \"react\";\nimport { Grid } from \"@material-ui/core\";\nimport { useSelector } from \"react-redux\";\nimport LayersIcon from '@material-ui/icons/Layers';\nimport TextFieldsIcon from '@material-ui/icons/TextFields';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nfunction TaskbarTextx({\n  ShowText,\n  setShowText,\n  activeItem,\n  setactiveItem,\n  MainImageFiltersRef,\n  Dimensionx,\n  Originalray\n}) {\n  _s();\n\n  const TextCanvasRef = useRef(null);\n  const canvasRefdummy = useRef(null);\n  const [textContent, setTextContent] = useState('ClikBate'); ///\n  ///\n  ///\n  /// INTERFACE/TYPES FOR SCREENHEIGHT AND DARKMODE\n\n  ///\n  ///\n  ///\n  /// GET DARKMODE FROM REDUX STORE\n  const {\n    darkmode\n  } = useSelector(state => ({ ...state.GlobalReducer\n  }));\n  const darkmodeReducer = darkmode;\n  const [CropImageHolder, setCropImageHolder] = useState(null);\n  const [Wi, setWi] = useState(0);\n  const [ShowIcon, setShowIcon] = useState(false);\n  const [Dimension, setDimension] = useState(900);\n  const [imageHeight, setimageHeight] = useState(0);\n  const [imageWidth, setimageWidth] = useState(0);\n\n  const GiveImageSpecificDimensions = Newcropimage => {\n    let newWidth = Dimension;\n    let newHeight = Dimension;\n    const aspectRatio = Newcropimage.naturalWidth / Newcropimage.naturalHeight;\n\n    if (newWidth / newHeight > aspectRatio) {\n      newWidth = newHeight * aspectRatio;\n    } else {\n      newHeight = newWidth / aspectRatio;\n    }\n\n    setimageHeight(newHeight);\n    setimageWidth(newWidth);\n  };\n\n  useLayoutEffect(() => {\n    if (ShowText) {\n      setTimeout(() => {\n        const Newcropimage = new Image();\n        Newcropimage.src = Originalray[activeItem];\n\n        Newcropimage.onload = function () {\n          //////////////\n          setCropImageHolder(Newcropimage);\n        };\n      }, 300);\n    }\n  }, [Originalray, Dimension, ShowText, Dimensionx]);\n  const callCanvas = useCallback(() => {\n    if (CropImageHolder) {\n      const ctx = TextCanvasRef.current.getContext(\"2d\");\n      ctx.clearRect(0, 0, TextCanvasRef.current.width, TextCanvasRef.current.height);\n      const w = imageWidth;\n      const h = imageHeight;\n      TextCanvasRef.current.width = CropImageHolder.naturalWidth;\n      TextCanvasRef.current.height = CropImageHolder.naturalHeight; /// setProcessingRay(updatedProcessingRay);\n      ////////////////////////////////\n\n      requestAnimationFrame(async () => {\n        try {\n          ctx.drawImage(CropImageHolder, 0, 0); // Draw the text box\n          // Draw the text box\n\n          const textWidth = ctx.measureText(textContent).width;\n          const padding = 50;\n          const fontSize = 96; // Adjust the font size as desired\n\n          const rectWidth = textWidth + 2 * padding;\n          const rectHeight = fontSize + 2 * padding;\n          const rectX = (TextCanvasRef.current.width - rectWidth) / 2;\n          const rectY = TextCanvasRef.current.height - rectHeight - 20;\n          ctx.fillStyle = \"#555555\"; // Set the color of the square\n\n          ctx.fillRect(rectX, rectY, rectWidth, rectHeight); // Draw the text\n\n          ctx.font = `${fontSize}px Arial`; // Set the font size and family\n\n          ctx.fillStyle = 'white'; // Set the text color\n\n          ctx.textAlign = 'center'; // Set the text alignment\n\n          ctx.textBaseline = 'middle'; // Set the vertical alignment to middle\n\n          ctx.fillText(textContent, rectX + rectWidth / 2, rectY + rectHeight / 2);\n          const aspectRatio = TextCanvasRef.current.width / TextCanvasRef.current.height;\n          const screenWidth = window.innerWidth;\n          const screenHeight = window.innerHeight; // Calculate new dimensions while maintaining aspect ratio\n\n          let newWidth, newHeight;\n\n          if (screenWidth / screenHeight > aspectRatio) {\n            newHeight = screenHeight;\n            newWidth = newHeight * aspectRatio;\n          } else {\n            newWidth = screenWidth;\n            newHeight = newWidth / aspectRatio;\n          }\n\n          TextCanvasRef.current.style.width = `${newWidth}px`;\n          TextCanvasRef.current.style.height = `${newHeight}px`;\n          setWi(newWidth / 2.8);\n          setShowIcon(true);\n        } catch (e) {\n          ///alert(e);\n          console.log(e);\n        }\n      });\n    }\n  }, [CropImageHolder, TextCanvasRef, imageHeight, imageWidth]);\n  useLayoutEffect(() => {\n    callCanvas();\n  }, [CropImageHolder, MainImageFiltersRef, imageHeight, imageWidth]);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(Grid, {\n      container: true,\n      children: [/*#__PURE__*/_jsxDEV(Grid, {\n        onClick: () => {\n          setShowText(false);\n        },\n        item: true,\n        xs: 12,\n        style: {\n          height: '100vh',\n          width: '100%',\n          position: 'fixed',\n          top: '0vh',\n          zIndex: 9000,\n          backgroundColor: darkmodeReducer ? \"rgb(2,2,2,0.82)\" : \"rgb(255,255,255,0.8)\",\n          cursor: 'pointer'\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 225,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(LayersIcon, {\n        className: darkmodeReducer ? \"make-small-icons-clickable-darkab dontallowhighlighting zuperkingIcon \" : \"make-small-icons-clickable-lightab  dontallowhighlighting zuperkingIcon  \",\n        style: {\n          fontSize: '7vh',\n          color: '#ffffff',\n          borderRadius: '50%',\n          position: 'fixed',\n          top: '10vh',\n          left: '50%',\n          marginLeft: `${Wi}px`,\n          zIndex: 90019,\n          transition: \"transform 0.1s\",\n          cursor: 'pointer',\n          display: ShowIcon ? 'block' : 'none'\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 236,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(TextFieldsIcon, {\n        className: darkmodeReducer ? \"make-small-icons-clickable-darkab dontallowhighlighting zuperkingIcon \" : \"make-small-icons-clickable-lightab  dontallowhighlighting zuperkingIcon  \",\n        style: {\n          fontSize: '7vh',\n          color: '#ffffff',\n          borderRadius: '50%',\n          position: 'fixed',\n          top: '25vh',\n          left: '50%',\n          marginLeft: `${Wi}px`,\n          zIndex: 90019,\n          transition: \"transform 0.1s\",\n          cursor: 'pointer',\n          display: ShowIcon ? 'block' : 'none'\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 259,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        xs: 12,\n        style: {\n          position: 'fixed',\n          top: \"0vh\",\n          zIndex: 90009,\n          textAlign: 'center',\n          width: '100%',\n          height: '0px'\n        },\n        children: /*#__PURE__*/_jsxDEV(\"canvas\", {\n          ref: TextCanvasRef,\n          style: {\n            padding: \"0px\",\n            margin: \"auto\",\n            cursor: \"pointer\"\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 290,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 280,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 223,\n      columnNumber: 13\n    }, this)\n  }, void 0, false);\n}\n\n_s(TaskbarTextx, \"uz/WUJKHM8C+oDTpxmVgBtSqkTU=\", false, function () {\n  return [useSelector];\n});\n\n_c = TaskbarTextx;\nexport const TaskbarText = /*#__PURE__*/React.memo(TaskbarTextx);\n_c2 = TaskbarText;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"TaskbarTextx\");\n$RefreshReg$(_c2, \"TaskbarText\");","map":{"version":3,"sources":["C:/Users/oghen/OneDrive/Documents/ClikBate/super/src/profile/TaskbarText.tsx"],"names":["React","useRef","useCallback","useState","useLayoutEffect","Grid","useSelector","LayersIcon","TextFieldsIcon","TaskbarTextx","ShowText","setShowText","activeItem","setactiveItem","MainImageFiltersRef","Dimensionx","Originalray","TextCanvasRef","canvasRefdummy","textContent","setTextContent","darkmode","state","GlobalReducer","darkmodeReducer","CropImageHolder","setCropImageHolder","Wi","setWi","ShowIcon","setShowIcon","Dimension","setDimension","imageHeight","setimageHeight","imageWidth","setimageWidth","GiveImageSpecificDimensions","Newcropimage","newWidth","newHeight","aspectRatio","naturalWidth","naturalHeight","setTimeout","Image","src","onload","callCanvas","ctx","current","getContext","clearRect","width","height","w","h","requestAnimationFrame","drawImage","textWidth","measureText","padding","fontSize","rectWidth","rectHeight","rectX","rectY","fillStyle","fillRect","font","textAlign","textBaseline","fillText","screenWidth","window","innerWidth","screenHeight","innerHeight","style","e","console","log","position","top","zIndex","backgroundColor","cursor","color","borderRadius","left","marginLeft","transition","display","margin","TaskbarText","memo"],"mappings":"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","sourcesContent":["import React, {\r\n    useRef,\r\n    useEffect,\r\n    useCallback,\r\n    useState,\r\n    useLayoutEffect,\r\n} from \"react\";\r\nimport ControlPointDuplicateIcon from \"@mui/icons-material/ControlPointDuplicate\";\r\nimport { Grid, Switch, DialogContent } from \"@material-ui/core\";\r\nimport { matchPc, matchTablet, matchMobile } from \"../DetectDevice\";\r\nimport { useSpring, animated } from \"react-spring\";\r\nimport { OptionsSlider } from \"../profile/OptionsSlider\";\r\nimport { RootStateOrAny, useSelector, useDispatch } from \"react-redux\";\r\nimport Masonry from \"@mui/lab/Masonry\";\r\nimport Axios from \"axios\";\r\nimport CheckIcon from \"@mui/icons-material/Check\";\r\nimport date from \"date-and-time\";\r\nimport { UserInfoUpdatePROFILE } from \"../log/actions/UserdataAction\";\r\nimport { UserInfoUpdateBILLBOARD } from \"../log/actions/UserdataAction\";\r\nimport { usePalette } from \"react-palette\";\r\nimport { UpdateColorAction } from \"../GlobalActions\";\r\nimport EditTwoToneIcon from \"@mui/icons-material/EditTwoTone\";\r\nimport DoneOutlineIcon from '@mui/icons-material/DoneOutline';\r\nimport { UpdateUploadData } from \"../GlobalActions\";\r\nimport DoneIcon from '@mui/icons-material/Done';\r\nimport CheckCircleIcon from '@mui/icons-material/CheckCircle';\r\nimport CircleIcon from \"@mui/icons-material/Circle\";\r\nimport CropIcon from '@mui/icons-material/Crop';\r\nimport Slider from \"@material-ui/core/Slider\";\r\nimport { TaskbarCrop } from \"./TaskbarCrop\";\r\nimport set from \"date-fns/set/index.js\";\r\nimport TitleIcon from '@mui/icons-material/Title';\r\nimport TouchAppIcon from '@mui/icons-material/TouchApp';\r\nimport InsertPhotoIcon from '@material-ui/icons/InsertPhoto';\r\nimport RestoreIcon from '@material-ui/icons/Restore';\r\nimport LayersIcon from '@material-ui/icons/Layers';\r\nimport TextFieldsIcon from '@material-ui/icons/TextFields';\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nfunction TaskbarTextx({ ShowText, setShowText, activeItem, setactiveItem, MainImageFiltersRef, Dimensionx, Originalray }: any): JSX.Element {\r\n\r\n\r\n\r\n\r\n\r\n    const TextCanvasRef: any = useRef(null);\r\n\r\n    const canvasRefdummy: any = useRef(null);\r\n\r\n    const [textContent, setTextContent] = useState('ClikBate');\r\n\r\n\r\n    ///\r\n    ///\r\n    ///\r\n    /// INTERFACE/TYPES FOR SCREENHEIGHT AND DARKMODE\r\n    interface RootStateGlobalReducer {\r\n        GlobalReducer: {\r\n            darkmode: boolean;\r\n            screenHeight: number;\r\n        };\r\n    }\r\n\r\n    ///\r\n    ///\r\n    ///\r\n    /// GET DARKMODE FROM REDUX STORE\r\n    const { darkmode } = useSelector((state: RootStateGlobalReducer) => ({\r\n        ...state.GlobalReducer,\r\n    }));\r\n    const darkmodeReducer = darkmode;\r\n\r\n\r\n    const [CropImageHolder, setCropImageHolder] = useState<any>(null);\r\n\r\n    const [Wi, setWi] = useState(0)\r\n\r\n    const [ShowIcon, setShowIcon] = useState(false)\r\n\r\n\r\n    const [Dimension, setDimension] = useState<any>(900);\r\n\r\n    const [imageHeight, setimageHeight] = useState(0);\r\n    const [imageWidth, setimageWidth] = useState(0);\r\n\r\n    const GiveImageSpecificDimensions = (Newcropimage: any) => {\r\n\r\n        let newWidth = Dimension;\r\n        let newHeight = Dimension;\r\n        const aspectRatio = Newcropimage.naturalWidth / Newcropimage.naturalHeight;\r\n\r\n        if (newWidth / newHeight > aspectRatio) {\r\n            newWidth = newHeight * aspectRatio;\r\n        } else {\r\n            newHeight = newWidth / aspectRatio;\r\n        }\r\n\r\n\r\n        setimageHeight(newHeight);\r\n        setimageWidth(newWidth);\r\n    }\r\n\r\n\r\n    useLayoutEffect(() => {\r\n        if (ShowText) {\r\n\r\n            setTimeout(() => {\r\n\r\n                const Newcropimage: any = new Image();\r\n                Newcropimage.src = Originalray[activeItem];\r\n                Newcropimage.onload = function () {\r\n\r\n                    //////////////\r\n                    setCropImageHolder(Newcropimage);\r\n\r\n\r\n                }\r\n            }, 300)\r\n\r\n\r\n        }\r\n    }, [Originalray, Dimension, ShowText, Dimensionx]);\r\n\r\n\r\n\r\n    const callCanvas = useCallback(() => {\r\n        if (CropImageHolder) {\r\n\r\n            const ctx = TextCanvasRef.current.getContext(\"2d\");\r\n\r\n            ctx.clearRect(0, 0, TextCanvasRef.current.width, TextCanvasRef.current.height);\r\n\r\n            const w = imageWidth;\r\n            const h = imageHeight;\r\n\r\n            TextCanvasRef.current.width = CropImageHolder.naturalWidth;\r\n            TextCanvasRef.current.height = CropImageHolder.naturalHeight;\r\n\r\n\r\n            /// setProcessingRay(updatedProcessingRay);\r\n            ////////////////////////////////\r\n\r\n            requestAnimationFrame(async () => {\r\n                try {\r\n\r\n\r\n\r\n                    ctx.drawImage(CropImageHolder, 0, 0);\r\n\r\n                    // Draw the text box\r\n                    // Draw the text box\r\n                    const textWidth = ctx.measureText(textContent).width;\r\n                    const padding = 50;\r\n                    const fontSize = 96; // Adjust the font size as desired\r\n                    const rectWidth = textWidth + 2 * padding;\r\n                    const rectHeight = fontSize + 2 * padding;\r\n                    const rectX = (TextCanvasRef.current.width - rectWidth) / 2;\r\n                    const rectY = TextCanvasRef.current.height - rectHeight - 20;\r\n\r\n                    ctx.fillStyle = \"#555555\"; // Set the color of the square\r\n                    ctx.fillRect(rectX, rectY, rectWidth, rectHeight);\r\n\r\n                    // Draw the text\r\n                    ctx.font = `${fontSize}px Arial`; // Set the font size and family\r\n                    ctx.fillStyle = 'white'; // Set the text color\r\n                    ctx.textAlign = 'center'; // Set the text alignment\r\n                    ctx.textBaseline = 'middle'; // Set the vertical alignment to middle\r\n                    ctx.fillText(\r\n                        textContent,\r\n                        rectX + rectWidth / 2,\r\n                        rectY + rectHeight / 2\r\n                    );\r\n\r\n                    const aspectRatio = TextCanvasRef.current.width / TextCanvasRef.current.height;\r\n                    const screenWidth = window.innerWidth;\r\n                    const screenHeight = window.innerHeight;\r\n\r\n                    // Calculate new dimensions while maintaining aspect ratio\r\n                    let newWidth, newHeight;\r\n                    if (screenWidth / screenHeight > aspectRatio) {\r\n                        newHeight = screenHeight;\r\n                        newWidth = newHeight * aspectRatio;\r\n                    } else {\r\n                        newWidth = screenWidth;\r\n                        newHeight = newWidth / aspectRatio;\r\n                    }\r\n\r\n                    TextCanvasRef.current.style.width = `${newWidth}px`;\r\n                    TextCanvasRef.current.style.height = `${newHeight}px`;\r\n\r\n\r\n                    setWi(newWidth / 2.8);\r\n                    setShowIcon(true)\r\n                }\r\n                catch (e: any) {\r\n                    ///alert(e);\r\n                    console.log(e)\r\n                }\r\n            });\r\n\r\n        }\r\n    }, [CropImageHolder, TextCanvasRef, imageHeight, imageWidth])\r\n\r\n\r\n\r\n\r\n    useLayoutEffect(() => {\r\n        callCanvas();\r\n    }, [CropImageHolder, MainImageFiltersRef, imageHeight, imageWidth])\r\n\r\n\r\n\r\n\r\n\r\n    return (\r\n        <>\r\n            <Grid container>\r\n\r\n                <Grid onClick={() => { setShowText(false) }} item xs={12} style={{\r\n\r\n                    height: '100vh', width: '100%', position: 'fixed', top: '0vh', zIndex: 9000, backgroundColor: darkmodeReducer\r\n                        ? \"rgb(2,2,2,0.82)\"\r\n                        : \"rgb(255,255,255,0.8)\", cursor: 'pointer'\r\n                }}>\r\n\r\n\r\n\r\n                </Grid>\r\n\r\n                <LayersIcon\r\n                    className={\r\n                        darkmodeReducer\r\n                            ? \"make-small-icons-clickable-darkab dontallowhighlighting zuperkingIcon \"\r\n                            : \"make-small-icons-clickable-lightab  dontallowhighlighting zuperkingIcon  \"\r\n                    }\r\n                    style={{\r\n                        fontSize: '7vh',\r\n                        color: '#ffffff',\r\n                        borderRadius: '50%',\r\n                        position: 'fixed',\r\n                        top: '10vh',\r\n                        left: '50%',\r\n                        marginLeft: `${Wi}px`,\r\n                        zIndex: 90019,\r\n                        transition: \"transform 0.1s\",\r\n                        cursor: 'pointer',\r\n                        display: ShowIcon ? 'block' : 'none'\r\n\r\n                    }}\r\n                />\r\n\r\n\r\n                <TextFieldsIcon\r\n                    className={\r\n                        darkmodeReducer\r\n                            ? \"make-small-icons-clickable-darkab dontallowhighlighting zuperkingIcon \"\r\n                            : \"make-small-icons-clickable-lightab  dontallowhighlighting zuperkingIcon  \"\r\n                    }\r\n                    style={{\r\n                        fontSize: '7vh',\r\n                        color: '#ffffff',\r\n                        borderRadius: '50%',\r\n                        position: 'fixed',\r\n                        top: '25vh',\r\n                        left: '50%',\r\n                        marginLeft: `${Wi}px`,\r\n                        zIndex: 90019,\r\n                        transition: \"transform 0.1s\",\r\n                        cursor: 'pointer',\r\n                        display: ShowIcon ? 'block' : 'none'\r\n                    }}\r\n                />\r\n\r\n                <Grid item xs={12} style={{\r\n                    position: 'fixed',\r\n                    top: \"0vh\",\r\n                    zIndex: 90009,\r\n                    textAlign: 'center',\r\n                    width: '100%',\r\n                    height: '0px'\r\n\r\n                }}>\r\n\r\n                    <canvas\r\n                        ref={TextCanvasRef}\r\n                        style={{\r\n                            padding: \"0px\",\r\n                            margin: \"auto\",\r\n                            cursor: \"pointer\",\r\n\r\n\r\n                        }} />\r\n\r\n\r\n\r\n\r\n\r\n                </Grid>\r\n\r\n            </Grid >\r\n\r\n        </>\r\n    );\r\n}\r\n\r\nexport const TaskbarText = React.memo(TaskbarTextx);\r\n"]},"metadata":{},"sourceType":"module"}